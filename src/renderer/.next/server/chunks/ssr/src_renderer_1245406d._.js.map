{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/EditorProvider.tsx"],"sourcesContent":["'use client';\n\nimport React, { createContext, useContext, useRef, useCallback } from 'react';\nimport { Logger } from '../../../../shared/logger';\nimport { setupKoreanInputOptimization } from './MarkdownUtils';\nimport { getEditorOptions, getFocusModeOptions } from './EditorConfig';\n\ninterface EditorContextType {\n  editorRef: React.RefObject<any>;\n  initializeEditor: (editor: any) => void;\n  getEditorOptions: () => any;\n  getFocusModeOptions: () => any;\n}\n\nconst EditorContext = createContext<EditorContextType | null>(null);\n\nexport function useEditor(): EditorContextType {\n  const context = useContext(EditorContext);\n  if (!context) {\n    throw new Error('useEditor must be used within EditorProvider');\n  }\n  return context;\n}\n\ninterface EditorProviderProps {\n  children: React.ReactNode;\n}\n\nexport function EditorProvider({ children }: EditorProviderProps): React.ReactElement {\n  const editorRef = useRef<any>(null);\n\n  const initializeEditor = useCallback((editor: any) => {\n    if (!editor || !editor.codemirror) return;\n    \n    try {\n      Logger.debug('EDITOR', 'Initializing editor for Korean input optimization');\n      \n      // ğŸ”¥ í•œê¸€ ì…ë ¥ ìµœì í™” ì„¤ì •\n      setupKoreanInputOptimization(editor.codemirror);\n      \n      // ì—ë””í„° ì°¸ì¡° ì €ì¥\n      editorRef.current = editor;\n      \n      Logger.info('EDITOR', 'Editor initialized with Korean input optimization');\n    } catch (error) {\n      Logger.error('EDITOR', 'Failed to initialize editor', error);\n    }\n  }, []);\n\n  const contextValue: EditorContextType = {\n    editorRef,\n    initializeEditor,\n    getEditorOptions,\n    getFocusModeOptions\n  };\n\n  return (\n    <EditorContext.Provider value={contextValue}>\n      {children}\n    </EditorContext.Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;;;;;;;AAHA;;;;;;AAcA,MAAM,8BAAgB,CAAA,GAAA,sWAAA,CAAA,gBAAa,AAAD,EAA4B;AAEvD,SAAS;IACd,MAAM,UAAU,CAAA,GAAA,sWAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAMO,SAAS,eAAe,EAAE,QAAQ,EAAuB;IAC9D,MAAM,YAAY,CAAA,GAAA,sWAAA,CAAA,SAAM,AAAD,EAAO;IAE9B,MAAM,mBAAmB,CAAA,GAAA,sWAAA,CAAA,cAAW,AAAD,EAAE,CAAC;QACpC,IAAI,CAAC,UAAU,CAAC,OAAO,UAAU,EAAE;QAEnC,IAAI;YACF,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,UAAU;YAEvB,kBAAkB;YAClB,6BAA6B,OAAO,UAAU;YAE9C,YAAY;YACZ,UAAU,OAAO,GAAG;YAEpB,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,UAAU;QACxB,EAAE,OAAO,OAAO;YACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,UAAU,+BAA+B;QACxD;IACF,GAAG,EAAE;IAEL,MAAM,eAAkC;QACtC;QACA;QACA;QACA;IACF;IAEA,qBACE,+YAAC,cAAc,QAAQ;QAAC,OAAO;kBAC5B;;;;;;AAGP","debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/EditorShortcuts.ts"],"sourcesContent":["// ğŸ”¥ ê¸°ê°€ì°¨ë“œ ë…¸ì…˜ ìŠ¤íƒ€ì¼ ë‹¨ì¶•í‚¤ ì‹œìŠ¤í…œ\n'use client';\n\nimport { Editor } from '@tiptap/react';\nimport { Logger } from '../../../../shared/logger';\n\n// ğŸ”¥ í”Œë«í¼ë³„ modifier í‚¤ ê°ì§€\nconst isMac = typeof window !== 'undefined' && /Mac|iPod|iPhone|iPad/.test(navigator.platform);\nconst modifierKey = isMac ? 'metaKey' : 'ctrlKey';\n\n// ğŸ”¥ ë‹¨ì¶•í‚¤ ì •ì˜ (ë…¸ì…˜ ìŠ¤íƒ€ì¼)\nexport interface EditorShortcut {\n  key: string;\n  modifier: boolean;\n  shift?: boolean;\n  alt?: boolean;\n  action: (editor: Editor) => boolean;\n  description: string;\n}\n\n// ğŸ”¥ ê¸°ë³¸ í…ìŠ¤íŠ¸ í¬ë§·íŒ… ë‹¨ì¶•í‚¤\nexport const TEXT_FORMATTING_SHORTCUTS: EditorShortcut[] = [\n  {\n    key: 'b',\n    modifier: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleBold().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Bold toggled');\n      return true;\n    },\n    description: 'ë³¼ë“œ í† ê¸€'\n  },\n  {\n    key: 'i',\n    modifier: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleItalic().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Italic toggled');\n      return true;\n    },\n    description: 'ì´íƒ¤ë¦­ í† ê¸€'\n  },\n  {\n    key: 'u',\n    modifier: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleUnderline().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Underline toggled');\n      return true;\n    },\n    description: 'ì–¸ë”ë¼ì¸ í† ê¸€'\n  },\n  {\n    key: 's',\n    modifier: true,\n    shift: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleStrike().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Strikethrough toggled');\n      return true;\n    },\n    description: 'ì·¨ì†Œì„  í† ê¸€'\n  },\n  {\n    key: 'k',\n    modifier: true,\n    action: (editor: Editor) => {\n      // ğŸ”¥ ë§í¬ ìƒì„± (ì¶”í›„ êµ¬í˜„)\n      Logger.debug('EDITOR_SHORTCUTS', 'Link shortcut triggered');\n      return true;\n    },\n    description: 'ë§í¬ ìƒì„±'\n  }\n];\n\n// ğŸ”¥ í—¤ë”© ë‹¨ì¶•í‚¤\nexport const HEADING_SHORTCUTS: EditorShortcut[] = [\n  {\n    key: '1',\n    modifier: true,\n    alt: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleHeading({ level: 1 }).run();\n      Logger.debug('EDITOR_SHORTCUTS', 'H1 toggled');\n      return true;\n    },\n    description: 'ì œëª© 1'\n  },\n  {\n    key: '2',\n    modifier: true,\n    alt: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleHeading({ level: 2 }).run();\n      Logger.debug('EDITOR_SHORTCUTS', 'H2 toggled');\n      return true;\n    },\n    description: 'ì œëª© 2'\n  },\n  {\n    key: '3',\n    modifier: true,\n    alt: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleHeading({ level: 3 }).run();\n      Logger.debug('EDITOR_SHORTCUTS', 'H3 toggled');\n      return true;\n    },\n    description: 'ì œëª© 3'\n  },\n  {\n    key: '0',\n    modifier: true,\n    alt: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().setParagraph().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Paragraph set');\n      return true;\n    },\n    description: 'ì¼ë°˜ í…ìŠ¤íŠ¸'\n  }\n];\n\n// ğŸ”¥ ë¦¬ìŠ¤íŠ¸ ë‹¨ì¶•í‚¤\nexport const LIST_SHORTCUTS: EditorShortcut[] = [\n  {\n    key: '8',\n    modifier: true,\n    shift: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleBulletList().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Bullet list toggled');\n      return true;\n    },\n    description: 'ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸'\n  },\n  {\n    key: '7',\n    modifier: true,\n    shift: true,\n    action: (editor: Editor) => {\n      editor.chain().focus().toggleOrderedList().run();\n      Logger.debug('EDITOR_SHORTCUTS', 'Ordered list toggled');\n      return true;\n    },\n    description: 'ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸'\n  }\n];\n\n// ğŸ”¥ ì €ì¥ ë‹¨ì¶•í‚¤\nexport const SAVE_SHORTCUTS: EditorShortcut[] = [\n  {\n    key: 's',\n    modifier: true,\n    action: (editor: Editor) => {\n      // ğŸ”¥ ì €ì¥ ì´ë²¤íŠ¸ ë°œìƒ (ì»¤ìŠ¤í…€ ì´ë²¤íŠ¸)\n      const saveEvent = new CustomEvent('editor:save');\n      window.dispatchEvent(saveEvent);\n      Logger.info('EDITOR_SHORTCUTS', 'Save triggered');\n      return true;\n    },\n    description: 'ì €ì¥'\n  }\n];\n\n// ğŸ”¥ ëª¨ë“  ë‹¨ì¶•í‚¤ í†µí•©\nexport const ALL_SHORTCUTS: EditorShortcut[] = [\n  ...TEXT_FORMATTING_SHORTCUTS,\n  ...HEADING_SHORTCUTS,\n  ...LIST_SHORTCUTS,\n  ...SAVE_SHORTCUTS\n];\n\n// ğŸ”¥ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬\nexport function handleEditorKeyDown(editor: Editor | null, event: KeyboardEvent): boolean {\n  if (!editor) return false;\n\n  const { key, ctrlKey, metaKey, shiftKey, altKey } = event;\n  const isModifier = isMac ? metaKey : ctrlKey;\n\n  // ğŸ”¥ Space í‚¤ëŠ” ë§ˆí¬ë‹¤ìš´ ì²˜ë¦¬ë¥¼ ìœ„í•´ ì™„ì „ ì œì™¸\n  if (key === ' ') {\n    return false;\n  }\n\n  // ğŸ”¥ ë§ˆí¬ë‹¤ìš´ íƒ€ì´í•‘ ë°©í•´ ë°©ì§€: modifier í‚¤ê°€ ì—†ëŠ” ë‹¨ì¼ ë¬¸ìëŠ” ì²˜ë¦¬í•˜ì§€ ì•ŠìŒ\n  if (!isModifier && !shiftKey && !altKey && key.length === 1) {\n    return false;\n  }\n\n  // ğŸ”¥ ë‹¨ì¶•í‚¤ ë§¤ì¹­ ë° ì‹¤í–‰\n  for (const shortcut of ALL_SHORTCUTS) {\n    if (\n      shortcut.key.toLowerCase() === key.toLowerCase() &&\n      Boolean(shortcut.modifier) === isModifier &&\n      Boolean(shortcut.shift) === shiftKey &&\n      Boolean(shortcut.alt) === altKey\n    ) {\n      event.preventDefault();\n      event.stopPropagation();\n      \n      try {\n        const handled = shortcut.action(editor);\n        if (handled) {\n          Logger.debug('EDITOR_SHORTCUTS', `Shortcut executed: ${shortcut.description}`, {\n            key: shortcut.key,\n            modifier: isModifier,\n            shift: shiftKey,\n            alt: altKey\n          });\n          return true;\n        }\n      } catch (error) {\n        Logger.error('EDITOR_SHORTCUTS', `Shortcut execution failed: ${shortcut.description}`, error);\n      }\n    }\n  }\n\n  return false;\n}\n\n// ğŸ”¥ ë‹¨ì¶•í‚¤ ë„ì›€ë§ ìƒì„±\nexport function getShortcutHelp(): string {\n  const isMacPlatform = isMac;\n  const mod = isMacPlatform ? 'âŒ˜' : 'Ctrl';\n  const alt = isMacPlatform ? 'âŒ¥' : 'Alt';\n  \n  return `\nğŸ“ **í…ìŠ¤íŠ¸ í¬ë§·íŒ…**\nâ€¢ ${mod}+B: ë³¼ë“œ\nâ€¢ ${mod}+I: ì´íƒ¤ë¦­  \nâ€¢ ${mod}+U: ì–¸ë”ë¼ì¸\nâ€¢ ${mod}+Shift+S: ì·¨ì†Œì„ \nâ€¢ ${mod}+K: ë§í¬\n\nğŸ“„ **í—¤ë”©**\nâ€¢ ${mod}+${alt}+1: ì œëª© 1\nâ€¢ ${mod}+${alt}+2: ì œëª© 2\nâ€¢ ${mod}+${alt}+3: ì œëª© 3\nâ€¢ ${mod}+${alt}+0: ì¼ë°˜ í…ìŠ¤íŠ¸\n\nğŸ“‹ **ë¦¬ìŠ¤íŠ¸**\nâ€¢ ${mod}+Shift+8: ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸\nâ€¢ ${mod}+Shift+7: ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸\n\nğŸ’¾ **ì €ì¥**\nâ€¢ ${mod}+S: ì €ì¥\n`.trim();\n}\n\n// ğŸ”¥ ì—ë””í„°ì— ë‹¨ì¶•í‚¤ ì‹œìŠ¤í…œ ë°”ì¸ë”© (ì „ì—­ ë¦¬ìŠ¤ë„ˆ ì œê±°)\nexport function bindShortcutsToEditor(editor: Editor | null): () => void {\n  if (!editor) return () => {};\n\n  // ğŸ”¥ ì „ì—­ ë¦¬ìŠ¤ë„ˆ ë“±ë¡í•˜ì§€ ì•ŠìŒ - TipTap ë‚´ë¶€ handleKeyDownë§Œ ì‚¬ìš©\n  Logger.info('EDITOR_SHORTCUTS', 'Shortcuts system initialized', {\n    shortcutCount: ALL_SHORTCUTS.length,\n    platform: isMac ? 'macOS' : 'Windows/Linux'\n  });\n\n  // ğŸ”¥ ì •ë¦¬ í•¨ìˆ˜ ë°˜í™˜ (ì‹¤ì œë¡œëŠ” ì•„ë¬´ê²ƒë„ ì•ˆ í•¨)\n  return () => {\n    Logger.debug('EDITOR_SHORTCUTS', 'Shortcuts system cleaned up');\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/ShortcutHelp.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { HelpCircle, X as XIcon } from 'lucide-react';\nimport { getShortcutHelp } from './EditorShortcuts';\n\n// ğŸ”¥ ë‹¨ì¶•í‚¤ ë„ì›€ë§ ìŠ¤íƒ€ì¼\nconst HELP_STYLES = {\n  trigger: 'fixed bottom-4 right-4 z-50 w-12 h-12 bg-blue-600 hover:bg-blue-700 text-white rounded-full flex items-center justify-center shadow-lg transition-colors cursor-pointer',\n  modal: 'fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50',\n  panel: 'bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full mx-4 max-h-[80vh] overflow-hidden',\n  header: 'flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700',\n  title: 'text-xl font-bold text-slate-900 dark:text-slate-100',\n  closeButton: 'w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors',\n  content: 'p-6 overflow-y-auto',\n  helpText: 'prose prose-slate dark:prose-invert max-w-none text-sm',\n} as const;\n\ninterface ShortcutHelpProps {\n  className?: string;\n}\n\nexport function ShortcutHelp({ className = '' }: ShortcutHelpProps): React.ReactElement {\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n\n  const handleToggle = (): void => {\n    setIsOpen(prev => !prev);\n  };\n\n  const handleClose = (): void => {\n    setIsOpen(false);\n  };\n\n  const handleBackdropClick = (event: React.MouseEvent): void => {\n    if (event.target === event.currentTarget) {\n      handleClose();\n    }\n  };\n\n  // ğŸ”¥ Escape í‚¤ë¡œ ë‹«ê¸° ë° F1 í‚¤ë¡œ ì—´ê¸°\n  React.useEffect(() => {\n    const handleEscape = (event: KeyboardEvent): void => {\n      if (event.key === 'Escape' && isOpen) {\n        handleClose();\n      }\n    };\n\n    const handleHelpShortcut = (): void => {\n      setIsOpen(prev => !prev);\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    window.addEventListener('shortcut:help', handleHelpShortcut);\n    \n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      window.removeEventListener('shortcut:help', handleHelpShortcut);\n    };\n  }, [isOpen]);\n\n  return (\n    <>\n      {/* ğŸ”¥ ë„ì›€ë§ íŠ¸ë¦¬ê±° ë²„íŠ¼ */}\n      <button\n        className={`${HELP_STYLES.trigger} ${className}`}\n        onClick={handleToggle}\n        title=\"ë‹¨ì¶•í‚¤ ë„ì›€ë§ (F1)\"\n        aria-label=\"ë‹¨ì¶•í‚¤ ë„ì›€ë§\"\n      >\n        <HelpCircle size={24} />\n      </button>\n\n      {/* ğŸ”¥ ë„ì›€ë§ ëª¨ë‹¬ */}\n      {isOpen && (\n        <div className={HELP_STYLES.modal} onClick={handleBackdropClick}>\n          <div className={HELP_STYLES.panel}>\n            {/* ğŸ”¥ í—¤ë” */}\n            <div className={HELP_STYLES.header}>\n              <h2 className={HELP_STYLES.title}>í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤</h2>\n              <button\n                className={HELP_STYLES.closeButton}\n                onClick={handleClose}\n                aria-label=\"ë‹«ê¸°\"\n              >\n                <XIcon size={20} />\n              </button>\n            </div>\n\n            {/* ğŸ”¥ ë„ì›€ë§ ë‚´ìš© */}\n            <div className={HELP_STYLES.content}>\n              <div className={HELP_STYLES.helpText}>\n                <div dangerouslySetInnerHTML={{ \n                  __html: getShortcutHelp().replace(/\\n/g, '<br>').replace(/\\*\\*(.*?)\\*\\*/g, '<strong>$1</strong>') \n                }} />\n                \n                <div className=\"mt-6 pt-4 border-t border-slate-200 dark:border-slate-700\">\n                  <h3 className=\"font-bold text-slate-900 dark:text-slate-100 mb-2\">ğŸ“– ë§ˆí¬ë‹¤ìš´ ë‹¨ì¶•í‚¤</h3>\n                  <div className=\"space-y-1 text-sm\">\n                    <div><code className=\"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded\"># ìŠ¤í˜ì´ìŠ¤</code> â†’ ì œëª© 1</div>\n                    <div><code className=\"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded\">## ìŠ¤í˜ì´ìŠ¤</code> â†’ ì œëª© 2</div>\n                    <div><code className=\"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded\">### ìŠ¤í˜ì´ìŠ¤</code> â†’ ì œëª© 3</div>\n                    <div><code className=\"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded\">- ìŠ¤í˜ì´ìŠ¤</code> â†’ ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸</div>\n                    <div><code className=\"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded\">1. ìŠ¤í˜ì´ìŠ¤</code> â†’ ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸</div>\n                  </div>\n                </div>\n\n                <div className=\"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg\">\n                  <p className=\"text-sm text-blue-800 dark:text-blue-200\">\n                    <strong>ğŸ’¡ íŒ:</strong> í…ìŠ¤íŠ¸ë¥¼ ì„ íƒí•˜ê³  ë‹¨ì¶•í‚¤ë¥¼ ëˆ„ë¥´ë©´ ì„ íƒëœ í…ìŠ¤íŠ¸ì— í¬ë§·ì´ ì ìš©ë©ë‹ˆë‹¤.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AAJA;;;;;AAMA,iBAAiB;AACjB,MAAM,cAAc;IAClB,SAAS;IACT,OAAO;IACP,OAAO;IACP,QAAQ;IACR,OAAO;IACP,aAAa;IACb,SAAS;IACT,UAAU;AACZ;AAMO,SAAS,aAAa,EAAE,YAAY,EAAE,EAAqB;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EAAW;IAE9C,MAAM,eAAe;QACnB,UAAU,CAAA,OAAQ,CAAC;IACrB;IAEA,MAAM,cAAc;QAClB,UAAU;IACZ;IAEA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,MAAM,MAAM,KAAK,MAAM,aAAa,EAAE;YACxC;QACF;IACF;IAEA,6BAA6B;IAC7B,sWAAA,CAAA,UAAK,CAAC,SAAS,CAAC;QACd,MAAM,eAAe,CAAC;YACpB,IAAI,MAAM,GAAG,KAAK,YAAY,QAAQ;gBACpC;YACF;QACF;QAEA,MAAM,qBAAqB;YACzB,UAAU,CAAA,OAAQ,CAAC;QACrB;QAEA,SAAS,gBAAgB,CAAC,WAAW;QACrC,OAAO,gBAAgB,CAAC,iBAAiB;QAEzC,OAAO;YACL,SAAS,mBAAmB,CAAC,WAAW;YACxC,OAAO,mBAAmB,CAAC,iBAAiB;QAC9C;IACF,GAAG;QAAC;KAAO;IAEX,qBACE;;0BAEE,+YAAC;gBACC,WAAW,GAAG,YAAY,OAAO,CAAC,CAAC,EAAE,WAAW;gBAChD,SAAS;gBACT,OAAM;gBACN,cAAW;0BAEX,cAAA,+YAAC,uSAAA,CAAA,aAAU;oBAAC,MAAM;;;;;;;;;;;YAInB,wBACC,+YAAC;gBAAI,WAAW,YAAY,KAAK;gBAAE,SAAS;0BAC1C,cAAA,+YAAC;oBAAI,WAAW,YAAY,KAAK;;sCAE/B,+YAAC;4BAAI,WAAW,YAAY,MAAM;;8CAChC,+YAAC;oCAAG,WAAW,YAAY,KAAK;8CAAE;;;;;;8CAClC,+YAAC;oCACC,WAAW,YAAY,WAAW;oCAClC,SAAS;oCACT,cAAW;8CAEX,cAAA,+YAAC,iRAAA,CAAA,IAAK;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAKjB,+YAAC;4BAAI,WAAW,YAAY,OAAO;sCACjC,cAAA,+YAAC;gCAAI,WAAW,YAAY,QAAQ;;kDAClC,+YAAC;wCAAI,yBAAyB;4CAC5B,QAAQ,CAAA,GAAA,sKAAA,CAAA,kBAAe,AAAD,IAAI,OAAO,CAAC,OAAO,QAAQ,OAAO,CAAC,kBAAkB;wCAC7E;;;;;;kDAEA,+YAAC;wCAAI,WAAU;;0DACb,+YAAC;gDAAG,WAAU;0DAAoD;;;;;;0DAClE,+YAAC;gDAAI,WAAU;;kEACb,+YAAC;;0EAAI,+YAAC;gEAAK,WAAU;0EAAmD;;;;;;4DAAa;;;;;;;kEACrF,+YAAC;;0EAAI,+YAAC;gEAAK,WAAU;0EAAmD;;;;;;4DAAc;;;;;;;kEACtF,+YAAC;;0EAAI,+YAAC;gEAAK,WAAU;0EAAmD;;;;;;4DAAe;;;;;;;kEACvF,+YAAC;;0EAAI,+YAAC;gEAAK,WAAU;0EAAmD;;;;;;4DAAa;;;;;;;kEACrF,+YAAC;;0EAAI,+YAAC;gEAAK,WAAU;0EAAmD;;;;;;4DAAc;;;;;;;;;;;;;;;;;;;kDAI1F,+YAAC;wCAAI,WAAU;kDACb,cAAA,+YAAC;4CAAE,WAAU;;8DACX,+YAAC;8DAAO;;;;;;gDAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU1C","debugId":null}},
    {"offset": {"line": 613, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/components/WriterSidebar.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { \n  Edit3, \n  FileText, \n  Users, \n  BookOpen, \n  TrendingUp,\n  Circle,\n  CheckCircle,\n  Plus,\n  MoreHorizontal\n} from 'lucide-react';\nimport { ProjectCharacter, ProjectStructure } from '../../../../shared/types';\nimport { WriterStats } from '../editor/WriterStats';\n\ninterface WriterSidebarProps {\n  currentView: string;\n  onViewChange: (view: string) => void;\n  structure: ProjectStructure[];\n  characters: ProjectCharacter[];\n  stats: WriterStats;\n  collapsed: boolean;\n}\n\n// ğŸ”¥ ê¸°ê°€ì°¨ë“œ ê°„ì†Œí™”ëœ ì‚¬ì´ë“œë°” ìŠ¤íƒ€ì¼\nconst SIDEBAR_STYLES = {\n  // ê¸°ë³¸ ì»¨í…Œì´ë„ˆ (ìŠ¤í¬ë¡¤ë°” ë¬¸ì œ í•´ê²°)\n  container: 'flex flex-col bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 h-full',\n  collapsed: 'w-12',\n  expanded: 'w-64',\n  \n  // ğŸ”¥ ì–‡ì€ ìŠ¤í¬ë¡¤ë°” ì ìš© ì˜ì—­\n  scrollArea: 'flex-1 overflow-y-auto overflow-x-hidden custom-scrollbar',\n  \n  // ğŸ”¥ ë©”ë‰´ ì„¹ì…˜ ê°„ì†Œí™”\n  menuSection: 'p-3 space-y-1',\n  menuItem: 'flex items-center gap-3 px-3 py-2 text-sm font-medium transition-colors duration-200 cursor-pointer rounded-md',\n  menuItemActive: 'bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300',\n  menuItemInactive: 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700',\n  \n  // ğŸ”¥ ì„¹ì…˜ í—¤ë” ê°„ì†Œí™”\n  sectionHeader: 'text-xs font-semibold text-gray-500 dark:text-gray-400 mb-2 px-3',\n  \n  // ğŸ”¥ êµ¬ì¡° ì•„ì´í…œ ê°„ì†Œí™”\n  structureList: 'space-y-1 px-3',\n  structureItem: 'flex items-center gap-2 py-1.5 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors',\n  \n  // ğŸ”¥ í†µê³„ ì˜ì—­ ê°„ì†Œí™”\n  statsSection: 'p-3 border-t border-gray-200 dark:border-gray-700',\n  statItem: 'flex justify-between items-center py-1 text-sm',\n  statLabel: 'text-gray-600 dark:text-gray-400',\n  statValue: 'font-medium text-gray-900 dark:text-gray-100',\n} as const;\n\n// ğŸ”¥ ë©”ë‰´ ì•„ì´í…œ ì •ì˜ (í•µì‹¬ ê¸°ëŠ¥ë§Œ)\nconst MENU_ITEMS = [\n  { id: 'write', label: 'ê¸€ì“°ê¸°', icon: Edit3 },\n  { id: 'structure', label: 'êµ¬ì¡°', icon: FileText },\n  { id: 'characters', label: 'ì¸ë¬¼', icon: Users },\n  { id: 'notes', label: 'ë©”ëª¨', icon: BookOpen },\n];\n\nexport function WriterSidebar({\n  currentView,\n  onViewChange,\n  structure,\n  characters,\n  stats,\n  collapsed\n}: WriterSidebarProps): React.ReactElement {\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['structure']));\n  \n  const toggleSection = (sectionId: string): void => {\n    const newExpanded = new Set(expandedSections);\n    if (newExpanded.has(sectionId)) {\n      newExpanded.delete(sectionId);\n    } else {\n      newExpanded.add(sectionId);\n    }\n    setExpandedSections(newExpanded);\n  };\n\n  // ğŸ”¥ ì¶•ì†Œ ëª¨ë“œì—ì„œëŠ” ì•„ì´ì½˜ë§Œ í‘œì‹œ\n  if (collapsed) {\n    return (\n      <div className={`${SIDEBAR_STYLES.container} ${SIDEBAR_STYLES.collapsed}`}>\n        <div className={SIDEBAR_STYLES.menuSection}>\n          {MENU_ITEMS.map((item) => (\n            <button\n              key={item.id}\n              onClick={() => onViewChange(item.id)}\n              className={`w-8 h-8 flex items-center justify-center rounded-md transition-colors ${\n                currentView === item.id \n                  ? 'bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300' \n                  : 'text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700'\n              }`}\n              title={item.label}\n            >\n              <item.icon size={16} />\n            </button>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`${SIDEBAR_STYLES.container} ${SIDEBAR_STYLES.expanded}`}>\n      {/* ğŸ”¥ ë©”ì¸ ë©”ë‰´ */}\n      <div className={SIDEBAR_STYLES.menuSection}>\n        {MENU_ITEMS.map((item) => (\n          <button\n            key={item.id}\n            onClick={() => onViewChange(item.id)}\n            className={`${SIDEBAR_STYLES.menuItem} ${\n              currentView === item.id ? SIDEBAR_STYLES.menuItemActive : SIDEBAR_STYLES.menuItemInactive\n            }`}\n          >\n            <item.icon size={16} />\n            <span>{item.label}</span>\n          </button>\n        ))}\n      </div>\n\n      {/* ğŸ”¥ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì»¨í…ì¸  ì˜ì—­ - ë·°ë³„ ë‚´ìš© í‘œì‹œ */}\n      <div className={SIDEBAR_STYLES.scrollArea}>\n        {/* ğŸ”¥ í˜„ì¬ ë·°ì— ë”°ë¥¸ ì»¨í…ì¸  í‘œì‹œ */}\n        {currentView === 'write' && (\n          <>\n            {/* ğŸ”¥ í”„ë¡œì íŠ¸ êµ¬ì¡° */}\n            <div className=\"p-3\">\n              <h3 className={SIDEBAR_STYLES.sectionHeader}>í”„ë¡œì íŠ¸ êµ¬ì¡°</h3>\n              <div className={SIDEBAR_STYLES.structureList}>\n                {structure.map((item, index) => (\n                  <div key={item.id} className={SIDEBAR_STYLES.structureItem}>\n                    <Circle size={12} className=\"text-blue-500\" />\n                    <span className=\"flex-1\">{`${index + 1}ì¥: ${item.title}`}</span>\n                    <span className=\"text-xs text-gray-400\">{item.status}</span>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* ğŸ”¥ ê°„ë‹¨í•œ ê¸€ì“°ê¸° í†µê³„ */}\n            <div className={SIDEBAR_STYLES.statsSection}>\n              <h3 className={SIDEBAR_STYLES.sectionHeader}>ê¸€ì“°ê¸° í†µê³„</h3>\n              <div className=\"space-y-2\">\n                <div className={SIDEBAR_STYLES.statItem}>\n                  <span className={SIDEBAR_STYLES.statLabel}>ë‹¨ì–´</span>\n                  <span className={SIDEBAR_STYLES.statValue}>{stats.wordCount}</span>\n                </div>\n                <div className={SIDEBAR_STYLES.statItem}>\n                  <span className={SIDEBAR_STYLES.statLabel}>ë¬¸ì</span>\n                  <span className={SIDEBAR_STYLES.statValue}>{stats.charCount}</span>\n                </div>\n                <div className={SIDEBAR_STYLES.statItem}>\n                  <span className={SIDEBAR_STYLES.statLabel}>ì§„í–‰ë¥ </span>\n                  <span className={SIDEBAR_STYLES.statValue}>{stats.progress}%</span>\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n\n        {/* ğŸ”¥ êµ¬ì¡° ë·° */}\n        {currentView === 'structure' && (\n          <div className=\"p-3\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className={SIDEBAR_STYLES.sectionHeader}>êµ¬ì¡° ê´€ë¦¬</h3>\n              <button className=\"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\">\n                <Plus size={16} />\n              </button>\n            </div>\n            <div className={SIDEBAR_STYLES.structureList}>\n              {structure.map((item, index) => (\n                <div key={item.id} className={`${SIDEBAR_STYLES.structureItem} justify-between`}>\n                  <div className=\"flex items-center gap-2\">\n                    <Circle size={12} className=\"text-blue-500\" />\n                    <span className=\"flex-1\">{`${index + 1}ì¥: ${item.title}`}</span>\n                  </div>\n                  <div className=\"flex items-center gap-1\">\n                    <span className=\"text-xs text-gray-400\">{item.status}</span>\n                    <button className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\n                      <MoreHorizontal size={12} />\n                    </button>\n                  </div>\n                </div>\n              ))}\n              {structure.length === 0 && (\n                <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n                  <FileText size={32} className=\"mx-auto mb-2 opacity-50\" />\n                  <p className=\"text-sm\">êµ¬ì¡°ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* ğŸ”¥ ì¸ë¬¼ ë·° */}\n        {currentView === 'characters' && (\n          <div className=\"p-3\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className={SIDEBAR_STYLES.sectionHeader}>ì¸ë¬¼ ê´€ë¦¬</h3>\n              <button className=\"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\">\n                <Plus size={16} />\n              </button>\n            </div>\n            <div className=\"space-y-2\">\n              {characters.map((character) => (\n                <div key={character.id} className={`${SIDEBAR_STYLES.structureItem} justify-between`}>\n                  <div className=\"flex items-center gap-2\">\n                    <div className=\"w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white text-xs font-medium\">\n                      {character.name.charAt(0)}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"font-medium text-sm\">{character.name}</div>\n                      {character.role && (\n                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">{character.role}</div>\n                      )}\n                    </div>\n                  </div>\n                  <button className=\"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300\">\n                    <MoreHorizontal size={12} />\n                  </button>\n                </div>\n              ))}\n              {characters.length === 0 && (\n                <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n                  <Users size={32} className=\"mx-auto mb-2 opacity-50\" />\n                  <p className=\"text-sm\">ì¸ë¬¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš”</p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* ğŸ”¥ ë©”ëª¨ ë·° */}\n        {currentView === 'notes' && (\n          <div className=\"p-3\">\n            <div className=\"flex items-center justify-between mb-4\">\n              <h3 className={SIDEBAR_STYLES.sectionHeader}>ë©”ëª¨ ê´€ë¦¬</h3>\n              <button className=\"text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300\">\n                <Plus size={16} />\n              </button>\n            </div>\n            <div className=\"space-y-2\">\n              {/* ğŸ”¥ ì„ì‹œ ë©”ëª¨ ë°ì´í„° (ë‚˜ì¤‘ì— ì‹¤ì œ ë°ì´í„°ë¡œ êµì²´) */}\n              <div className=\"text-center py-8 text-gray-500 dark:text-gray-400\">\n                <BookOpen size={32} className=\"mx-auto mb-2 opacity-50\" />\n                <p className=\"text-sm\">ë©”ëª¨ë¥¼ ì¶”ê°€í•´ë³´ì„¸ìš”</p>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1293, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/components/ProjectHeader.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect } from 'react';\nimport { \n  ChevronLeft,\n  Save,\n  Share2,\n  Download,\n  Trash2,\n  Sidebar,\n  Eye,\n  EyeOff,\n  MessageCircle,\n  Sun,\n  Moon,\n  Copy,\n  FileDown,\n  Maximize2,\n  Focus\n} from 'lucide-react';\nimport { Logger } from '../../../../shared/logger';\n\n// ğŸ”¥ í”„ë¦¬ì»´íŒŒì¼ëœ ìŠ¤íƒ€ì¼ (ê¸°ê°€ì°¨ë“œ ì›ì¹™)\nconst PROJECT_HEADER_STYLES = {\n  header: 'flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 transition-colors duration-200',\n  headerLeft: 'flex items-center gap-3',\n  headerCenter: 'flex-1 max-w-md mx-auto',\n  headerRight: 'flex items-center gap-2 relative',\n  \n  backButton: 'flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors',\n  titleInput: 'border-none bg-transparent focus:outline-none focus:ring-0 text-lg font-medium w-full placeholder:text-gray-400 dark:placeholder:text-gray-500 text-gray-900 dark:text-gray-100',\n  iconButton: 'flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400 relative group',\n  iconButtonActive: 'flex items-center justify-center w-9 h-9 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 relative group',\n  \n  // íˆ´íŒ ìŠ¤íƒ€ì¼\n  tooltip: 'absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50',\n  tooltipWithShortcut: 'absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-3 py-2 bg-gray-900 dark:bg-gray-700 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50',\n  shortcut: 'block text-gray-400 text-xs mt-1',\n  \n  // ìŠ¬ë¼ì´ë“œë°” ìŠ¤íƒ€ì¼\n  slidebar: 'fixed top-0 right-0 h-full w-80 bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 shadow-xl transform transition-transform duration-300 ease-in-out z-40',\n  slidebarOpen: 'translate-x-0',\n  slidebarClosed: 'translate-x-full',\n  slidebarHeader: 'flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700',\n  slidebarTitle: 'text-lg font-semibold text-gray-900 dark:text-gray-100',\n  slidebarContent: 'p-4 overflow-y-auto h-full',\n  slidebarOverlay: 'fixed inset-0 bg-black/50 z-30',\n} as const;\n\n// ğŸ”¥ HeaderAction íƒ€ì… ì •ì˜\ninterface HeaderAction {\n  icon: React.ComponentType<{ size?: number }>;\n  label: string;\n  shortcut?: string;\n  onClick: () => void;\n  isActive?: boolean;\n}\n\n// ìŠ¬ë¼ì´ë“œë°” íƒ€ì… (í…Œë§ˆ ì œê±°)\ntype SlidebarType = 'ai' | null;\n\ninterface ProjectHeaderProps {\n  title: string;\n  onTitleChange: (title: string) => void;\n  onBack: () => void;\n  \n  // ğŸ”¥ ì‚¬ì´ë“œë°” ì»¨íŠ¸ë¡¤\n  sidebarCollapsed: boolean;\n  onToggleSidebar: () => void;\n  \n  // ğŸ”¥ í¬ì»¤ìŠ¤ ëª¨ë“œ ì»¨íŠ¸ë¡¤\n  isFocusMode: boolean;\n  onToggleFocusMode: () => void;\n  \n  // ğŸ”¥ í”„ë¡œì íŠ¸ ì•¡ì…˜ë“¤\n  onSave: () => void;\n  onShare: () => void;\n  onDownload: () => void;\n  onDelete: () => void;\n}\n\nexport function ProjectHeader({\n  title,\n  onTitleChange,\n  onBack,\n  sidebarCollapsed,\n  onToggleSidebar,\n  isFocusMode,\n  onToggleFocusMode,\n  onSave,\n  onShare,\n  onDownload,\n  onDelete\n}: ProjectHeaderProps): React.ReactElement {\n  \n  const [activeSlideBar, setActiveSlideBar] = useState<SlidebarType>(null);\n  const [isDarkMode, setIsDarkMode] = useState<boolean>(\n    document.documentElement.classList.contains('dark')\n  );\n  \n  // ğŸ”¥ ìŠ¬ë¼ì´ë“œë°” í† ê¸€ í•¨ìˆ˜\n  const toggleSlideBar = (type: SlidebarType): void => {\n    setActiveSlideBar(activeSlideBar === type ? null : type);\n  };\n  \n  // ğŸ”¥ í…Œë§ˆ ì›í´ë¦­ í† ê¸€\n  const toggleTheme = (): void => {\n    const newDarkMode = !isDarkMode;\n    setIsDarkMode(newDarkMode);\n    \n    if (newDarkMode) {\n      document.documentElement.classList.add('dark');\n      localStorage.setItem('theme', 'dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n      localStorage.setItem('theme', 'light');\n    }\n    \n    Logger.info('PROJECT_HEADER', `Theme changed to ${newDarkMode ? 'dark' : 'light'}`);\n  };\n\n  // ğŸ”¥ ì—ë””í„° ë‚´ìš© ë³µì‚¬ (QA ê°€ì´ë“œ: ì—ë””í„° ë‚´ìš© ë³µì‚¬ êµ¬í˜„)\n  const copyContent = async (): Promise<void> => {\n    try {\n      // ì—ë””í„°ì—ì„œ í…ìŠ¤íŠ¸ ë‚´ìš© ê°€ì ¸ì˜¤ê¸° ìœ„í•œ ì´ë²¤íŠ¸ ë°œìƒ\n      const copyEvent = new CustomEvent('project:copyContent', {\n        detail: { \n          callback: async (content: string) => {\n            try {\n              await navigator.clipboard.writeText(content);\n              Logger.info('PROJECT_HEADER', 'Editor content copied to clipboard', { \n                length: content.length \n              });\n            } catch (error) {\n              Logger.error('PROJECT_HEADER', 'Failed to copy content', error);\n            }\n          }\n        }\n      });\n      window.dispatchEvent(copyEvent);\n      \n      Logger.info('PROJECT_HEADER', 'Copy content event dispatched');\n    } catch (error) {\n      Logger.error('PROJECT_HEADER', 'Failed to copy content', error);\n    }\n  };\n\n  // ğŸ”¥ AI ê¸°ëŠ¥ í™œì„±í™” (ìŠ¬ë¼ì´ë“œë°” í† ê¸€)\n  const triggerAI = (): void => {\n    setActiveSlideBar(activeSlideBar === 'ai' ? null : 'ai');\n    Logger.info('PROJECT_HEADER', 'AI sidebar toggled');\n  };\n  \n  // ğŸ”¥ ì§‘ì¤‘ëª¨ë“œ í† ê¸€ (ì—ë””í„°ë§Œ í‘œì‹œ) - í†µí•©ëœ ë‹¨ì¼ í•¨ìˆ˜\n  const handleFocusMode = (): void => {\n    onToggleFocusMode(); // Propsë¡œ ì „ë‹¬ëœ í•¨ìˆ˜ ì‚¬ìš©\n    Logger.info('PROJECT_HEADER', 'Focus mode toggled');\n  };\n\n  // ğŸ”¥ í—¤ë” ì•¡ì…˜ ì •ì˜ (CRUD + ë³µì‚¬, ê³µìœ  ê°œì„ )\n  const headerActions: HeaderAction[] = [\n    { icon: Save, label: 'ì €ì¥', shortcut: 'Cmd+S', onClick: onSave },\n    { icon: Copy, label: 'ë³µì‚¬', shortcut: 'Cmd+C', onClick: copyContent },\n    { icon: Share2, label: 'ê³µìœ ', shortcut: 'Cmd+Shift+S', onClick: onShare },\n    { icon: FileDown, label: 'ë‚´ë³´ë‚´ê¸°', shortcut: 'Cmd+E', onClick: onDownload },\n    { icon: Trash2, label: 'ì‚­ì œ', shortcut: 'Cmd+Del', onClick: onDelete },\n  ];\n\n  // ğŸ”¥ íˆ´ë°” í™•ì¥ ì•¡ì…˜ë“¤ (AI ì±„íŒ…, í…Œë§ˆ ì›í´ë¦­, ì§‘ì¤‘ëª¨ë“œ)\n  const toolbarActions: HeaderAction[] = [\n    { icon: Copy, label: 'ì½˜í…ì¸  ë³µì‚¬', shortcut: 'Cmd+C', onClick: copyContent },\n    { icon: Maximize2, label: 'ì§‘ì¤‘ëª¨ë“œ', shortcut: 'ESCë¡œ í•´ì œ', onClick: handleFocusMode },\n    { icon: MessageCircle, label: 'AI ì±„íŒ…', onClick: triggerAI },\n    { \n      icon: isDarkMode ? Sun : Moon, \n      label: isDarkMode ? 'ë¼ì´íŠ¸ ëª¨ë“œë¡œ ë³€ê²½' : 'ë‹¤í¬ ëª¨ë“œë¡œ ë³€ê²½', \n      onClick: toggleTheme \n    },\n  ];\n\n  return (\n    <> \n      <div className={PROJECT_HEADER_STYLES.header}>\n        {/* ğŸ”¥ ì™¼ìª½: ë’¤ë¡œê°€ê¸° + ë„¤ë¹„ê²Œì´ì…˜ */}\n        <div className={PROJECT_HEADER_STYLES.headerLeft}>\n          <button \n            className={PROJECT_HEADER_STYLES.backButton}\n            onClick={onBack}\n          >\n            <ChevronLeft size={16} />\n            <span>í”„ë¡œì íŠ¸ ëª©ë¡</span>\n          </button>\n        </div>\n\n        {/* ğŸ”¥ ì¤‘ì•™: í”„ë¡œì íŠ¸ ì œëª© */}\n        <div className={PROJECT_HEADER_STYLES.headerCenter}>\n          <input\n            type=\"text\"\n            value={title}\n            onChange={(e) => onTitleChange(e.target.value)}\n            placeholder=\"í”„ë¡œì íŠ¸ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”\"\n            className={PROJECT_HEADER_STYLES.titleInput}\n          />\n        </div>\n\n        {/* ğŸ”¥ ì˜¤ë¥¸ìª½: ì•¡ì…˜ ë²„íŠ¼ë“¤ */}\n        <div className={PROJECT_HEADER_STYLES.headerRight}>\n          {/* í”„ë¡œì íŠ¸ ì•¡ì…˜ë“¤ */}\n          {headerActions.map((action, index) => (\n            <button\n              key={`action-${index}`}\n              className={`${PROJECT_HEADER_STYLES.iconButton} group`}\n              onClick={action.onClick}\n            >\n              <action.icon size={16} />\n              <div className={PROJECT_HEADER_STYLES.tooltipWithShortcut}>\n                <div>{action.label}</div>\n                {action.shortcut && <div className={PROJECT_HEADER_STYLES.shortcut}>{action.shortcut}</div>}\n              </div>\n            </button>\n          ))}\n          \n          {/* êµ¬ë¶„ì„  */}\n          <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\" />\n          \n          {/* íˆ´ë°” í™•ì¥ ì•¡ì…˜ë“¤ */}\n          {toolbarActions.map((action, index) => (\n            <button\n              key={`toolbar-${index}`}\n              className={`${PROJECT_HEADER_STYLES.iconButton} group`}\n              onClick={action.onClick}\n            >\n              <action.icon size={16} />\n              <div className={PROJECT_HEADER_STYLES.tooltip}>\n                {action.label}\n              </div>\n            </button>\n          ))}\n          \n          {/* êµ¬ë¶„ì„  */}\n          <div className=\"w-px h-6 bg-gray-300 dark:bg-gray-600 mx-1\" />\n          \n          {/* UI ì»¨íŠ¸ë¡¤ë“¤ */}\n          <button \n            className={sidebarCollapsed ? PROJECT_HEADER_STYLES.iconButton : PROJECT_HEADER_STYLES.iconButtonActive}\n            onClick={onToggleSidebar}\n          >\n            <Sidebar size={16} />\n            <div className={PROJECT_HEADER_STYLES.tooltip}>\n              ì‚¬ì´ë“œë°” í† ê¸€\n            </div>\n          </button>\n        </div>\n      </div>\n\n      {/* ğŸ”¥ ìŠ¬ë¼ì´ë“œë°” ì˜¤ë²„ë ˆì´ */}\n      {activeSlideBar && (\n        <div \n          className={PROJECT_HEADER_STYLES.slidebarOverlay}\n          onClick={() => setActiveSlideBar(null)}\n        />\n      )}\n\n      {/* ğŸ”¥ AI ì±„íŒ… ìŠ¬ë¼ì´ë“œë°” */}\n      <div className={`${PROJECT_HEADER_STYLES.slidebar} ${\n        activeSlideBar === 'ai' ? PROJECT_HEADER_STYLES.slidebarOpen : PROJECT_HEADER_STYLES.slidebarClosed\n      }`}>\n        <div className={PROJECT_HEADER_STYLES.slidebarHeader}>\n          <h3 className={PROJECT_HEADER_STYLES.slidebarTitle}>AI ì–´ì‹œìŠ¤í„´íŠ¸</h3>\n          <button \n            className={PROJECT_HEADER_STYLES.iconButton}\n            onClick={() => setActiveSlideBar(null)}\n          >\n            âœ•\n          </button>\n        </div>\n        <div className={PROJECT_HEADER_STYLES.slidebarContent}>\n          {/* ì±„íŒ… ì¸í„°í˜ì´ìŠ¤ */}\n          <div className=\"flex flex-col h-full\">\n            {/* ì±„íŒ… ë©”ì‹œì§€ ì˜ì—­ */}\n            <div className=\"flex-1 overflow-y-auto mb-4 space-y-3\">\n              <div className=\"bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg\">\n                <p className=\"text-sm text-blue-900 dark:text-blue-100\">\n                  ì•ˆë…•í•˜ì„¸ìš”! ê¸€ì“°ê¸°ë¥¼ ë„ì™€ë“œë¦´ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤. ì–´ë–»ê²Œ ë„ì™€ë“œë¦´ê¹Œìš”?\n                </p>\n              </div>\n            </div>\n            \n            {/* ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ë“¤ */}\n            <div className=\"space-y-2 mb-4\">\n              <button \n                className=\"w-full p-3 text-left border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\n                onClick={async () => {\n                  try {\n                    const result = await window.electronAPI.ai.improveText('ì„ íƒëœ í…ìŠ¤íŠ¸ ìƒ˜í”Œ');\n                    Logger.info('PROJECT_HEADER', 'Text improvement result', result);\n                  } catch (error) {\n                    Logger.error('PROJECT_HEADER', 'Text improvement failed', error);\n                  }\n                }}\n              >\n                <div className=\"font-medium text-gray-900 dark:text-gray-100\">âœ¨ ë¬¸ì¥ ê°œì„ </div>\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">ì„ íƒí•œ í…ìŠ¤íŠ¸ë¥¼ ë” ìì—°ìŠ¤ëŸ½ê²Œ ê°œì„ í•©ë‹ˆë‹¤</div>\n              </button>\n              <button \n                className=\"w-full p-3 text-left border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\n                onClick={async () => {\n                  try {\n                    const result = await window.electronAPI.ai.analyzeText('ìºë¦­í„° ë¶„ì„ì„ ìœ„í•œ í…ìŠ¤íŠ¸');\n                    Logger.info('PROJECT_HEADER', 'Character analysis result', result);\n                  } catch (error) {\n                    Logger.error('PROJECT_HEADER', 'Character analysis failed', error);\n                  }\n                }}\n              >\n                <div className=\"font-medium text-gray-900 dark:text-gray-100\">ğŸ­ ë“±ì¥ì¸ë¬¼ ë¶„ì„</div>\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">ìºë¦­í„°ì˜ ì¼ê´€ì„±ì„ ê²€í† í•©ë‹ˆë‹¤</div>\n              </button>\n              <button \n                className=\"w-full p-3 text-left border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors\"\n                onClick={async () => {\n                  try {\n                    const result = await window.electronAPI.ai.getWritingHelp('í”Œë¡¯ êµ¬ì„±ì— ëŒ€í•œ ì¡°ì–¸ì„ ì£¼ì„¸ìš”');\n                    Logger.info('PROJECT_HEADER', 'Plot analysis result', result);\n                  } catch (error) {\n                    Logger.error('PROJECT_HEADER', 'Plot analysis failed', error);\n                  }\n                }}\n              >\n                <div className=\"font-medium text-gray-900 dark:text-gray-100\">ğŸ“– í”Œë¡¯ ì²´í¬</div>\n                <div className=\"text-sm text-gray-600 dark:text-gray-400\">ìŠ¤í† ë¦¬ íë¦„ì„ ë¶„ì„í•©ë‹ˆë‹¤</div>\n              </button>\n            </div>\n            \n            {/* ì±„íŒ… ì…ë ¥ ì˜ì—­ */}\n            <div className=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n              <div className=\"flex gap-2\">\n                <input\n                  type=\"text\"\n                  placeholder=\"AIì—ê²Œ ì§ˆë¬¸í•˜ê±°ë‚˜ ë„ì›€ì„ ìš”ì²­í•˜ì„¸ìš”...\"\n                  className=\"flex-1 px-3 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n                />\n                <button className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n                  ì „ì†¡\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBA;AApBA;;;;;AAsBA,0BAA0B;AAC1B,MAAM,wBAAwB;IAC5B,QAAQ;IACR,YAAY;IACZ,cAAc;IACd,aAAa;IAEb,YAAY;IACZ,YAAY;IACZ,YAAY;IACZ,kBAAkB;IAElB,SAAS;IACT,SAAS;IACT,qBAAqB;IACrB,UAAU;IAEV,YAAY;IACZ,UAAU;IACV,cAAc;IACd,gBAAgB;IAChB,gBAAgB;IAChB,eAAe;IACf,iBAAiB;IACjB,iBAAiB;AACnB;AAkCO,SAAS,cAAc,EAC5B,KAAK,EACL,aAAa,EACb,MAAM,EACN,gBAAgB,EAChB,eAAe,EACf,WAAW,EACX,iBAAiB,EACjB,MAAM,EACN,OAAO,EACP,UAAU,EACV,QAAQ,EACW;IAEnB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EAAgB;IACnE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EACzC,SAAS,eAAe,CAAC,SAAS,CAAC,QAAQ,CAAC;IAG9C,iBAAiB;IACjB,MAAM,iBAAiB,CAAC;QACtB,kBAAkB,mBAAmB,OAAO,OAAO;IACrD;IAEA,eAAe;IACf,MAAM,cAAc;QAClB,MAAM,cAAc,CAAC;QACrB,cAAc;QAEd,IAAI,aAAa;YACf,SAAS,eAAe,CAAC,SAAS,CAAC,GAAG,CAAC;YACvC,aAAa,OAAO,CAAC,SAAS;QAChC,OAAO;YACL,SAAS,eAAe,CAAC,SAAS,CAAC,MAAM,CAAC;YAC1C,aAAa,OAAO,CAAC,SAAS;QAChC;QAEA,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB,CAAC,iBAAiB,EAAE,cAAc,SAAS,SAAS;IACpF;IAEA,sCAAsC;IACtC,MAAM,cAAc;QAClB,IAAI;YACF,8BAA8B;YAC9B,MAAM,YAAY,IAAI,YAAY,uBAAuB;gBACvD,QAAQ;oBACN,UAAU,OAAO;wBACf,IAAI;4BACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;4BACpC,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB,sCAAsC;gCAClE,QAAQ,QAAQ,MAAM;4BACxB;wBACF,EAAE,OAAO,OAAO;4BACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kBAAkB,0BAA0B;wBAC3D;oBACF;gBACF;YACF;YACA,OAAO,aAAa,CAAC;YAErB,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB;QAChC,EAAE,OAAO,OAAO;YACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kBAAkB,0BAA0B;QAC3D;IACF;IAEA,0BAA0B;IAC1B,MAAM,YAAY;QAChB,kBAAkB,mBAAmB,OAAO,OAAO;QACnD,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB;IAChC;IAEA,mCAAmC;IACnC,MAAM,kBAAkB;QACtB,qBAAqB,mBAAmB;QACxC,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB;IAChC;IAEA,iCAAiC;IACjC,MAAM,gBAAgC;QACpC;YAAE,MAAM,uRAAA,CAAA,OAAI;YAAE,OAAO;YAAM,UAAU;YAAS,SAAS;QAAO;QAC9D;YAAE,MAAM,uRAAA,CAAA,OAAI;YAAE,OAAO;YAAM,UAAU;YAAS,SAAS;QAAY;QACnE;YAAE,MAAM,+RAAA,CAAA,SAAM;YAAE,OAAO;YAAM,UAAU;YAAe,SAAS;QAAQ;QACvE;YAAE,MAAM,mSAAA,CAAA,WAAQ;YAAE,OAAO;YAAQ,UAAU;YAAS,SAAS;QAAW;QACxE;YAAE,MAAM,+RAAA,CAAA,SAAM;YAAE,OAAO;YAAM,UAAU;YAAW,SAAS;QAAS;KACrE;IAED,qCAAqC;IACrC,MAAM,iBAAiC;QACrC;YAAE,MAAM,uRAAA,CAAA,OAAI;YAAE,OAAO;YAAU,UAAU;YAAS,SAAS;QAAY;QACvE;YAAE,MAAM,qSAAA,CAAA,YAAS;YAAE,OAAO;YAAQ,UAAU;YAAW,SAAS;QAAgB;QAChF;YAAE,MAAM,6SAAA,CAAA,gBAAa;YAAE,OAAO;YAAS,SAAS;QAAU;QAC1D;YACE,MAAM,aAAa,qRAAA,CAAA,MAAG,GAAG,uRAAA,CAAA,OAAI;YAC7B,OAAO,aAAa,eAAe;YACnC,SAAS;QACX;KACD;IAED,qBACE;;0BACE,+YAAC;gBAAI,WAAW,sBAAsB,MAAM;;kCAE1C,+YAAC;wBAAI,WAAW,sBAAsB,UAAU;kCAC9C,cAAA,+YAAC;4BACC,WAAW,sBAAsB,UAAU;4BAC3C,SAAS;;8CAET,+YAAC,ySAAA,CAAA,cAAW;oCAAC,MAAM;;;;;;8CACnB,+YAAC;8CAAK;;;;;;;;;;;;;;;;;kCAKV,+YAAC;wBAAI,WAAW,sBAAsB,YAAY;kCAChD,cAAA,+YAAC;4BACC,MAAK;4BACL,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,aAAY;4BACZ,WAAW,sBAAsB,UAAU;;;;;;;;;;;kCAK/C,+YAAC;wBAAI,WAAW,sBAAsB,WAAW;;4BAE9C,cAAc,GAAG,CAAC,CAAC,QAAQ,sBAC1B,+YAAC;oCAEC,WAAW,GAAG,sBAAsB,UAAU,CAAC,MAAM,CAAC;oCACtD,SAAS,OAAO,OAAO;;sDAEvB,+YAAC,OAAO,IAAI;4CAAC,MAAM;;;;;;sDACnB,+YAAC;4CAAI,WAAW,sBAAsB,mBAAmB;;8DACvD,+YAAC;8DAAK,OAAO,KAAK;;;;;;gDACjB,OAAO,QAAQ,kBAAI,+YAAC;oDAAI,WAAW,sBAAsB,QAAQ;8DAAG,OAAO,QAAQ;;;;;;;;;;;;;mCAPjF,CAAC,OAAO,EAAE,OAAO;;;;;0CAa1B,+YAAC;gCAAI,WAAU;;;;;;4BAGd,eAAe,GAAG,CAAC,CAAC,QAAQ,sBAC3B,+YAAC;oCAEC,WAAW,GAAG,sBAAsB,UAAU,CAAC,MAAM,CAAC;oCACtD,SAAS,OAAO,OAAO;;sDAEvB,+YAAC,OAAO,IAAI;4CAAC,MAAM;;;;;;sDACnB,+YAAC;4CAAI,WAAW,sBAAsB,OAAO;sDAC1C,OAAO,KAAK;;;;;;;mCANV,CAAC,QAAQ,EAAE,OAAO;;;;;0CAY3B,+YAAC;gCAAI,WAAU;;;;;;0CAGf,+YAAC;gCACC,WAAW,mBAAmB,sBAAsB,UAAU,GAAG,sBAAsB,gBAAgB;gCACvG,SAAS;;kDAET,+YAAC,mSAAA,CAAA,UAAO;wCAAC,MAAM;;;;;;kDACf,+YAAC;wCAAI,WAAW,sBAAsB,OAAO;kDAAE;;;;;;;;;;;;;;;;;;;;;;;;YAQpD,gCACC,+YAAC;gBACC,WAAW,sBAAsB,eAAe;gBAChD,SAAS,IAAM,kBAAkB;;;;;;0BAKrC,+YAAC;gBAAI,WAAW,GAAG,sBAAsB,QAAQ,CAAC,CAAC,EACjD,mBAAmB,OAAO,sBAAsB,YAAY,GAAG,sBAAsB,cAAc,EACnG;;kCACA,+YAAC;wBAAI,WAAW,sBAAsB,cAAc;;0CAClD,+YAAC;gCAAG,WAAW,sBAAsB,aAAa;0CAAE;;;;;;0CACpD,+YAAC;gCACC,WAAW,sBAAsB,UAAU;gCAC3C,SAAS,IAAM,kBAAkB;0CAClC;;;;;;;;;;;;kCAIH,+YAAC;wBAAI,WAAW,sBAAsB,eAAe;kCAEnD,cAAA,+YAAC;4BAAI,WAAU;;8CAEb,+YAAC;oCAAI,WAAU;8CACb,cAAA,+YAAC;wCAAI,WAAU;kDACb,cAAA,+YAAC;4CAAE,WAAU;sDAA2C;;;;;;;;;;;;;;;;8CAO5D,+YAAC;oCAAI,WAAU;;sDACb,+YAAC;4CACC,WAAU;4CACV,SAAS;gDACP,IAAI;oDACF,MAAM,SAAS,MAAM,OAAO,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC;oDACvD,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB,2BAA2B;gDAC3D,EAAE,OAAO,OAAO;oDACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kBAAkB,2BAA2B;gDAC5D;4CACF;;8DAEA,+YAAC;oDAAI,WAAU;8DAA+C;;;;;;8DAC9D,+YAAC;oDAAI,WAAU;8DAA2C;;;;;;;;;;;;sDAE5D,+YAAC;4CACC,WAAU;4CACV,SAAS;gDACP,IAAI;oDACF,MAAM,SAAS,MAAM,OAAO,WAAW,CAAC,EAAE,CAAC,WAAW,CAAC;oDACvD,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB,6BAA6B;gDAC7D,EAAE,OAAO,OAAO;oDACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kBAAkB,6BAA6B;gDAC9D;4CACF;;8DAEA,+YAAC;oDAAI,WAAU;8DAA+C;;;;;;8DAC9D,+YAAC;oDAAI,WAAU;8DAA2C;;;;;;;;;;;;sDAE5D,+YAAC;4CACC,WAAU;4CACV,SAAS;gDACP,IAAI;oDACF,MAAM,SAAS,MAAM,OAAO,WAAW,CAAC,EAAE,CAAC,cAAc,CAAC;oDAC1D,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,kBAAkB,wBAAwB;gDACxD,EAAE,OAAO,OAAO;oDACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,kBAAkB,wBAAwB;gDACzD;4CACF;;8DAEA,+YAAC;oDAAI,WAAU;8DAA+C;;;;;;8DAC9D,+YAAC;oDAAI,WAAU;8DAA2C;;;;;;;;;;;;;;;;;;8CAK9D,+YAAC;oCAAI,WAAU;8CACb,cAAA,+YAAC;wCAAI,WAAU;;0DACb,+YAAC;gDACC,MAAK;gDACL,aAAY;gDACZ,WAAU;;;;;;0DAEZ,+YAAC;gDAAO,WAAU;0DAAkF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUpH","debugId":null}},
    {"offset": {"line": 1855, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/components/ConfirmDeleteDialog.tsx"],"sourcesContent":["'use client';\n\n// ì‚­ì œ ë‹¤ì´ì–´ë¡œê·¸ \n\nimport React, { useState } from 'react';\nimport { X as XIcon, AlertTriangle } from 'lucide-react';\n\n// ğŸ”¥ í”„ë¦¬ì»´íŒŒì¼ëœ ìŠ¤íƒ€ì¼ (11ì›ì¹™ ì¤€ìˆ˜)\nconst CONFIRM_DIALOG_STYLES = {\n  overlay: 'fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50',\n  dialog: 'bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden',\n  header: 'flex items-center gap-3 p-6 border-b border-slate-200 dark:border-slate-700',\n  icon: 'w-8 h-8 text-red-500 flex-shrink-0',\n  headerText: 'flex-1',\n  title: 'text-lg font-bold text-slate-900 dark:text-slate-100',\n  message: 'text-sm text-slate-600 dark:text-slate-400 mt-1',\n  closeButton: 'w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors',\n  content: 'p-6',\n  description: 'text-slate-700 dark:text-slate-300 leading-relaxed mb-4',\n  projectName: 'font-semibold text-slate-900 dark:text-slate-100',\n  warning: 'bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 text-sm text-red-800 dark:text-red-200',\n  footer: 'flex items-center justify-end gap-3 p-6 border-t border-slate-200 dark:border-slate-700',\n  cancelButton: 'px-4 py-2 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors',\n  deleteButton: 'px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium',\n} as const;\n\ninterface ConfirmDeleteDialogProps {\n  isOpen: boolean;\n  projectTitle: string;\n  onConfirm: () => void;\n  onCancel: () => void;\n}\n\nexport function ConfirmDeleteDialog({ isOpen, projectTitle, onConfirm, onCancel }: ConfirmDeleteDialogProps): React.ReactElement | null {\n  if (!isOpen) return null;\n\n  const handleOverlayClick = (event: React.MouseEvent): void => {\n    if (event.target === event.currentTarget) {\n      onCancel();\n    }\n  };\n\n  const handleEscapeKey = (event: React.KeyboardEvent): void => {\n    if (event.key === 'Escape') {\n      onCancel();\n    }\n  };\n\n  return (\n    <div \n      className={CONFIRM_DIALOG_STYLES.overlay} \n      onClick={handleOverlayClick}\n      onKeyDown={handleEscapeKey}\n      tabIndex={-1}\n    >\n      <div className={CONFIRM_DIALOG_STYLES.dialog}>\n        {/* ğŸ”¥ í—¤ë” */}\n        <div className={CONFIRM_DIALOG_STYLES.header}>\n          <AlertTriangle className={CONFIRM_DIALOG_STYLES.icon} />\n          <div className={CONFIRM_DIALOG_STYLES.headerText}>\n            <h3 className={CONFIRM_DIALOG_STYLES.title}>í”„ë¡œì íŠ¸ ì‚­ì œ</h3>\n            <p className={CONFIRM_DIALOG_STYLES.message}>ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p>\n          </div>\n          <button\n            className={CONFIRM_DIALOG_STYLES.closeButton}\n            onClick={onCancel}\n            aria-label=\"ë‹«ê¸°\"\n          >\n            <XIcon size={20} />\n          </button>\n        </div>\n\n        {/* ğŸ”¥ ë‚´ìš© */}\n        <div className={CONFIRM_DIALOG_STYLES.content}>\n          <p className={CONFIRM_DIALOG_STYLES.description}>\n            <span className={CONFIRM_DIALOG_STYLES.projectName}>&ldquo;{projectTitle}&rdquo;</span> í”„ë¡œì íŠ¸ë¥¼ \n            ì™„ì „íˆ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n          </p>\n          \n          <div className={CONFIRM_DIALOG_STYLES.warning}>\n            âš ï¸ <strong>ì£¼ì˜:</strong> ì‚­ì œëœ í”„ë¡œì íŠ¸ì™€ ëª¨ë“  ë°ì´í„°(ìºë¦­í„°, êµ¬ì¡°, ë©”ëª¨ ë“±)ëŠ” ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n          </div>\n        </div>\n\n        {/* ğŸ”¥ í‘¸í„° */}\n        <div className={CONFIRM_DIALOG_STYLES.footer}>\n          <button\n            className={CONFIRM_DIALOG_STYLES.cancelButton}\n            onClick={onCancel}\n          >\n            ì·¨ì†Œ\n          </button>\n          <button\n            className={CONFIRM_DIALOG_STYLES.deleteButton}\n            onClick={onConfirm}\n            autoFocus\n          >\n            ì‚­ì œí•˜ê¸°\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAKA;AAAA;AALA;;;AAOA,0BAA0B;AAC1B,MAAM,wBAAwB;IAC5B,SAAS;IACT,QAAQ;IACR,QAAQ;IACR,MAAM;IACN,YAAY;IACZ,OAAO;IACP,SAAS;IACT,aAAa;IACb,SAAS;IACT,aAAa;IACb,aAAa;IACb,SAAS;IACT,QAAQ;IACR,cAAc;IACd,cAAc;AAChB;AASO,SAAS,oBAAoB,EAAE,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,QAAQ,EAA4B;IACzG,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,qBAAqB,CAAC;QAC1B,IAAI,MAAM,MAAM,KAAK,MAAM,aAAa,EAAE;YACxC;QACF;IACF;IAEA,MAAM,kBAAkB,CAAC;QACvB,IAAI,MAAM,GAAG,KAAK,UAAU;YAC1B;QACF;IACF;IAEA,qBACE,+YAAC;QACC,WAAW,sBAAsB,OAAO;QACxC,SAAS;QACT,WAAW;QACX,UAAU,CAAC;kBAEX,cAAA,+YAAC;YAAI,WAAW,sBAAsB,MAAM;;8BAE1C,+YAAC;oBAAI,WAAW,sBAAsB,MAAM;;sCAC1C,+YAAC,6SAAA,CAAA,gBAAa;4BAAC,WAAW,sBAAsB,IAAI;;;;;;sCACpD,+YAAC;4BAAI,WAAW,sBAAsB,UAAU;;8CAC9C,+YAAC;oCAAG,WAAW,sBAAsB,KAAK;8CAAE;;;;;;8CAC5C,+YAAC;oCAAE,WAAW,sBAAsB,OAAO;8CAAE;;;;;;;;;;;;sCAE/C,+YAAC;4BACC,WAAW,sBAAsB,WAAW;4BAC5C,SAAS;4BACT,cAAW;sCAEX,cAAA,+YAAC,iRAAA,CAAA,IAAK;gCAAC,MAAM;;;;;;;;;;;;;;;;;8BAKjB,+YAAC;oBAAI,WAAW,sBAAsB,OAAO;;sCAC3C,+YAAC;4BAAE,WAAW,sBAAsB,WAAW;;8CAC7C,+YAAC;oCAAK,WAAW,sBAAsB,WAAW;;wCAAE;wCAAQ;wCAAa;;;;;;;gCAAc;;;;;;;sCAIzF,+YAAC;4BAAI,WAAW,sBAAsB,OAAO;;gCAAE;8CAC1C,+YAAC;8CAAO;;;;;;gCAAY;;;;;;;;;;;;;8BAK3B,+YAAC;oBAAI,WAAW,sBAAsB,MAAM;;sCAC1C,+YAAC;4BACC,WAAW,sBAAsB,YAAY;4BAC7C,SAAS;sCACV;;;;;;sCAGD,+YAAC;4BACC,WAAW,sBAAsB,YAAY;4BAC7C,SAAS;4BACT,SAAS;sCACV;;;;;;;;;;;;;;;;;;;;;;;AAOX","debugId":null}},
    {"offset": {"line": 2054, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/components/ShareDialog.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useCallback } from 'react';\nimport { X as XIcon, Share2, Copy, Check, Download, Mail } from 'lucide-react';\nimport { Logger } from '../../../../shared/logger';\n\n// ğŸ”¥ í”„ë¦¬ì»´íŒŒì¼ëœ ìŠ¤íƒ€ì¼ (11ì›ì¹™ ì¤€ìˆ˜)\nconst SHARE_DIALOG_STYLES = {\n  overlay: 'fixed inset-0 z-[100] flex items-center justify-center bg-black bg-opacity-50',\n  dialog: 'bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-lg w-full mx-4 overflow-hidden',\n  header: 'flex items-center gap-3 p-6 border-b border-slate-200 dark:border-slate-700',\n  icon: 'w-8 h-8 text-blue-500 flex-shrink-0',\n  headerText: 'flex-1',\n  title: 'text-lg font-bold text-slate-900 dark:text-slate-100',\n  subtitle: 'text-sm text-slate-600 dark:text-slate-400 mt-1',\n  closeButton: 'w-8 h-8 flex items-center justify-center rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors',\n  content: 'p-6 space-y-4',\n  section: 'space-y-3',\n  sectionTitle: 'text-sm font-medium text-slate-900 dark:text-slate-100',\n  optionGrid: 'grid grid-cols-2 gap-3',\n  option: 'flex items-center gap-3 p-4 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors cursor-pointer',\n  optionIcon: 'w-5 h-5 text-slate-600 dark:text-slate-400',\n  optionText: 'text-sm text-slate-700 dark:text-slate-300',\n  urlSection: 'space-y-2',\n  urlLabel: 'text-sm font-medium text-slate-900 dark:text-slate-100',\n  urlContainer: 'flex items-center gap-2',\n  urlInput: 'flex-1 px-3 py-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg text-sm text-slate-900 dark:text-slate-100 font-mono',\n  copyButton: 'px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium flex items-center gap-2',\n  copiedButton: 'px-3 py-2 bg-green-600 text-white rounded-lg text-sm font-medium flex items-center gap-2',\n  footer: 'p-6 border-t border-slate-200 dark:border-slate-700 text-xs text-slate-500 dark:text-slate-400',\n} as const;\n\ninterface ShareDialogProps {\n  isOpen: boolean;\n  projectTitle: string;\n  projectId: string;\n  onClose: () => void;\n}\n\nexport function ShareDialog({ isOpen, projectTitle, projectId, onClose }: ShareDialogProps): React.ReactElement | null {\n  const [copiedUrl, setCopiedUrl] = useState<boolean>(false);\n\n  // ğŸ”¥ ì„ì‹œ ê³µìœ  URL (ì‹¤ì œë¡œëŠ” ì„œë²„ì—ì„œ ìƒì„±)\n  const shareUrl = `https://loop-writer.app/shared/${projectId}`;\n\n  const handleOverlayClick = (event: React.MouseEvent): void => {\n    if (event.target === event.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleEscapeKey = (event: React.KeyboardEvent): void => {\n    if (event.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  const handleCopyUrl = useCallback(async (): Promise<void> => {\n    try {\n      await navigator.clipboard.writeText(shareUrl);\n      setCopiedUrl(true);\n      Logger.info('SHARE_DIALOG', 'URL copied to clipboard');\n      \n      // 3ì´ˆ í›„ ìƒíƒœ ë¦¬ì…‹\n      setTimeout(() => setCopiedUrl(false), 3000);\n    } catch (error) {\n      Logger.error('SHARE_DIALOG', 'Failed to copy URL', error);\n    }\n  }, [shareUrl]);\n\n  const handleExportText = useCallback((): void => {\n    // ğŸ”¥ í…ìŠ¤íŠ¸ íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸° (ì‹¤ì œ êµ¬í˜„ í•„ìš”)\n    Logger.info('SHARE_DIALOG', 'Export as text requested');\n    // TODO: ì‹¤ì œ ë‚´ë³´ë‚´ê¸° êµ¬í˜„\n  }, []);\n\n  const handleExportPdf = useCallback((): void => {\n    // ğŸ”¥ PDFë¡œ ë‚´ë³´ë‚´ê¸° (ì‹¤ì œ êµ¬í˜„ í•„ìš”)\n    Logger.info('SHARE_DIALOG', 'Export as PDF requested');\n    // TODO: ì‹¤ì œ PDF ë‚´ë³´ë‚´ê¸° êµ¬í˜„\n  }, []);\n\n  const handleSendEmail = useCallback((): void => {\n    // ğŸ”¥ ì´ë©”ì¼ë¡œ ê³µìœ í•˜ê¸°\n    const subject = encodeURIComponent(`Loop í”„ë¡œì íŠ¸: ${projectTitle}`);\n    const body = encodeURIComponent(`ì•ˆë…•í•˜ì„¸ìš”,\\n\\n\"${projectTitle}\" í”„ë¡œì íŠ¸ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.\\n\\n${shareUrl}\\n\\nLoop Writerì—ì„œ í™•ì¸í•´ë³´ì„¸ìš”!`);\n    const mailtoUrl = `mailto:?subject=${subject}&body=${body}`;\n    \n    window.open(mailtoUrl, '_blank');\n    Logger.info('SHARE_DIALOG', 'Email sharing opened');\n  }, [projectTitle, shareUrl]);\n\n  if (!isOpen) return null;\n\n  return (\n    <div \n      className={SHARE_DIALOG_STYLES.overlay} \n      onClick={handleOverlayClick}\n      onKeyDown={handleEscapeKey}\n      tabIndex={-1}\n    >\n      <div className={SHARE_DIALOG_STYLES.dialog}>\n        {/* ğŸ”¥ í—¤ë” */}\n        <div className={SHARE_DIALOG_STYLES.header}>\n          <Share2 className={SHARE_DIALOG_STYLES.icon} />\n          <div className={SHARE_DIALOG_STYLES.headerText}>\n            <h3 className={SHARE_DIALOG_STYLES.title}>í”„ë¡œì íŠ¸ ê³µìœ </h3>\n            <p className={SHARE_DIALOG_STYLES.subtitle}>&ldquo;{projectTitle}&rdquo; ì‘í’ˆ ê³µìœ í•˜ê¸°</p>\n          </div>\n          <button\n            className={SHARE_DIALOG_STYLES.closeButton}\n            onClick={onClose}\n            aria-label=\"ë‹«ê¸°\"\n          >\n            <XIcon size={20} />\n          </button>\n        </div>\n\n        {/* ğŸ”¥ ë‚´ìš© */}\n        <div className={SHARE_DIALOG_STYLES.content}>\n          {/* ğŸ”¥ ë§í¬ ê³µìœ  */}\n          <div className={SHARE_DIALOG_STYLES.section}>\n            <h4 className={SHARE_DIALOG_STYLES.sectionTitle}>ë§í¬ë¡œ ê³µìœ </h4>\n            <div className={SHARE_DIALOG_STYLES.urlContainer}>\n              <input\n                type=\"text\"\n                value={shareUrl}\n                readOnly\n                className={SHARE_DIALOG_STYLES.urlInput}\n              />\n              <button\n                className={copiedUrl ? SHARE_DIALOG_STYLES.copiedButton : SHARE_DIALOG_STYLES.copyButton}\n                onClick={handleCopyUrl}\n                disabled={copiedUrl}\n              >\n                {copiedUrl ? (\n                  <>\n                    <Check size={16} />\n                    ë³µì‚¬ë¨\n                  </>\n                ) : (\n                  <>\n                    <Copy size={16} />\n                    ë³µì‚¬\n                  </>\n                )}\n              </button>\n            </div>\n          </div>\n\n          {/* ğŸ”¥ ê³µìœ  ì˜µì…˜ */}\n          <div className={SHARE_DIALOG_STYLES.section}>\n            <h4 className={SHARE_DIALOG_STYLES.sectionTitle}>ê³µìœ  ë°©ë²•</h4>\n            <div className={SHARE_DIALOG_STYLES.optionGrid}>\n              <button\n                className={SHARE_DIALOG_STYLES.option}\n                onClick={handleSendEmail}\n              >\n                <Mail className={SHARE_DIALOG_STYLES.optionIcon} />\n                <span className={SHARE_DIALOG_STYLES.optionText}>ì´ë©”ì¼</span>\n              </button>\n              \n              <button\n                className={SHARE_DIALOG_STYLES.option}\n                onClick={handleExportText}\n              >\n                <Download className={SHARE_DIALOG_STYLES.optionIcon} />\n                <span className={SHARE_DIALOG_STYLES.optionText}>í…ìŠ¤íŠ¸ íŒŒì¼</span>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* ğŸ”¥ í‘¸í„° */}\n        <div className={SHARE_DIALOG_STYLES.footer}>\n          ğŸ’¡ ê³µìœ ëœ í”„ë¡œì íŠ¸ëŠ” ì½ê¸° ì „ìš©ìœ¼ë¡œ ì œê³µë©ë‹ˆë‹¤. ì›ë³¸ í¸ì§‘ì€ ì‘ì„±ìë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2393, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/SlashCommands.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useEffect, forwardRef, useImperativeHandle } from 'react';\nimport { Extension } from '@tiptap/core';\nimport { ReactRenderer } from '@tiptap/react';\nimport Suggestion from '@tiptap/suggestion';\nimport tippy from 'tippy.js';\nimport { \n  Hash, \n  List, \n  CheckSquare, \n  Quote, \n  Code, \n  Minus,\n  Type,\n  Heading1,\n  Heading2,\n  Heading3,\n  Lightbulb,\n  AlertTriangle,\n  X,\n  ChevronDown,\n  Highlighter\n} from 'lucide-react';\n\n// ğŸ”¥ ref íƒ€ì… ì •ì˜\ninterface CommandMenuRef {\n  onKeyDown: ({ event }: { event: KeyboardEvent }) => boolean;\n}\n\n// ğŸ”¥ ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ ì •ì˜\ninterface SlashCommand {\n  title: string;\n  description: string;\n  icon: React.ComponentType<{ size?: number }>;\n  command: ({ editor, range }: any) => void;\n}\n\n// ğŸ”¥ ëª…ë ¹ì–´ ëª©ë¡ ì •ì˜ (Notion ìŠ¤íƒ€ì¼)\nconst SLASH_COMMANDS: SlashCommand[] = [\n  {\n    title: 'ì œëª© 1',\n    description: 'í° ì„¹ì…˜ í—¤ë”©',\n    icon: Heading1,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).setHeading({ level: 1 }).run();\n    },\n  },\n  {\n    title: 'ì œëª© 2',\n    description: 'ì¤‘ê°„ ì„¹ì…˜ í—¤ë”©',\n    icon: Heading2,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).setHeading({ level: 2 }).run();\n    },\n  },\n  {\n    title: 'ì œëª© 3',\n    description: 'ì‘ì€ ì„¹ì…˜ í—¤ë”©',\n    icon: Heading3,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).setHeading({ level: 3 }).run();\n    },\n  },\n  {\n    title: 'ë³¸ë¬¸',\n    description: 'ì¼ë°˜ í…ìŠ¤íŠ¸ë¡œ ì‹œì‘',\n    icon: Type,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).setParagraph().run();\n    },\n  },\n  {\n    title: 'ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸',\n    description: 'ê°„ë‹¨í•œ ë¶ˆë¦¿ ëª©ë¡',\n    icon: List,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).toggleBulletList().run();\n    },\n  },\n  {\n    title: 'ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸',\n    description: 'ë²ˆí˜¸ê°€ ë§¤ê²¨ì§„ ëª©ë¡',\n    icon: Hash,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).toggleOrderedList().run();\n    },\n  },\n  {\n    title: 'ì²´í¬ë¦¬ìŠ¤íŠ¸',\n    description: 'í•  ì¼ ëª©ë¡',\n    icon: CheckSquare,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).toggleTaskList().run();\n    },\n  },\n  {\n    title: 'ì½œì•„ì›ƒ - ì •ë³´',\n    description: 'ğŸ’¡ ì •ë³´ ê°•ì¡°',\n    icon: Lightbulb,\n    command: ({ editor, range }) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent({\n          type: 'callout',\n          attrs: { type: 'info', icon: 'ğŸ’¡' },\n          content: [{ type: 'paragraph', content: [{ type: 'text', text: 'ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”...' }] }],\n        })\n        .run();\n    },\n  },\n  {\n    title: 'ì½œì•„ì›ƒ - ê²½ê³ ',\n    description: 'âš ï¸ ê²½ê³  ë©”ì‹œì§€',\n    icon: AlertTriangle,\n    command: ({ editor, range }) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent({\n          type: 'callout',\n          attrs: { type: 'warning', icon: 'âš ï¸' },\n          content: [{ type: 'paragraph', content: [{ type: 'text', text: 'ê²½ê³  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...' }] }],\n        })\n        .run();\n    },\n  },\n  {\n    title: 'ì½œì•„ì›ƒ - ì—ëŸ¬',\n    description: 'âŒ ì—ëŸ¬ ë©”ì‹œì§€',\n    icon: X,\n    command: ({ editor, range }) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent({\n          type: 'callout',\n          attrs: { type: 'error', icon: 'âŒ' },\n          content: [{ type: 'paragraph', content: [{ type: 'text', text: 'ì—ëŸ¬ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...' }] }],\n        })\n        .run();\n    },\n  },\n  {\n    title: 'í† ê¸€',\n    description: 'â–¼ ì ‘ì„ ìˆ˜ ìˆëŠ” ì„¹ì…˜',\n    icon: ChevronDown,\n    command: ({ editor, range }) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent({\n          type: 'toggle',\n          attrs: { open: false, summary: 'í† ê¸€ ì œëª©' },\n          content: [{ type: 'paragraph', content: [{ type: 'text', text: 'í† ê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...' }] }],\n        })\n        .run();\n    },\n  },\n  {\n    title: 'í•˜ì´ë¼ì´íŠ¸',\n    description: 'ğŸ–ï¸ í…ìŠ¤íŠ¸ ê°•ì¡°',\n    icon: Highlighter,\n    command: ({ editor, range }) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent('í•˜ì´ë¼ì´íŠ¸í•  í…ìŠ¤íŠ¸')\n        .setMark('highlight', { color: 'yellow' })\n        .run();\n    },\n  },\n  {\n    title: 'ì¸ìš©êµ¬',\n    description: 'ì¸ìš© í…ìŠ¤íŠ¸',\n    icon: Quote,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).toggleBlockquote().run();\n    },\n  },\n  {\n    title: 'ì½”ë“œ ë¸”ë¡',\n    description: 'ì½”ë“œ ìŠ¤ë‹ˆí«',\n    icon: Code,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).toggleCodeBlock().run();\n    },\n  },\n  {\n    title: 'êµ¬ë¶„ì„ ',\n    description: 'ì„¹ì…˜ êµ¬ë¶„ì„ ',\n    icon: Minus,\n    command: ({ editor, range }) => {\n      editor.chain().focus().deleteRange(range).setHorizontalRule().run();\n    },\n  },\n];\n\n// ğŸ”¥ ëª…ë ¹ì–´ ë©”ë‰´ ì»´í¬ë„ŒíŠ¸\ninterface CommandMenuProps {\n  items: SlashCommand[];\n  command: (item: SlashCommand) => void;\n}\n\nconst CommandMenu = forwardRef<CommandMenuRef, CommandMenuProps>(({ items, command }, ref) => {\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  useImperativeHandle(ref, () => ({\n    onKeyDown: ({ event }: { event: KeyboardEvent }) => {\n      if (event.key === 'ArrowUp') {\n        setSelectedIndex((selectedIndex + items.length - 1) % items.length);\n        return true;\n      }\n\n      if (event.key === 'ArrowDown') {\n        setSelectedIndex((selectedIndex + 1) % items.length);\n        return true;\n      }\n\n      if (event.key === 'Enter') {\n        selectItem(selectedIndex);\n        return true;\n      }\n\n      return false;\n    },\n  }));\n\n  useEffect(() => setSelectedIndex(0), [items]);\n\n  const selectItem = (index: number): void => {\n    const item = items[index];\n    if (item) {\n      command(item);\n    }\n  };\n\n  return (\n    <div className=\"z-50 w-72 p-1 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg max-h-80 overflow-auto\">\n      {items.length ? (\n        items.map((item, index) => (\n          <button\n            key={index}\n            className={`flex items-center gap-3 w-full px-3 py-2 text-left text-sm rounded-md transition-colors ${\n              index === selectedIndex\n                ? 'bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100'\n                : 'text-gray-900 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-700'\n            }`}\n            onClick={() => selectItem(index)}\n          >\n            <div className=\"w-4 h-4 flex items-center justify-center text-gray-500 dark:text-gray-400\">\n              <item.icon size={16} />\n            </div>\n            <div className=\"flex-1\">\n              <div className=\"font-medium\">{item.title}</div>\n              <div className=\"text-xs text-gray-500 dark:text-gray-400\">{item.description}</div>\n            </div>\n          </button>\n        ))\n      ) : (\n        <div className=\"px-3 py-2 text-sm text-gray-500 dark:text-gray-400\">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>\n      )}\n    </div>\n  );\n});\n\nCommandMenu.displayName = 'CommandMenu';\n\n// ğŸ”¥ ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ í™•ì¥\nexport const SlashCommand = Extension.create({\n  name: 'slashCommand',\n\n  addOptions() {\n    return {\n      suggestion: {\n        char: '/',\n        command: ({ editor, range, props }: any) => {\n          props.command({ editor, range });\n        },\n      },\n    };\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      Suggestion({\n        editor: this.editor,\n        ...this.options.suggestion,\n      }),\n    ];\n  },\n});\n\n// ğŸ”¥ ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ ì œì•ˆ ì„¤ì •\nexport const slashSuggestion = {\n  items: ({ query }: { query: string }) => {\n    return SLASH_COMMANDS.filter(item =>\n      item.title.toLowerCase().includes(query.toLowerCase()) ||\n      item.description.toLowerCase().includes(query.toLowerCase())\n    );\n  },\n\n  render: () => {\n    let component: ReactRenderer;\n    let popup: any;\n\n    return {\n      onStart: (props: any) => {\n        component = new ReactRenderer(CommandMenu, {\n          props,\n          editor: props.editor,\n        });\n\n        if (!props.clientRect) {\n          return;\n        }\n\n        popup = tippy('body', {\n          getReferenceClientRect: props.clientRect,\n          appendTo: () => document.body,\n          content: component.element,\n          showOnCreate: true,\n          interactive: true,\n          trigger: 'manual',\n          placement: 'bottom-start',\n        });\n      },\n\n      onUpdate(props: any) {\n        component.updateProps(props);\n\n        if (!props.clientRect) {\n          return;\n        }\n\n        popup[0].setProps({\n          getReferenceClientRect: props.clientRect,\n        });\n      },\n\n      onKeyDown(props: any) {\n        if (props.event.key === 'Escape') {\n          popup[0].hide();\n          return true;\n        }\n\n        return (component.ref as CommandMenuRef)?.onKeyDown(props);\n      },\n\n      onExit() {\n        popup[0].destroy();\n        component.destroy();\n      },\n    };\n  },\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2797, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/AdvancedNotionFeatures.ts"],"sourcesContent":["// ğŸ”¥ TipTap ì—ë””í„°ì— ì¶”ê°€í•  ë…¸ì…˜ ê¸°ëŠ¥ë“¤\n// src/renderer/components/projects/editor/AdvancedNotionFeatures.ts\n\nimport { Node, Mark } from '@tiptap/core';\n\n// 1. ì²´í¬ë°•ìŠ¤ í™•ì¥\nexport const TaskList = Node.create({\n  name: 'taskList',\n  group: 'block',\n  content: 'taskItem+',\n  parseHTML() {\n    return [{ tag: 'ul[data-type=\"taskList\"]' }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['ul', { 'data-type': 'taskList', ...HTMLAttributes }, 0];\n  },\n});\n\nexport const TaskItem = Node.create({\n  name: 'taskItem',\n  content: 'paragraph block*',\n  defining: true,\n  addAttributes() {\n    return {\n      checked: {\n        default: false,\n        parseHTML: (element: HTMLElement) => element.getAttribute('data-checked') === 'true',\n        renderHTML: (attributes: any) => ({\n          'data-checked': attributes.checked,\n        }),\n      },\n    };\n  },\n  parseHTML() {\n    return [{ tag: 'li[data-type=\"taskItem\"]' }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['li', { 'data-type': 'taskItem', ...HTMLAttributes }, 0];\n  },\n});\n\n// 2. ì½œì•„ì›ƒ í™•ì¥\nexport const Callout = Node.create({\n  name: 'callout',\n  group: 'block',\n  content: 'block+',\n  addAttributes() {\n    return {\n      type: {\n        default: 'info',\n        renderHTML: (attributes: any) => ({\n          'data-type': attributes.type,\n        }),\n      },\n      icon: {\n        default: 'ğŸ’¡',\n        renderHTML: (attributes: any) => ({\n          'data-icon': attributes.icon,\n        }),\n      },\n    };\n  },\n  parseHTML() {\n    return [{ tag: 'div[data-callout]' }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['div', { 'data-callout': true, ...HTMLAttributes }, 0];\n  },\n});\n\n// 3. í† ê¸€ í™•ì¥\nexport const Toggle = Node.create({\n  name: 'toggle',\n  group: 'block',\n  content: 'block+',\n  addAttributes() {\n    return {\n      open: {\n        default: false,\n        renderHTML: (attributes: any) => ({\n          'data-open': attributes.open,\n        }),\n      },\n      summary: {\n        default: 'í† ê¸€ ì œëª©',\n        renderHTML: (attributes: any) => ({\n          'data-summary': attributes.summary,\n        }),\n      },\n    };\n  },\n  parseHTML() {\n    return [{ tag: 'details[data-toggle]' }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['details', { 'data-toggle': true, ...HTMLAttributes }, \n      ['summary', {}, HTMLAttributes['data-summary'] || 'í† ê¸€ ì œëª©'],\n      ['div', { class: 'toggle-content' }, 0]\n    ];\n  },\n});\n\n// 4. í•˜ì´ë¼ì´íŠ¸ í™•ì¥\nexport const Highlight = Mark.create({\n  name: 'highlight',\n  addAttributes() {\n    return {\n      color: {\n        default: 'yellow',\n        parseHTML: (element: HTMLElement) => element.getAttribute('data-color'),\n        renderHTML: (attributes: any) => {\n          if (!attributes.color) {\n            return {};\n          }\n          return {\n            'data-color': attributes.color,\n          };\n        },\n      },\n    };\n  },\n  parseHTML() {\n    return [{ tag: 'mark[data-highlight]' }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return ['mark', { 'data-highlight': true, ...HTMLAttributes }, 0];\n  },\n});\n\n// 5. í™•ì¥ëœ ìŠ¬ë˜ì‹œ ì»¤ë§¨ë“œ\nexport const extendedSlashCommands = [\n  {\n    title: 'ì²´í¬ë°•ìŠ¤',\n    description: 'â˜‘ï¸ í•  ì¼ ëª©ë¡',\n    icon: 'â˜‘ï¸',\n    searchTerms: ['checkbox', 'todo', 'task', 'ì²´í¬', 'í• ì¼'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .toggleTaskList()\n        .run();\n    },\n  },\n  {\n    title: 'ì½œì•„ì›ƒ - ì •ë³´',\n    description: 'ğŸ’¡ ì •ë³´ ê°•ì¡°',\n    icon: 'ğŸ’¡',\n    searchTerms: ['callout', 'info', 'ì½œì•„ì›ƒ', 'ì •ë³´'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .setCallout({ type: 'info', icon: 'ğŸ’¡' })\n        .run();\n    },\n  },\n  {\n    title: 'ì½œì•„ì›ƒ - ê²½ê³ ',\n    description: 'âš ï¸ ê²½ê³  ë©”ì‹œì§€',\n    icon: 'âš ï¸',\n    searchTerms: ['warning', 'caution', 'ê²½ê³ ', 'ì£¼ì˜'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .setCallout({ type: 'warning', icon: 'âš ï¸' })\n        .run();\n    },\n  },\n  {\n    title: 'ì½œì•„ì›ƒ - ì—ëŸ¬',\n    description: 'âŒ ì—ëŸ¬ ë©”ì‹œì§€',\n    icon: 'âŒ',\n    searchTerms: ['error', 'danger', 'ì—ëŸ¬', 'ì˜¤ë¥˜'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .setCallout({ type: 'error', icon: 'âŒ' })\n        .run();\n    },\n  },\n  {\n    title: 'í† ê¸€',\n    description: 'â–¼ ì ‘ì„ ìˆ˜ ìˆëŠ” ì„¹ì…˜',\n    icon: 'â–¼',\n    searchTerms: ['toggle', 'collapse', 'í† ê¸€', 'ì ‘ê¸°'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .setToggle({ summary: 'í† ê¸€ ì œëª©', open: false })\n        .run();\n    },\n  },\n  {\n    title: 'í•˜ì´ë¼ì´íŠ¸',\n    description: 'ğŸ–ï¸ í…ìŠ¤íŠ¸ ê°•ì¡°',\n    icon: 'ğŸ–ï¸',\n    searchTerms: ['highlight', 'mark', 'í•˜ì´ë¼ì´íŠ¸', 'ê°•ì¡°'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent('í•˜ì´ë¼ì´íŠ¸ í…ìŠ¤íŠ¸')\n        .selectTextblockEnd()\n        .setHighlight({ color: 'yellow' })\n        .run();\n    },\n  },\n  {\n    title: 'ìˆ˜ì‹',\n    description: 'ğŸ”¢ LaTeX ìˆ˜ì‹',\n    icon: 'ğŸ”¢',\n    searchTerms: ['math', 'latex', 'formula', 'ìˆ˜ì‹', 'ê³µì‹'],\n    command: ({ editor, range }: any) => {\n      editor.chain()\n        .focus()\n        .deleteRange(range)\n        .insertContent('$E = mc^2$')\n        .run();\n    },\n  },\n];\n\n// 6. í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ í™•ì¥\nexport const extendedKeyboardShortcuts = [\n  {\n    key: 'Mod-Shift-1',\n    description: 'ì œëª© 1',\n    command: ({ editor }: any) => editor.chain().focus().toggleHeading({ level: 1 }).run(),\n  },\n  {\n    key: 'Mod-Shift-2',\n    description: 'ì œëª© 2',\n    command: ({ editor }: any) => editor.chain().focus().toggleHeading({ level: 2 }).run(),\n  },\n  {\n    key: 'Mod-Shift-3',\n    description: 'ì œëª© 3',\n    command: ({ editor }: any) => editor.chain().focus().toggleHeading({ level: 3 }).run(),\n  },\n  {\n    key: 'Mod-Shift-7',\n    description: 'ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸',\n    command: ({ editor }: any) => editor.chain().focus().toggleOrderedList().run(),\n  },\n  {\n    key: 'Mod-Shift-8',\n    description: 'ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸',\n    command: ({ editor }: any) => editor.chain().focus().toggleBulletList().run(),\n  },\n  {\n    key: 'Mod-Shift-9',\n    description: 'ì²´í¬ë°•ìŠ¤',\n    command: ({ editor }: any) => editor.chain().focus().toggleTaskList().run(),\n  },\n  {\n    key: 'Mod-Shift-.',\n    description: 'ì¸ìš©êµ¬',\n    command: ({ editor }: any) => editor.chain().focus().toggleBlockquote().run(),\n  },\n  {\n    key: 'Mod-Alt-C',\n    description: 'ì½”ë“œ ë¸”ë¡',\n    command: ({ editor }: any) => editor.chain().focus().toggleCodeBlock().run(),\n  },\n  {\n    key: 'Mod-Shift-H',\n    description: 'í•˜ì´ë¼ì´íŠ¸',\n    command: ({ editor }: any) => editor.chain().focus().toggleHighlight().run(),\n  },\n];\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3163, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/MarkdownEditor.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useState } from 'react';\nimport { useEditor, EditorContent, BubbleMenu } from '@tiptap/react';\nimport StarterKit from '@tiptap/starter-kit';\nimport Placeholder from '@tiptap/extension-placeholder';\nimport Focus from '@tiptap/extension-focus';\nimport Typography from '@tiptap/extension-typography';\nimport CharacterCount from '@tiptap/extension-character-count';\nimport Underline from '@tiptap/extension-underline';\nimport { SlashCommand, slashSuggestion } from './SlashCommands';\nimport { Bold, Italic, Underline as UnderlineIcon, Strikethrough, Code, Link } from 'lucide-react';\nimport { Logger } from '../../../../shared/logger';\nimport { handleEditorKeyDown, bindShortcutsToEditor, ALL_SHORTCUTS } from './EditorShortcuts';\nimport { TaskList, TaskItem, Callout, Toggle, Highlight } from './AdvancedNotionFeatures';\nimport './MarkdownEditor.css';\n\n// ğŸ”¥ ì‘ê°€ ì¹œí™”ì  TipTap ì—ë””í„° ìŠ¤íƒ€ì¼\nconst EDITOR_STYLES = {\n  container: 'w-full h-full flex flex-col',\n  editor: 'flex-1 p-6 prose prose-slate max-w-none focus:outline-none',\n  focused: 'prose-lg', // í¬ì»¤ìŠ¤ ëª¨ë“œì—ì„œ ë” í° ê¸€ì\n  placeholder: 'text-slate-400 pointer-events-none',\n  bubble: 'flex gap-2 p-2 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-lg shadow-lg',\n  bubbleButton: 'px-3 py-1 text-sm bg-slate-100 hover:bg-slate-200 dark:bg-slate-700 dark:hover:bg-slate-600 rounded transition-colors'\n} as const;\n\ninterface MarkdownEditorProps {\n  content: string;\n  onChange: (content: string) => void;\n  isFocusMode: boolean;\n}\n\nexport function MarkdownEditor({ content, onChange, isFocusMode }: MarkdownEditorProps): React.ReactElement {\n  const [isReady, setIsReady] = useState(false);\n\n  // ğŸ”¥ TipTap ì—ë””í„° ì´ˆê¸°í™” (Notion ìŠ¤íƒ€ì¼ + ì‘ê°€ ì¹œí™”ì  ì„¤ì •)\n  const editor = useEditor({\n    extensions: [\n      StarterKit.configure({\n        // ğŸ”¥ ì‘ê°€ ì¹œí™”ì  ì„¤ì •\n        heading: {\n          levels: [1, 2, 3, 4] // H1~H4ë§Œ ì‚¬ìš©\n        },\n        bulletList: {\n          HTMLAttributes: {\n            class: 'list-disc list-outside ml-6'\n          }\n        },\n        orderedList: {\n          HTMLAttributes: {\n            class: 'list-decimal list-outside ml-6'\n          }\n        }\n      }),\n      \n      // ğŸ”¥ ì–¸ë”ë¼ì¸ í™•ì¥\n      Underline,\n      \n      // ğŸ”¥ Placeholder í™•ì¥ (ì‘ê°€ ì¹œí™”ì )\n      Placeholder.configure({\n        placeholder: ({ node }) => {\n          if (node.type.name === 'heading') {\n            const level = node.attrs.level;\n            switch (level) {\n              case 1: return 'ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”...';\n              case 2: return 'ì±•í„° ì œëª©...';\n              case 3: return 'ì„¹ì…˜ ì œëª©...';\n              default: return 'ì†Œì œëª©...';\n            }\n          }\n          if (node.type.name === 'callout') {\n            return 'ì½œì•„ì›ƒ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...';\n          }\n          if (node.type.name === 'toggle') {\n            return 'í† ê¸€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”...';\n          }\n          return '/ ë¥¼ ì…ë ¥í•˜ì—¬ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ ì´ì•¼ê¸°ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”...';\n        },\n        showOnlyWhenEditable: true,\n        showOnlyCurrent: false,\n      }),\n      \n      // ğŸ”¥ Focus í™•ì¥ (í¬ì»¤ìŠ¤ ëª¨ë“œ)\n      Focus.configure({\n        className: 'has-focus',\n        mode: 'all',\n      }),\n      \n      // ğŸ”¥ Typography í™•ì¥ (ì‘ê°€ ì¹œí™”ì  íƒ€ì´í¬ê·¸ë˜í”¼)\n      Typography.configure({\n        openDoubleQuote: '\"',\n        closeDoubleQuote: '\"',\n        openSingleQuote: \"'\",\n        closeSingleQuote: \"'\",\n        ellipsis: '...',\n        emDash: '--',\n      }),\n      \n      // ğŸ”¥ ë…¸ì…˜ ìŠ¤íƒ€ì¼ í™•ì¥ë“¤\n      TaskList,\n      TaskItem,\n      Callout,\n      Toggle,\n      Highlight,\n      \n      // ğŸ”¥ ìŠ¬ë˜ì‹œ ëª…ë ¹ì–´ í™•ì¥\n      SlashCommand.configure({\n        suggestion: slashSuggestion,\n      }),\n      \n      // ğŸ”¥ ë¬¸ì ìˆ˜ ì¹´ìš´íŠ¸\n      CharacterCount,\n    ],\n    \n    content,\n    \n    // ğŸ”¥ ì—ë””í„° ì„¤ì •\n    editorProps: {\n      attributes: {\n        class: `${EDITOR_STYLES.editor} ${isFocusMode ? EDITOR_STYLES.focused : ''}`,\n        'data-placeholder': 'ì´ì•¼ê¸°ë¥¼ ì‹œì‘í•´ë³´ì„¸ìš”...',\n      },\n      \n      // ğŸ”¥ ê°•í™”ëœ ë…¸ì…˜ ìŠ¤íƒ€ì¼ í‚¤ë³´ë“œ í•¸ë“¤ëŸ¬\n      handleKeyDown: (view, event) => {\n        const { state, dispatch } = view;\n        const { selection } = state;\n        \n        // ğŸ”¥ Space í‚¤ ë§ˆí¬ë‹¤ìš´ ì²˜ë¦¬ ìµœìš°ì„  (ë…¸ì…˜ ìŠ¤íƒ€ì¼)\n        if (event.key === ' ') {\n          const { $from } = selection;\n          const textBefore = $from.parent.textContent.slice(0, $from.parentOffset);\n          \n          // # ì²˜ë¦¬ (ì œëª© 1)\n          if (textBefore === '#') {\n            event.preventDefault();\n            event.stopPropagation();\n            \n            // ğŸ”¥ QA ê°€ì´ë“œ: setTimeout ì œê±°, ì§ì ‘ì ì¸ ì²´ì¸ ëª…ë ¹ì–´ ì‚¬ìš©\n            const range = { from: $from.pos - 1, to: $from.pos };\n            if (editor && !editor.isDestroyed) {\n              editor.chain().focus().deleteRange(range).setHeading({ level: 1 }).run();\n            }\n            \n            Logger.debug('TIPTAP_EDITOR', 'âœ… Markdown: H1 applied');\n            return true;\n          }\n          \n          // ## ì²˜ë¦¬ (ì œëª© 2)\n          if (textBefore === '##') {\n            event.preventDefault();\n            event.stopPropagation();\n            \n            // ğŸ”¥ QA ê°€ì´ë“œ: setTimeout ì œê±°, ì§ì ‘ì ì¸ ì²´ì¸ ëª…ë ¹ì–´ ì‚¬ìš©\n            const range = { from: $from.pos - 2, to: $from.pos };\n            if (editor && !editor.isDestroyed) {\n              editor.chain().focus().deleteRange(range).setHeading({ level: 2 }).run();\n            }\n            \n            Logger.debug('TIPTAP_EDITOR', 'âœ… Markdown: H2 applied');\n            return true;\n          }\n          \n          // ### ì²˜ë¦¬ (ì œëª© 3)\n          if (textBefore === '###') {\n            event.preventDefault();\n            event.stopPropagation();\n            \n            // ğŸ”¥ QA ê°€ì´ë“œ: setTimeout ì œê±°, ì§ì ‘ì ì¸ ì²´ì¸ ëª…ë ¹ì–´ ì‚¬ìš©\n            const range = { from: $from.pos - 3, to: $from.pos };\n            if (editor && !editor.isDestroyed) {\n              editor.chain().focus().deleteRange(range).setHeading({ level: 3 }).run();\n            }\n            \n            Logger.debug('TIPTAP_EDITOR', 'âœ… Markdown: H3 applied');\n            return true;\n          }\n          \n          // - ì²˜ë¦¬ (ë¶ˆë¦¿ ë¦¬ìŠ¤íŠ¸)\n          if (textBefore === '-') {\n            event.preventDefault();\n            event.stopPropagation();\n            \n            // ğŸ”¥ QA ê°€ì´ë“œ: setTimeout ì œê±°, ì§ì ‘ì ì¸ ì²´ì¸ ëª…ë ¹ì–´ ì‚¬ìš©\n            const range = { from: $from.pos - 1, to: $from.pos };\n            if (editor && !editor.isDestroyed) {\n              editor.chain().focus().deleteRange(range).toggleBulletList().run();\n            }\n            \n            Logger.debug('TIPTAP_EDITOR', 'âœ… Markdown: Bullet list applied');\n            return true;\n          }\n          \n          // 1. ì²˜ë¦¬ (ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸)\n          if (/^\\d+\\.$/.test(textBefore)) {\n            event.preventDefault();\n            event.stopPropagation();\n            \n            // ğŸ”¥ QA ê°€ì´ë“œ: setTimeout ì œê±°, ì§ì ‘ì ì¸ ì²´ì¸ ëª…ë ¹ì–´ ì‚¬ìš©\n            const range = { from: $from.pos - textBefore.length, to: $from.pos };\n            if (editor && !editor.isDestroyed) {\n              editor.chain().focus().deleteRange(range).toggleOrderedList().run();\n            }\n            \n            Logger.debug('TIPTAP_EDITOR', 'âœ… Markdown: Ordered list applied');\n            return true;\n          }\n        }\n        \n        // ğŸ”¥ Space ì™¸ì˜ í‚¤ëŠ” ë‹¨ì¶•í‚¤ ì‹œìŠ¤í…œì—ì„œ ì²˜ë¦¬\n        // ë‹¨, Ctrl/Cmdì™€ ì¡°í•©ëœ í‚¤ë§Œ ë‹¨ì¶•í‚¤ë¡œ ì²˜ë¦¬\n        const isShortcutKey = event.ctrlKey || event.metaKey || event.altKey || ['F1', 'F2', 'F3', 'F4', 'F5', 'F6', 'F7', 'F8', 'F9', 'F10', 'F11', 'F12'].includes(event.key);\n        \n        if (isShortcutKey && handleEditorKeyDown(editor, event)) {\n          return true;\n        }\n        \n        return false;\n      },\n    },\n    \n    // ğŸ”¥ ì½˜í…ì¸  ë³€ê²½ í•¸ë“¤ëŸ¬\n    onUpdate: ({ editor }) => {\n      const newContent = editor.getHTML();\n      onChange(newContent);\n      Logger.debug('TIPTAP_EDITOR', 'Content updated', { \n        wordCount: editor.storage.characterCount?.words() || 0 \n      });\n    },\n    \n    // ğŸ”¥ ì—ë””í„° ì¤€ë¹„ ì™„ë£Œ\n    onCreate: ({ editor }) => {\n      setIsReady(true);\n      Logger.info('TIPTAP_EDITOR', 'Editor created successfully');\n    },\n    \n    // ğŸ”¥ ì—ë””í„° í¬ì»¤ìŠ¤\n    onFocus: ({ editor }) => {\n      Logger.debug('TIPTAP_EDITOR', 'Editor focused');\n    },\n    \n    // ğŸ”¥ ì—ë””í„° ë¸”ëŸ¬\n    onBlur: ({ editor }) => {\n      Logger.debug('TIPTAP_EDITOR', 'Editor blurred');\n    },\n  });\n\n  // ğŸ”¥ ì™¸ë¶€ content ë³€ê²½ ì‹œ ì—ë””í„° ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (editor && content !== editor.getHTML()) {\n      editor.commands.setContent(content, false);\n    }\n  }, [content, editor]);\n\n  // ğŸ”¥ í¬ì»¤ìŠ¤ ëª¨ë“œ ë³€ê²½ ì‹œ í´ë˜ìŠ¤ ì—…ë°ì´íŠ¸\n  useEffect(() => {\n    if (editor) {\n      const editorElement = editor.view.dom as HTMLElement;\n      editorElement.className = `${EDITOR_STYLES.editor} ${isFocusMode ? EDITOR_STYLES.focused : ''}`;\n    }\n  }, [isFocusMode, editor]);\n\n  // ğŸ”¥ ë‹¨ì¶•í‚¤ ë°”ì¸ë”© ë° ì €ì¥ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ\n  useEffect(() => {\n    if (!editor) return;\n\n    // ğŸ”¥ ë‹¨ì¶•í‚¤ ë°”ì¸ë”©\n    const unbindShortcuts = bindShortcutsToEditor(editor);\n    \n    // ğŸ”¥ ì €ì¥ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (Ctrl+S)\n    const handleSave = () => {\n      const saveEvent = new CustomEvent('project:save');\n      window.dispatchEvent(saveEvent);\n      Logger.info('TIPTAP_EDITOR', 'Save event triggered from editor');\n    };\n    \n    window.addEventListener('editor:save', handleSave);\n    \n    Logger.info('TIPTAP_EDITOR', 'Shortcuts and save event bound', {\n      shortcutCount: ALL_SHORTCUTS.length\n    });\n\n    // ğŸ”¥ ì •ë¦¬ í•¨ìˆ˜\n    return () => {\n      unbindShortcuts();\n      window.removeEventListener('editor:save', handleSave);\n      Logger.debug('TIPTAP_EDITOR', 'Shortcuts and events unbound');\n    };\n  }, [editor]);\n\n  // ğŸ”¥ ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬\n  useEffect(() => {\n    return () => {\n      if (editor) {\n        editor.destroy();\n        Logger.debug('TIPTAP_EDITOR', 'Editor destroyed');\n      }\n    };\n  }, [editor]);\n\n  // ğŸ”¥ ESC í‚¤ í•¸ë“¤ëŸ¬ (ì§‘ì¤‘ëª¨ë“œ í•´ì œ) ë° ë³µì‚¬ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ\n  useEffect(() => {\n    const handleEscKey = (event: KeyboardEvent): void => {\n      if (event.key === 'Escape' && isFocusMode) {\n        // ì§‘ì¤‘ëª¨ë“œ í•´ì œ ì´ë²¤íŠ¸ ë°œìƒ\n        const exitFocusEvent = new CustomEvent('editor:exitFocus');\n        window.dispatchEvent(exitFocusEvent);\n        Logger.info('TIPTAP_EDITOR', 'ESC pressed - exiting focus mode');\n      }\n    };\n\n    // ğŸ”¥ QA ê°€ì´ë“œ: ì—ë””í„° ë‚´ìš© ë³µì‚¬ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ\n    const handleCopyContent = (event: CustomEvent): void => {\n      if (editor && event.detail && event.detail.callback) {\n        const textContent = editor.getText();\n        event.detail.callback(textContent);\n        Logger.info('TIPTAP_EDITOR', 'Content copied via header button', { \n          length: textContent.length \n        });\n      }\n    };\n\n    window.addEventListener('keydown', handleEscKey);\n    window.addEventListener('project:copyContent', handleCopyContent as EventListener);\n    \n    return () => {\n      window.removeEventListener('keydown', handleEscKey);\n      window.removeEventListener('project:copyContent', handleCopyContent as EventListener);\n    };\n  }, [isFocusMode, editor]);\n\n  // ğŸ”¥ ë¡œë”© ì¤‘ í‘œì‹œ\n  if (!isReady) {\n    return (\n      <div className={EDITOR_STYLES.container}>\n        <div className=\"flex items-center justify-center h-full\">\n          <div className=\"flex flex-col items-center gap-4\">\n            <div className=\"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\n            <span className=\"text-slate-500 text-sm\">ì—ë””í„° ì¤€ë¹„ ì¤‘...</span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={EDITOR_STYLES.container}>\n      {/* ğŸ”¥ Bubble Menu (ì„ íƒ ì‹œ ë‚˜íƒ€ë‚˜ëŠ” íˆ´ë°”) */}\n      {editor && (\n        <BubbleMenu editor={editor} className={EDITOR_STYLES.bubble}>\n          <button\n            onClick={() => editor.chain().focus().toggleBold().run()}\n            className={`${EDITOR_STYLES.bubbleButton} ${\n              editor.isActive('bold') ? 'bg-blue-200 dark:bg-blue-800' : ''\n            }`}\n            title=\"ë³¼ë“œ (Ctrl+B)\"\n          >\n            <strong>B</strong>\n          </button>\n          <button\n            onClick={() => editor.chain().focus().toggleItalic().run()}\n            className={`${EDITOR_STYLES.bubbleButton} ${\n              editor.isActive('italic') ? 'bg-blue-200 dark:bg-blue-800' : ''\n            }`}\n            title=\"ì´íƒ¤ë¦­ (Ctrl+I)\"\n          >\n            <em>I</em>\n          </button>\n          <button\n            onClick={() => editor.chain().focus().toggleUnderline().run()}\n            className={`${EDITOR_STYLES.bubbleButton} ${\n              editor.isActive('underline') ? 'bg-blue-200 dark:bg-blue-800' : ''\n            }`}\n            title=\"ì–¸ë”ë¼ì¸ (Ctrl+U)\"\n          >\n            <u>U</u>\n          </button>\n          <button\n            onClick={() => editor.chain().focus().toggleStrike().run()}\n            className={`${EDITOR_STYLES.bubbleButton} ${\n              editor.isActive('strike') ? 'bg-blue-200 dark:bg-blue-800' : ''\n            }`}\n            title=\"ì·¨ì†Œì„  (Ctrl+Shift+S)\"\n          >\n            <s>S</s>\n          </button>\n          <button\n            onClick={() => editor.chain().focus().toggleCode().run()}\n            className={`${EDITOR_STYLES.bubbleButton} ${\n              editor.isActive('code') ? 'bg-blue-200 dark:bg-blue-800' : ''\n            }`}\n            title=\"ì½”ë“œ\"\n          >\n            Code\n          </button>\n        </BubbleMenu>\n      )}\n      \n      {/* ğŸ”¥ ë©”ì¸ ì—ë””í„° */}\n      <EditorContent editor={editor} />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3658, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/views/WriteView.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { MarkdownEditor } from '../editor/MarkdownEditor';\n\ninterface WriteViewProps {\n  content: string;\n  onChange: (content: string) => void;\n  isFocusMode: boolean;\n}\n\n// ğŸ”¥ í”„ë¦¬ì»´íŒŒì¼ëœ ìŠ¤íƒ€ì¼ (11ì›ì¹™ ì¤€ìˆ˜)\nconst WRITE_STYLES = {\n  container: 'flex-1 flex flex-col h-full bg-white dark:bg-gray-900',\n  editorWrapper: 'flex-1 min-h-0 overflow-hidden',\n} as const;\n\nexport function WriteView({ content, onChange, isFocusMode }: WriteViewProps): React.ReactElement {\n  return (\n    <div className={WRITE_STYLES.container}>\n      <div className={WRITE_STYLES.editorWrapper}>\n        <MarkdownEditor\n          content={content}\n          onChange={onChange}\n          isFocusMode={isFocusMode}\n        />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AAHA;;;AAWA,0BAA0B;AAC1B,MAAM,eAAe;IACnB,WAAW;IACX,eAAe;AACjB;AAEO,SAAS,UAAU,EAAE,OAAO,EAAE,QAAQ,EAAE,WAAW,EAAkB;IAC1E,qBACE,+YAAC;QAAI,WAAW,aAAa,SAAS;kBACpC,cAAA,+YAAC;YAAI,WAAW,aAAa,aAAa;sBACxC,cAAA,+YAAC,sKAAA,CAAA,iBAAc;gBACb,SAAS;gBACT,UAAU;gBACV,aAAa;;;;;;;;;;;;;;;;AAKvB","debugId":null}},
    {"offset": {"line": 3702, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/views/StructureView.tsx"],"sourcesContent":["'use client';\n\n// ìŠ¤í† ë¦¬ ë·° ì“°ê³ ìˆìŒ\n\nimport React from 'react';\nimport { ProjectStructure } from '../../../../shared/types';\nimport { FileText, Hash, Bookmark, Plus } from 'lucide-react';\n\ninterface StructureViewProps {\n  structure: ProjectStructure[];\n  onStructureChange: (structure: ProjectStructure[]) => void;\n}\n\n// ğŸ”¥ ì°¨ë¶„í•˜ê³  ì „ë¬¸ì ì¸ êµ¬ì¡° ìŠ¤íƒ€ì¼ (11ì›ì¹™ ì¤€ìˆ˜)\nconst STRUCTURE_STYLES = {\n  container: 'flex-1 overflow-hidden bg-white dark:bg-gray-900',\n  header: 'p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700',\n  title: 'text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2',\n  subtitle: 'text-gray-600 dark:text-gray-400',\n  content: 'flex-1 overflow-y-auto p-6',\n  \n  // êµ¬ì¡° ì•„ì´í…œ\n  structureList: 'space-y-2',\n  structureItem: 'flex items-center gap-3 p-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-sm hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200 cursor-pointer',\n  itemIcon: 'w-5 h-5 text-blue-600 dark:text-blue-400',\n  itemContent: 'flex-1',\n  itemTitle: 'font-medium text-gray-900 dark:text-gray-100',\n  itemType: 'text-xs text-gray-500 dark:text-gray-400',\n  \n  // ì¶”ê°€ ë²„íŠ¼\n  addButton: 'flex items-center gap-2 w-full p-3 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg text-gray-600 dark:text-gray-400 hover:border-blue-400 hover:text-blue-600 transition-colors',\n} as const;\n\n// íƒ€ì…ë³„ ì•„ì´ì½˜ ë§¤í•‘\nconst TYPE_ICONS = {\n  chapter: Hash,\n  scene: FileText,\n  note: Bookmark,\n} as const;\n\nexport function StructureView({ structure, onStructureChange }: StructureViewProps): React.ReactElement {\n  \n  const handleAddItem = (): void => {\n    const newItem: ProjectStructure = {\n      id: Date.now().toString(),\n      projectId: structure[0]?.projectId || '',\n      type: 'scene',\n      title: 'ìƒˆ ì¥ë©´',\n      isActive: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    \n    onStructureChange([...structure, newItem]);\n  };\n\n  return (\n    <div className={STRUCTURE_STYLES.container}>\n      {/* í—¤ë” */}\n      <div className={STRUCTURE_STYLES.header}>\n        <h2 className={STRUCTURE_STYLES.title}>ìŠ¤í† ë¦¬ êµ¬ì¡°</h2>\n        <p className={STRUCTURE_STYLES.subtitle}>\n          ì¥, ì¥ë©´, ë©”ëª¨ë¥¼ ê´€ë¦¬í•˜ì—¬ ì´ì•¼ê¸°ì˜ íë¦„ì„ êµ¬ì„±í•˜ì„¸ìš”\n        </p>\n      </div>\n      \n      {/* êµ¬ì¡° ëª©ë¡ */}\n      <div className={STRUCTURE_STYLES.content}>\n        <div className={STRUCTURE_STYLES.structureList}>\n          {structure.map((item) => {\n            const IconComponent = TYPE_ICONS[item.type as keyof typeof TYPE_ICONS] || FileText;\n            \n            return (\n              <div key={item.id} className={STRUCTURE_STYLES.structureItem}>\n                <IconComponent className={STRUCTURE_STYLES.itemIcon} />\n                <div className={STRUCTURE_STYLES.itemContent}>\n                  <div className={STRUCTURE_STYLES.itemTitle}>{item.title}</div>\n                  <div className={STRUCTURE_STYLES.itemType}>\n                    {item.type === 'chapter' ? 'ì¥' : \n                     item.type === 'scene' ? 'ì¥ë©´' : 'ë©”ëª¨'}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n          \n          {/* ì¶”ê°€ ë²„íŠ¼ */}\n          <button \n            onClick={handleAddItem}\n            className={STRUCTURE_STYLES.addButton}\n          >\n            <Plus className=\"w-5 h-5\" />\n            <span>ìƒˆ í•­ëª© ì¶”ê°€</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAMA;AAAA;AAAA;AAAA;AANA;;;AAaA,gCAAgC;AAChC,MAAM,mBAAmB;IACvB,WAAW;IACX,QAAQ;IACR,OAAO;IACP,UAAU;IACV,SAAS;IAET,SAAS;IACT,eAAe;IACf,eAAe;IACf,UAAU;IACV,aAAa;IACb,WAAW;IACX,UAAU;IAEV,QAAQ;IACR,WAAW;AACb;AAEA,aAAa;AACb,MAAM,aAAa;IACjB,SAAS,uRAAA,CAAA,OAAI;IACb,OAAO,mSAAA,CAAA,WAAQ;IACf,MAAM,+RAAA,CAAA,WAAQ;AAChB;AAEO,SAAS,cAAc,EAAE,SAAS,EAAE,iBAAiB,EAAsB;IAEhF,MAAM,gBAAgB;QACpB,MAAM,UAA4B;YAChC,IAAI,KAAK,GAAG,GAAG,QAAQ;YACvB,WAAW,SAAS,CAAC,EAAE,EAAE,aAAa;YACtC,MAAM;YACN,OAAO;YACP,UAAU;YACV,WAAW,IAAI;YACf,WAAW,IAAI;QACjB;QAEA,kBAAkB;eAAI;YAAW;SAAQ;IAC3C;IAEA,qBACE,+YAAC;QAAI,WAAW,iBAAiB,SAAS;;0BAExC,+YAAC;gBAAI,WAAW,iBAAiB,MAAM;;kCACrC,+YAAC;wBAAG,WAAW,iBAAiB,KAAK;kCAAE;;;;;;kCACvC,+YAAC;wBAAE,WAAW,iBAAiB,QAAQ;kCAAE;;;;;;;;;;;;0BAM3C,+YAAC;gBAAI,WAAW,iBAAiB,OAAO;0BACtC,cAAA,+YAAC;oBAAI,WAAW,iBAAiB,aAAa;;wBAC3C,UAAU,GAAG,CAAC,CAAC;4BACd,MAAM,gBAAgB,UAAU,CAAC,KAAK,IAAI,CAA4B,IAAI,mSAAA,CAAA,WAAQ;4BAElF,qBACE,+YAAC;gCAAkB,WAAW,iBAAiB,aAAa;;kDAC1D,+YAAC;wCAAc,WAAW,iBAAiB,QAAQ;;;;;;kDACnD,+YAAC;wCAAI,WAAW,iBAAiB,WAAW;;0DAC1C,+YAAC;gDAAI,WAAW,iBAAiB,SAAS;0DAAG,KAAK,KAAK;;;;;;0DACvD,+YAAC;gDAAI,WAAW,iBAAiB,QAAQ;0DACtC,KAAK,IAAI,KAAK,YAAY,MAC1B,KAAK,IAAI,KAAK,UAAU,OAAO;;;;;;;;;;;;;+BAN5B,KAAK,EAAE;;;;;wBAWrB;sCAGA,+YAAC;4BACC,SAAS;4BACT,WAAW,iBAAiB,SAAS;;8CAErC,+YAAC,uRAAA,CAAA,OAAI;oCAAC,WAAU;;;;;;8CAChB,+YAAC;8CAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMlB","debugId":null}},
    {"offset": {"line": 3877, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/views/CharactersView.tsx"],"sourcesContent":["'use client';\n\n// ìºë¦­í„° ë·° ì“°ê³ ìˆìŒ\n\nimport React, { useState } from 'react';\nimport { ProjectCharacter } from '../../../../shared/types';\nimport { Plus, Edit3, Save, X as XIcon } from 'lucide-react';\nimport { Logger } from '../../../../shared/logger';\n\ninterface CharactersViewProps {\n  projectId: string;\n  characters: ProjectCharacter[];\n  onCharactersChange: (characters: ProjectCharacter[]) => void;\n}\n\n// ğŸ”¥ ì°¨ë¶„í•˜ê³  ì „ë¬¸ì ì¸ ì‘ê°€ ë„êµ¬ ìŠ¤íƒ€ì¼ (11ì›ì¹™ ì¤€ìˆ˜)\nconst CHARACTERS_STYLES = {\n  container: 'flex-1 overflow-hidden bg-white dark:bg-gray-900',\n  \n  // ğŸ”¥ ê¹”ë”í•œ í—¤ë”\n  header: 'p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700',\n  title: 'text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2',\n  subtitle: 'text-gray-600 dark:text-gray-400',\n  \n  // ğŸ”¥ ì»¨í…ì¸  ì˜ì—­\n  content: 'flex-1 overflow-y-auto p-6',\n  \n  // ğŸ”¥ ê°„ë‹¨í•œ ì¹´ë“œ ê·¸ë¦¬ë“œ\n  characterGrid: 'grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4',\n  \n  // ğŸ”¥ ë¯¸ë‹ˆë©€ ì¹´ë“œ\n  characterCard: 'group p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-sm hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200',\n  \n  // ğŸ”¥ ì¹´ë“œ ë‚´ë¶€ ìš”ì†Œë“¤\n  characterHeader: 'flex items-start justify-between mb-3',\n  characterInfo: 'flex-1',\n  characterName: 'text-lg font-medium text-gray-900 dark:text-gray-100 mb-1',\n  \n  // ğŸ”¥ ê°„ë‹¨í•œ ì—­í•  ë°°ì§€\n  characterRole: 'inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded',\n  \n  characterNotes: 'text-gray-600 dark:text-gray-400 text-sm mt-2 line-clamp-3',\n  \n  // ğŸ”¥ ê°„ë‹¨í•œ ì¶”ê°€ ë²„íŠ¼\n  addButton: 'group flex flex-col items-center justify-center gap-2 p-6 bg-white dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 cursor-pointer',\n  \n  addButtonIcon: 'w-5 h-5 text-gray-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors',\n  addButtonText: 'text-sm font-medium text-gray-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors',\n  \n  // ğŸ”¥ í¸ì§‘ ë²„íŠ¼\n  editButton: 'p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors',\n  saveButton: 'p-1.5 text-gray-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors',\n  cancelButton: 'p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors',\n  \n  // ğŸ”¥ í¸ì§‘ ì¸í’‹\n  editInput: 'w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500',\n  editTextarea: 'w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none',\n} as const;\n\nexport function CharactersView({ projectId, characters, onCharactersChange }: CharactersViewProps): React.ReactElement {\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editForm, setEditForm] = useState<Partial<ProjectCharacter>>({});\n  \n  const handleAddCharacter = async (): Promise<void> => {\n    try {\n      const newCharacter: ProjectCharacter = {\n        id: Date.now().toString(),\n        projectId: characters[0]?.projectId || projectId,\n        name: 'ìƒˆ ì¸ë¬¼',\n        role: 'ì—­í•  ë¯¸ì •',\n        notes: 'ì¸ë¬¼ì— ëŒ€í•œ ì„¤ëª…ì„ ì¶”ê°€í•˜ì„¸ìš”.',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      };\n      \n      // ğŸ”¥ ì‹¤ì œ DBì— ì €ì¥\n      const result = await window.electronAPI.projects.upsertCharacter(newCharacter);\n      \n      if (result.success && result.data) {\n        // ğŸ”¥ ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸\n        onCharactersChange([...characters, result.data]);\n        setEditingId(result.data.id);\n        setEditForm(result.data);\n        Logger.info('CHARACTERS_VIEW', 'New character saved to DB', { id: result.data.id });\n      } else {\n        throw new Error(result.error || 'Failed to create character');\n      }\n    } catch (error) {\n      Logger.error('CHARACTERS_VIEW', 'Failed to create character', error);\n      alert('ìºë¦­í„° ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const handleEditStart = (character: ProjectCharacter): void => {\n    setEditingId(character.id);\n    setEditForm(character);\n    Logger.debug('CHARACTERS_VIEW', 'Edit started', { id: character.id });\n  };\n\n  const handleEditSave = async (): Promise<void> => {\n    if (!editingId || !editForm) return;\n    \n    try {\n      // ğŸ”¥ ì‹¤ì œ DBì— ì €ì¥\n      const characterToSave = {\n        ...editForm,\n        id: editingId,\n        updatedAt: new Date()\n      };\n      \n      const result = await window.electronAPI.projects.upsertCharacter(characterToSave);\n      \n      if (result.success && result.data) {\n        // ğŸ”¥ ë¡œì»¬ ìƒíƒœ ì—…ë°ì´íŠ¸\n        const updatedCharacters = characters.map(char => \n          char.id === editingId ? result.data! : char\n        );\n        \n        onCharactersChange(updatedCharacters);\n        setEditingId(null);\n        setEditForm({});\n        Logger.info('CHARACTERS_VIEW', 'Character saved to DB', { id: editingId });\n      } else {\n        throw new Error(result.error || 'Failed to save character');\n      }\n    } catch (error) {\n      Logger.error('CHARACTERS_VIEW', 'Failed to save character', error);\n      // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ ì•Œë¦¼ (í–¥í›„ toast ì‹œìŠ¤í…œ ì¶”ê°€)\n      alert('ìºë¦­í„° ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');\n    }\n  };\n\n  const handleEditCancel = (): void => {\n    setEditingId(null);\n    setEditForm({});\n    Logger.debug('CHARACTERS_VIEW', 'Edit cancelled');\n  };\n\n  const handleDelete = (id: string): void => {\n    const updatedCharacters = characters.filter(char => char.id !== id);\n    onCharactersChange(updatedCharacters);\n    Logger.info('CHARACTERS_VIEW', 'Character deleted', { id });\n  };\n\n  return (\n    <div className={CHARACTERS_STYLES.container}>\n      {/* ğŸ”¥ ê¹”ë”í•œ í—¤ë” */}\n      <div className={CHARACTERS_STYLES.header}>\n        <h2 className={CHARACTERS_STYLES.title}>ë“±ì¥ì¸ë¬¼</h2>\n        <p className={CHARACTERS_STYLES.subtitle}>\n          ì´ì•¼ê¸°ì˜ ë“±ì¥ì¸ë¬¼ë“¤ì„ ì •ë¦¬í•˜ê³  ê´€ë¦¬í•˜ì„¸ìš”\n        </p>\n      </div>\n      \n      {/* ğŸ”¥ ìºë¦­í„° ëª©ë¡ */}\n      <div className={CHARACTERS_STYLES.content}>\n        <div className={CHARACTERS_STYLES.characterGrid}>\n          {characters.map((character) => (\n            <div key={character.id} className={CHARACTERS_STYLES.characterCard}>\n              <div className={CHARACTERS_STYLES.characterHeader}>\n                <div className={CHARACTERS_STYLES.characterInfo}>\n                  {editingId === character.id ? (\n                    // ğŸ”¥ í¸ì§‘ ëª¨ë“œ\n                    <>\n                      <input\n                        type=\"text\"\n                        value={editForm.name || ''}\n                        onChange={(e) => setEditForm(prev => ({ ...prev, name: e.target.value }))}\n                        className={CHARACTERS_STYLES.editInput}\n                        placeholder=\"ì¸ë¬¼ ì´ë¦„\"\n                      />\n                      <input\n                        type=\"text\"\n                        value={editForm.role || ''}\n                        onChange={(e) => setEditForm(prev => ({ ...prev, role: e.target.value }))}\n                        className={`${CHARACTERS_STYLES.editInput} mt-2`}\n                        placeholder=\"ì—­í• \"\n                      />\n                      <textarea\n                        value={editForm.notes || ''}\n                        onChange={(e) => setEditForm(prev => ({ ...prev, notes: e.target.value }))}\n                        className={`${CHARACTERS_STYLES.editTextarea} mt-2`}\n                        placeholder=\"ì¸ë¬¼ ì„¤ëª…\"\n                        rows={3}\n                      />\n                    </>\n                  ) : (\n                    // ğŸ”¥ í‘œì‹œ ëª¨ë“œ\n                    <>\n                      <h3 className={CHARACTERS_STYLES.characterName}>{character.name}</h3>\n                      <span className={CHARACTERS_STYLES.characterRole}>{character.role}</span>\n                      <p className={CHARACTERS_STYLES.characterNotes}>{character.notes}</p>\n                    </>\n                  )}\n                </div>\n                \n                {/* ğŸ”¥ ì•¡ì…˜ ë²„íŠ¼ë“¤ */}\n                <div className=\"flex gap-1\">\n                  {editingId === character.id ? (\n                    <>\n                      <button\n                        onClick={handleEditSave}\n                        className={CHARACTERS_STYLES.saveButton}\n                        title=\"ì €ì¥\"\n                      >\n                        <Save size={16} />\n                      </button>\n                      <button\n                        onClick={handleEditCancel}\n                        className={CHARACTERS_STYLES.cancelButton}\n                        title=\"ì·¨ì†Œ\"\n                      >\n                        <XIcon size={16} />\n                      </button>\n                    </>\n                  ) : (\n                    <button\n                      onClick={() => handleEditStart(character)}\n                      className={CHARACTERS_STYLES.editButton}\n                      title=\"í¸ì§‘\"\n                    >\n                      <Edit3 size={16} />\n                    </button>\n                  )}\n                </div>\n              </div>\n            </div>\n          ))}\n          \n          {/* ğŸ”¥ ì¶”ê°€ ë²„íŠ¼ */}\n          <button \n            onClick={handleAddCharacter}\n            className={CHARACTERS_STYLES.addButton}\n          >\n            <Plus className={CHARACTERS_STYLES.addButtonIcon} />\n            <span className={CHARACTERS_STYLES.addButtonText}>ìƒˆ ì¸ë¬¼ ì¶”ê°€</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4245, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/views/NotesView.tsx"],"sourcesContent":["'use client';\n\n// ë…¸íŠ¸ ë·° ì“°ê³ ìˆìŒ\n \nimport React, { useState } from 'react';\nimport { ProjectNote } from '../../../../shared/types';\nimport { Plus, Edit3, Save, X as XIcon, Lightbulb, Target, BookOpen } from 'lucide-react';\nimport { Logger } from '../../../../shared/logger';\n\ninterface NotesViewProps {\n  projectId: string;\n  notes?: ProjectNote[];\n  onNotesChange?: (notes: ProjectNote[]) => void;\n}\n\n// ğŸ”¥ ì°¨ë¶„í•˜ê³  ì „ë¬¸ì ì¸ ë…¸íŠ¸ ìŠ¤íƒ€ì¼ (11ì›ì¹™ ì¤€ìˆ˜)\nconst NOTES_STYLES = {\n  container: 'flex-1 overflow-hidden bg-white dark:bg-gray-900',\n  \n  // ğŸ”¥ ê¹”ë”í•œ í—¤ë”\n  header: 'p-6 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700',\n  title: 'text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2',\n  subtitle: 'text-gray-600 dark:text-gray-400',\n  \n  // ğŸ”¥ ì»¨í…ì¸  ì˜ì—­\n  content: 'flex-1 overflow-y-auto p-6',\n  \n  // ğŸ”¥ íƒ€ì… í•„í„°\n  typeButtons: 'flex gap-2 mb-6 flex-wrap',\n  typeButton: 'flex items-center gap-2 px-3 py-2 text-sm font-medium border border-gray-200 dark:border-gray-700 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors',\n  typeButtonActive: 'bg-blue-600 text-white border-blue-600 hover:bg-blue-700',\n  \n  // ğŸ”¥ ê°„ë‹¨í•œ ë…¸íŠ¸ ê·¸ë¦¬ë“œ\n  notesGrid: 'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4',\n  \n  // ğŸ”¥ ë¯¸ë‹ˆë©€ ë…¸íŠ¸ ì¹´ë“œ\n  noteCard: 'group p-4 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow-sm hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-200',\n  \n  noteHeader: 'flex items-center gap-3 mb-3',\n  noteIcon: 'w-5 h-5 text-blue-600 dark:text-blue-400',\n  noteTitle: 'font-medium text-gray-900 dark:text-gray-100 flex-1',\n  noteContent: 'text-gray-600 dark:text-gray-400 text-sm whitespace-pre-wrap line-clamp-4',\n  noteDate: 'text-xs text-gray-500 dark:text-gray-500 mt-3',\n  \n  // ğŸ”¥ ê°„ë‹¨í•œ ì¶”ê°€ ë²„íŠ¼\n  addButton: 'group flex flex-col items-center justify-center gap-2 p-6 bg-white dark:bg-gray-800 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-200 cursor-pointer min-h-[150px]',\n  addButtonIcon: 'w-6 h-6 text-gray-400 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors',\n  addButtonText: 'font-medium text-gray-600 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors',\n  addButtonSubtext: 'text-sm text-gray-500 dark:text-gray-500 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors',\n  \n  // ğŸ”¥ í¸ì§‘ ë²„íŠ¼\n  editButton: 'p-1.5 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors',\n  saveButton: 'p-1.5 text-gray-400 hover:text-green-600 dark:hover:text-green-400 hover:bg-green-50 dark:hover:bg-green-900/20 rounded transition-colors',\n  cancelButton: 'p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors',\n  \n  // ğŸ”¥ í¸ì§‘ ì¸í’‹\n  editInput: 'w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500',\n  editTextarea: 'w-full px-2 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-1 focus:ring-blue-500 resize-none',\n} as const;\n\n// ê¸°ë³¸ ë©”ëª¨ ë°ì´í„°\nconst DEFAULT_NOTES: ProjectNote[] = [\n  {\n    id: '1',\n    projectId: '',\n    title: 'ğŸ’¡ í•µì‹¬ ì•„ì´ë””ì–´',\n    content: 'â€¢ ì£¼ì¸ê³µì˜ ìˆ¨ê²¨ì§„ ê³¼ê±°\\nâ€¢ ë°˜ì „ í¬ì¸íŠ¸ 3ê°œ\\nâ€¢ ê°ì •ì  í´ë¼ì´ë§¥ìŠ¤',\n    type: 'idea',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  },\n  {\n    id: '2',\n    projectId: '',\n    title: 'ğŸ¯ ìŠ¤í† ë¦¬ ëª©í‘œ',\n    content: 'ë…ìê°€ ëŠê»´ì•¼ í•  ê°ì •:\\n- ê¸´ì¥ê°\\n- ê²½ì´ë¡œì›€\\n- ì¹´íƒ€ë¥´ì‹œìŠ¤',\n    type: 'goal',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  },\n  {\n    id: '3',\n    projectId: '',\n    title: 'ğŸ“ ì°¸ê³  ìë£Œ',\n    content: 'â€¢ ê´€ë ¨ ì˜í™”: ì¸ì…‰ì…˜, ë§¤íŠ¸ë¦­ìŠ¤\\nâ€¢ ì°¸ê³  ì†Œì„¤: 1984\\nâ€¢ ì—°êµ¬ ìë£Œ: ì¸ê³µì§€ëŠ¥ ìœ¤ë¦¬í•™',\n    type: 'reference',\n    createdAt: new Date(),\n    updatedAt: new Date(),\n  },\n];\n\nconst NOTE_TYPES = [\n  { id: 'idea', label: 'ì•„ì´ë””ì–´', icon: Lightbulb },\n  { id: 'goal', label: 'ëª©í‘œ', icon: Target },\n  { id: 'reference', label: 'ì°¸ê³ ', icon: BookOpen },\n];\n\nexport function NotesView({ projectId, notes: propNotes, onNotesChange }: NotesViewProps): React.ReactElement {\n  const [notes, setNotes] = useState<ProjectNote[]>(\n    propNotes || DEFAULT_NOTES.map(note => ({ ...note, projectId }))\n  );\n  const [selectedType, setSelectedType] = useState<string>('all');\n  const [editingId, setEditingId] = useState<string | null>(null);\n  const [editForm, setEditForm] = useState<Partial<ProjectNote>>({});\n  \n  const handleAddNote = (): void => {\n    const newNote: ProjectNote = {\n      id: Date.now().toString(),\n      projectId,\n      title: 'ìƒˆ ë©”ëª¨',\n      content: 'ì—¬ê¸°ì— ë©”ëª¨ë¥¼ ì‘ì„±í•˜ì„¸ìš”...',\n      type: selectedType === 'all' ? 'idea' : selectedType as 'idea' | 'goal' | 'reference',\n      createdAt: new Date(),\n      updatedAt: new Date(),\n    };\n    \n    const updatedNotes = [...notes, newNote];\n    setNotes(updatedNotes);\n    setEditingId(newNote.id);\n    setEditForm(newNote);\n    \n    if (onNotesChange) {\n      onNotesChange(updatedNotes);\n    }\n    \n    Logger.info('NOTES_VIEW', 'New note added', { id: newNote.id });\n  };\n\n  const handleEditStart = (note: ProjectNote): void => {\n    setEditingId(note.id);\n    setEditForm(note);\n    Logger.debug('NOTES_VIEW', 'Edit started', { id: note.id });\n  };\n\n  const handleEditSave = (): void => {\n    if (!editingId || !editForm) return;\n    \n    const updatedNotes = notes.map(note => \n      note.id === editingId \n        ? { ...note, ...editForm, updatedAt: new Date() }\n        : note\n    );\n    \n    setNotes(updatedNotes);\n    setEditingId(null);\n    setEditForm({});\n    \n    if (onNotesChange) {\n      onNotesChange(updatedNotes);\n    }\n    \n    Logger.info('NOTES_VIEW', 'Note updated', { id: editingId });\n  };\n\n  const handleEditCancel = (): void => {\n    setEditingId(null);\n    setEditForm({});\n    Logger.debug('NOTES_VIEW', 'Edit cancelled');\n  };\n\n  const getTypeIcon = (type: string | undefined) => {\n    const noteType = NOTE_TYPES.find(t => t.id === type);\n    return noteType ? noteType.icon : Lightbulb;\n  };\n\n  const filteredNotes = selectedType === 'all' \n    ? notes \n    : notes.filter(note => note.type === selectedType);\n\n  return (\n    <div className={NOTES_STYLES.container}>\n      {/* ğŸ”¥ ê¹”ë”í•œ í—¤ë” */}\n      <div className={NOTES_STYLES.header}>\n        <h2 className={NOTES_STYLES.title}>ì‘ê°€ ë…¸íŠ¸</h2>\n        <p className={NOTES_STYLES.subtitle}>\n          ì•„ì´ë””ì–´, ëª©í‘œ, ì°¸ê³  ìë£Œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ì„¸ìš”\n        </p>\n      </div>\n      \n      {/* ğŸ”¥ ë…¸íŠ¸ ëª©ë¡ */}\n      <div className={NOTES_STYLES.content}>\n        {/* ğŸ”¥ íƒ€ì… í•„í„° */}\n        <div className={NOTES_STYLES.typeButtons}>\n          <button\n            onClick={() => setSelectedType('all')}\n            className={`${NOTES_STYLES.typeButton} ${\n              selectedType === 'all' ? NOTES_STYLES.typeButtonActive : ''\n            }`}\n          >\n            ì „ì²´\n          </button>\n          {NOTE_TYPES.map((type) => {\n            const IconComponent = type.icon;\n            return (\n              <button\n                key={type.id}\n                onClick={() => setSelectedType(type.id)}\n                className={`${NOTES_STYLES.typeButton} ${\n                  selectedType === type.id ? NOTES_STYLES.typeButtonActive : ''\n                }`}\n              >\n                <IconComponent size={16} />\n                {type.label}\n              </button>\n            );\n          })}\n        </div>\n\n        <div className={NOTES_STYLES.notesGrid}>\n          {filteredNotes.map((note) => {\n            const IconComponent = getTypeIcon(note.type);\n            \n            return (\n              <div key={note.id} className={NOTES_STYLES.noteCard}>\n                <div className={NOTES_STYLES.noteHeader}>\n                  <IconComponent className={NOTES_STYLES.noteIcon} />\n                  {editingId === note.id ? (\n                    <input\n                      type=\"text\"\n                      value={editForm.title || ''}\n                      onChange={(e) => setEditForm(prev => ({ ...prev, title: e.target.value }))}\n                      className={NOTES_STYLES.editInput}\n                      placeholder=\"ë©”ëª¨ ì œëª©\"\n                    />\n                  ) : (\n                    <h3 className={NOTES_STYLES.noteTitle}>{note.title}</h3>\n                  )}\n                  \n                  {/* ğŸ”¥ ì•¡ì…˜ ë²„íŠ¼ë“¤ */}\n                  <div className=\"flex gap-1\">\n                    {editingId === note.id ? (\n                      <>\n                        <button\n                          onClick={handleEditSave}\n                          className={NOTES_STYLES.saveButton}\n                          title=\"ì €ì¥\"\n                        >\n                          <Save size={16} />\n                        </button>\n                        <button\n                          onClick={handleEditCancel}\n                          className={NOTES_STYLES.cancelButton}\n                          title=\"ì·¨ì†Œ\"\n                        >\n                          <XIcon size={16} />\n                        </button>\n                      </>\n                    ) : (\n                      <button\n                        onClick={() => handleEditStart(note)}\n                        className={NOTES_STYLES.editButton}\n                        title=\"í¸ì§‘\"\n                      >\n                        <Edit3 size={16} />\n                      </button>\n                    )}\n                  </div>\n                </div>\n                \n                {editingId === note.id ? (\n                  <textarea\n                    value={editForm.content || ''}\n                    onChange={(e) => setEditForm(prev => ({ ...prev, content: e.target.value }))}\n                    className={NOTES_STYLES.editTextarea}\n                    placeholder=\"ë©”ëª¨ ë‚´ìš©\"\n                    rows={6}\n                  />\n                ) : (\n                  <p className={NOTES_STYLES.noteContent}>{note.content}</p>\n                )}\n                \n                <div className={NOTES_STYLES.noteDate}>\n                  {note.updatedAt.toLocaleDateString()}\n                </div>\n              </div>\n            );\n          })}\n          \n          {/* ğŸ”¥ ì¶”ê°€ ë²„íŠ¼ */}\n          <button \n            onClick={handleAddNote}\n            className={NOTES_STYLES.addButton}\n          >\n            <Plus className={NOTES_STYLES.addButtonIcon} />\n            <span className={NOTES_STYLES.addButtonText}>ìƒˆ ë©”ëª¨ ì¶”ê°€</span>\n            <span className={NOTES_STYLES.addButtonSubtext}>\n              {selectedType === 'all' ? 'ì•„ì´ë””ì–´ë¥¼' : NOTE_TYPES.find(t => t.id === selectedType)?.label + 'ë¥¼'} ê¸°ë¡í•˜ì„¸ìš”\n            </span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4682, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/editor/WriterStats.ts"],"sourcesContent":["// ğŸ”¥ ì‘ê°€ í†µê³„ ê³„ì‚° ìœ í‹¸ë¦¬í‹°\n\nexport interface WriterStats {\n  wordCount: number;\n  charCount: number;\n  paragraphCount: number;\n  readingTime: number;\n  wordGoal: number;\n  progress: number;\n  sessionTime: number;\n  wpm: number;\n  headingCount?: number;\n  listItemCount?: number;\n}\n\n// ğŸ”¥ ì‘ê°€ í†µê³„ ê³„ì‚°\nexport const calculateWriterStats = (\n  content: string,\n  wordGoal: number,\n  sessionStartTime: number\n): WriterStats => {\n  if (!content) {\n    return {\n      wordCount: 0,\n      charCount: 0,\n      paragraphCount: 0,\n      readingTime: 0,\n      wordGoal,\n      progress: 0,\n      sessionTime: 0,\n      wpm: 0,\n      headingCount: 0,\n      listItemCount: 0\n    };\n  }\n  \n  const lines = content.split('\\n');\n  const wordCount = content.split(/\\s+/).filter(word => word.length > 0).length;\n  const charCount = content.length;\n  const paragraphCount = content.split(/\\n\\s*\\n/).filter(p => p.trim().length > 0).length;\n  const readingTime = Math.ceil(wordCount / 200); // ë¶„ ë‹¨ìœ„ (200 WPM ê¸°ì¤€)\n  const progress = Math.min(100, Math.round((wordCount / wordGoal) * 100));\n  \n  // ì„¸ì…˜ ì‹œê°„ ë° WPM ê³„ì‚°\n  const sessionMinutes = Math.max(1, (Date.now() - sessionStartTime) / 1000 / 60);\n  const wpm = Math.round(wordCount / sessionMinutes);\n  const sessionTime = Math.floor(sessionMinutes);\n  \n  // ë§ˆí¬ë‹¤ìš´ ìš”ì†Œ ì¹´ìš´íŠ¸\n  const headingCount = lines.filter(line => line.match(/^#{1,6}\\s/)).length;\n  const listItemCount = lines.filter(line => line.match(/^[\\s]*[-*+]\\s/)).length;\n  \n  return {\n    wordCount,\n    charCount,\n    paragraphCount,\n    readingTime,\n    wordGoal,\n    progress,\n    sessionTime,\n    wpm,\n    headingCount,\n    listItemCount\n  };\n};\n\n// ğŸ”¥ ì‹œê°„ í¬ë§·íŒ… í—¬í¼\nexport const formatTime = (minutes: number): string => {\n  if (minutes < 60) return `${minutes}ë¶„`;\n  const hours = Math.floor(minutes / 60);\n  const mins = minutes % 60;\n  return `${hours}ì‹œê°„ ${mins ? `${mins}ë¶„` : ''}`;\n};\n\n// ğŸ”¥ ë§ˆì§€ë§‰ ì €ì¥ ì‹œê°„ í¬ë§·íŒ…\nexport const formatLastSaved = (lastSaved: Date | null): string => {\n  if (!lastSaved) return 'ì €ì¥ë˜ì§€ ì•ŠìŒ';\n  \n  const now = new Date();\n  const diffMs = now.getTime() - lastSaved.getTime();\n  const diffMins = Math.floor(diffMs / (1000 * 60));\n  \n  if (diffMins < 1) return 'ë°©ê¸ˆ ì „';\n  if (diffMins < 60) return `${diffMins}ë¶„ ì „`;\n  \n  const diffHours = Math.floor(diffMins / 60);\n  if (diffHours < 24) return `${diffHours}ì‹œê°„ ì „`;\n  \n  const diffDays = Math.floor(diffHours / 24);\n  return `${diffDays}ì¼ ì „`;\n};\n\n// ğŸ”¥ ê¸€ì“°ê¸° ëª©í‘œ ì¶”ì²œ\nexport const getRecommendedWordGoal = (averageWordsPerDay: number): number[] => {\n  const base = Math.max(500, averageWordsPerDay);\n  return [\n    Math.round(base * 0.8),\n    base,\n    Math.round(base * 1.2),\n    Math.round(base * 1.5),\n    Math.round(base * 2.0)\n  ];\n};\n    "],"names":[],"mappings":"AAAA,mBAAmB;;;;;;;AAgBZ,MAAM,uBAAuB,CAClC,SACA,UACA;IAEA,IAAI,CAAC,SAAS;QACZ,OAAO;YACL,WAAW;YACX,WAAW;YACX,gBAAgB;YAChB,aAAa;YACb;YACA,UAAU;YACV,aAAa;YACb,KAAK;YACL,cAAc;YACd,eAAe;QACjB;IACF;IAEA,MAAM,QAAQ,QAAQ,KAAK,CAAC;IAC5B,MAAM,YAAY,QAAQ,KAAK,CAAC,OAAO,MAAM,CAAC,CAAA,OAAQ,KAAK,MAAM,GAAG,GAAG,MAAM;IAC7E,MAAM,YAAY,QAAQ,MAAM;IAChC,MAAM,iBAAiB,QAAQ,KAAK,CAAC,WAAW,MAAM,CAAC,CAAA,IAAK,EAAE,IAAI,GAAG,MAAM,GAAG,GAAG,MAAM;IACvF,MAAM,cAAc,KAAK,IAAI,CAAC,YAAY,MAAM,oBAAoB;IACpE,MAAM,WAAW,KAAK,GAAG,CAAC,KAAK,KAAK,KAAK,CAAC,AAAC,YAAY,WAAY;IAEnE,iBAAiB;IACjB,MAAM,iBAAiB,KAAK,GAAG,CAAC,GAAG,CAAC,KAAK,GAAG,KAAK,gBAAgB,IAAI,OAAO;IAC5E,MAAM,MAAM,KAAK,KAAK,CAAC,YAAY;IACnC,MAAM,cAAc,KAAK,KAAK,CAAC;IAE/B,cAAc;IACd,MAAM,eAAe,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,KAAK,CAAC,cAAc,MAAM;IACzE,MAAM,gBAAgB,MAAM,MAAM,CAAC,CAAA,OAAQ,KAAK,KAAK,CAAC,kBAAkB,MAAM;IAE9E,OAAO;QACL;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;AACF;AAGO,MAAM,aAAa,CAAC;IACzB,IAAI,UAAU,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC;IACtC,MAAM,QAAQ,KAAK,KAAK,CAAC,UAAU;IACnC,MAAM,OAAO,UAAU;IACvB,OAAO,GAAG,MAAM,GAAG,EAAE,OAAO,GAAG,KAAK,CAAC,CAAC,GAAG,IAAI;AAC/C;AAGO,MAAM,kBAAkB,CAAC;IAC9B,IAAI,CAAC,WAAW,OAAO;IAEvB,MAAM,MAAM,IAAI;IAChB,MAAM,SAAS,IAAI,OAAO,KAAK,UAAU,OAAO;IAChD,MAAM,WAAW,KAAK,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE;IAE/C,IAAI,WAAW,GAAG,OAAO;IACzB,IAAI,WAAW,IAAI,OAAO,GAAG,SAAS,GAAG,CAAC;IAE1C,MAAM,YAAY,KAAK,KAAK,CAAC,WAAW;IACxC,IAAI,YAAY,IAAI,OAAO,GAAG,UAAU,IAAI,CAAC;IAE7C,MAAM,WAAW,KAAK,KAAK,CAAC,YAAY;IACxC,OAAO,GAAG,SAAS,GAAG,CAAC;AACzB;AAGO,MAAM,yBAAyB,CAAC;IACrC,MAAM,OAAO,KAAK,GAAG,CAAC,KAAK;IAC3B,OAAO;QACL,KAAK,KAAK,CAAC,OAAO;QAClB;QACA,KAAK,KAAK,CAAC,OAAO;QAClB,KAAK,KAAK,CAAC,OAAO;QAClB,KAAK,KAAK,CAAC,OAAO;KACnB;AACH","debugId":null}},
    {"offset": {"line": 4764, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/hooks/useAutoSave.ts"],"sourcesContent":["'use client';\n\nimport { useCallback, useRef, useEffect } from 'react';\nimport { Logger } from '../../../../shared/logger';\n\ninterface UseAutoSaveOptions {\n  projectId: string;\n  delay?: number; // ê¸°ë³¸ê°’: 3.5ì´ˆ (ë…¸ì…˜ ìŠ¤íƒ€ì¼)\n  onSave: () => Promise<void>;\n  onSaveSuccess?: () => void;\n  onSaveError?: (error: Error) => void;\n}\n\n/**\n * ğŸ”¥ ë…¸ì…˜ ìŠ¤íƒ€ì¼ ìë™ ì €ì¥ Hook - íƒ€ì´í•‘ ì¤‘ë‹¨ í›„ ì €ì¥\n * \n * íŠ¹ì§•:\n * - ì‚¬ìš©ìê°€ íƒ€ì´í•‘ì„ ë©ˆì¶˜ í›„ì—ë§Œ ì €ì¥ (ë…¸ì…˜ ë°©ì‹)\n * - íƒ€ì´í•‘ ì¤‘ì—ëŠ” ì ˆëŒ€ ì €ì¥í•˜ì§€ ì•ŠìŒ\n * - 3.5ì´ˆ ë”œë ˆì´ë¡œ ì—¬ìœ ë¡œìš´ ì‚¬ìš©ì ê²½í—˜ ì œê³µ\n * - ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì‹œë„ ë¡œì§\n * - ì €ì¥ ìƒíƒœ ì¶”ì \n */\nexport function useAutoSave({\n  projectId,\n  delay = 5000, // ğŸ”¥ 5ì´ˆë¡œ ì¦ê°€ (ê¸€ ì‚­ì œ ë°©ì§€ - ê¸°ê°€ì°¨ë“œ ìˆ˜ì •)\n  onSave,\n  onSaveSuccess,\n  onSaveError\n}: UseAutoSaveOptions) {\n  const saveTimerRef = useRef<NodeJS.Timeout | null>(null);\n  const isLoadingRef = useRef(false);\n  const retryCountRef = useRef(0);\n  const lastTypingTimeRef = useRef<number>(0); // ğŸ”¥ ë§ˆì§€ë§‰ íƒ€ì´í•‘ ì‹œê°„ ì¶”ì \n  const maxRetries = 3;\n\n  // ğŸ”¥ ë…¸ì…˜ ìŠ¤íƒ€ì¼ Debounced ì €ì¥ (íƒ€ì´í•‘ ì¤‘ë‹¨ í›„ì—ë§Œ)\n  const debouncedSave = useCallback(() => {\n    // ğŸ”¥ íƒ€ì´í•‘ ì‹œê°„ ì—…ë°ì´íŠ¸\n    lastTypingTimeRef.current = Date.now();\n    \n    // ê¸°ì¡´ íƒ€ì´ë¨¸ ì·¨ì†Œ\n    if (saveTimerRef.current) {\n      clearTimeout(saveTimerRef.current);\n    }\n\n    // ìƒˆ íƒ€ì´ë¨¸ ì„¤ì • - ì‚¬ìš©ìê°€ íƒ€ì´í•‘ì„ ë©ˆì¶˜ í›„ì—ë§Œ ì‹¤í–‰\n    saveTimerRef.current = setTimeout(async () => {\n      const timeSinceLastTyping = Date.now() - lastTypingTimeRef.current;\n      \n      // ğŸ”¥ í•µì‹¬: ë§ˆì§€ë§‰ íƒ€ì´í•‘ í›„ ì¶©ë¶„í•œ ì‹œê°„ì´ ì§€ë‚¬ëŠ”ì§€ í™•ì¸\n      if (timeSinceLastTyping < delay * 0.9) { // ë”œë ˆì´ì˜ 90% ì´ìƒ ëŒ€ê¸°\n        Logger.debug('AUTO_SAVE', 'Still typing, postponing save', { \n          projectId, \n          timeSinceLastTyping,\n          requiredDelay: delay \n        });\n        // ë‹¤ì‹œ ìŠ¤ì¼€ì¤„ë§\n        debouncedSave();\n        return;\n      }\n      \n      if (isLoadingRef.current) {\n        Logger.debug('AUTO_SAVE', 'Save already in progress, skipping', { projectId });\n        return;\n      }\n\n      try {\n        isLoadingRef.current = true;\n        const startTime = Date.now();\n        \n        Logger.debug('AUTO_SAVE', 'ğŸ’¾ Starting auto-save (typing stopped)', { \n          projectId,\n          timeSinceLastTyping \n        });\n        \n        await onSave();\n        retryCountRef.current = 0; // ì„±ê³µ ì‹œ ì¬ì‹œë„ ì¹´ìš´í„° ë¦¬ì…‹\n        \n        const duration = Date.now() - startTime;\n        Logger.info('AUTO_SAVE', 'âœ… Auto-save completed', { \n          projectId, \n          duration: `${duration}ms`,\n          timeSinceLastTyping\n        });\n        \n        onSaveSuccess?.();\n      } catch (error) {\n        const errorObj = error instanceof Error ? error : new Error(String(error));\n        Logger.error('AUTO_SAVE', 'âŒ Auto-save failed', errorObj);\n        \n        // ì¬ì‹œë„ ë¡œì§\n        if (retryCountRef.current < maxRetries) {\n          retryCountRef.current++;\n          Logger.warn('AUTO_SAVE', `Retrying save (${retryCountRef.current}/${maxRetries})`, { projectId });\n          \n          // ì¬ì‹œë„ ë”œë ˆì´ (2ì´ˆ, 4ì´ˆ, 8ì´ˆë¡œ ì ì§„ì  ì¦ê°€)\n          setTimeout(() => {\n            debouncedSave();\n          }, Math.pow(2, retryCountRef.current) * 1000);\n        } else {\n          Logger.error('AUTO_SAVE', 'Max retries exceeded', { projectId });\n          onSaveError?.(errorObj);\n        }\n      } finally {\n        isLoadingRef.current = false;\n        saveTimerRef.current = null;\n      }\n    }, delay);\n  }, [projectId, delay, onSave, onSaveSuccess, onSaveError]);\n\n  // ğŸ”¥ ì¦‰ì‹œ ì €ì¥ (Ctrl+Sìš©)\n  const forceSave = useCallback(async () => {\n    // ê¸°ì¡´ debounced ì €ì¥ ì·¨ì†Œ\n    if (saveTimerRef.current) {\n      clearTimeout(saveTimerRef.current);\n      saveTimerRef.current = null;\n    }\n\n    if (isLoadingRef.current) {\n      Logger.debug('AUTO_SAVE', 'Save already in progress, cannot force save', { projectId });\n      return;\n    }\n\n    try {\n      isLoadingRef.current = true;\n      const startTime = Date.now();\n      \n      Logger.info('AUTO_SAVE', 'Starting force save', { projectId });\n      \n      await onSave();\n      retryCountRef.current = 0;\n      \n      const duration = Date.now() - startTime;\n      Logger.info('AUTO_SAVE', 'âœ… Force save completed', { \n        projectId, \n        duration: `${duration}ms` \n      });\n      \n      onSaveSuccess?.();\n    } catch (error) {\n      const errorObj = error instanceof Error ? error : new Error(String(error));\n      Logger.error('AUTO_SAVE', 'âŒ Force save failed', errorObj);\n      onSaveError?.(errorObj);\n    } finally {\n      isLoadingRef.current = false;\n    }\n  }, [projectId, onSave, onSaveSuccess, onSaveError]);\n\n  // ğŸ”¥ ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬\n  useEffect(() => {\n    return () => {\n      if (saveTimerRef.current) {\n        clearTimeout(saveTimerRef.current);\n      }\n    };\n  }, []);\n\n  return {\n    debouncedSave,\n    forceSave,\n    isLoading: isLoadingRef.current,\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4913, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/hooks/useProjectData.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef, useCallback, useMemo } from 'react';\nimport { Logger } from '../../../../shared/logger';\nimport { calculateWriterStats, type WriterStats as WriterStatsType } from '../editor/WriterStats';\nimport { useAutoSave } from './useAutoSave';\nimport { ProjectCharacter, ProjectStructure, ProjectNote } from '../../../../shared/types';\n\n// ì €ì¥ ìƒíƒœ íƒ€ì…\ntype SaveStatus = 'unsaved' | 'saving' | 'saved' | 'error';\n\ninterface UseProjectDataReturn {\n  // ğŸ”¥ ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ\n  isLoading: boolean;\n  error: string | null;\n  \n  // í”„ë¡œì íŠ¸ ìƒíƒœ\n  title: string;\n  setTitle: (title: string) => void;\n  content: string;\n  setContent: (content: string) => void;\n  lastSaved: Date | null;\n  saveStatus: SaveStatus;\n  \n  // ì‘ê°€ ë°ì´í„°\n  characters: ProjectCharacter[];\n  setCharacters: (characters: ProjectCharacter[]) => void;\n  structure: ProjectStructure[];\n  setStructure: (structure: ProjectStructure[]) => void;\n  notes: ProjectNote[]; // ğŸ”¥ notes ì¶”ê°€\n  setNotes: (notes: ProjectNote[]) => void; // ğŸ”¥ setNotes ì¶”ê°€\n  writerStats: WriterStatsType;\n  \n  // ì•¡ì…˜\n  loadProject: () => Promise<void>;\n  saveProject: () => Promise<void>;\n  forceSave: () => Promise<void>; // ğŸ”¥ ì¦‰ì‹œ ì €ì¥ (Ctrl+S)\n  updateWriterStats: () => void;\n  setWordGoal: (goal: number) => void;\n}\n\nexport function useProjectData(projectId: string): UseProjectDataReturn {\n  const sessionStartRef = useRef<number>(Date.now());\n  \n  // ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: ê¸°ë³¸ ë‚ ì§œ ë©”ëª¨ì´ì œì´ì…˜ (new Date() ë°˜ë³µ ìƒì„± ë°©ì§€)\n  const defaultDate = useMemo(() => new Date(), []);\n  \n  // ğŸ”¥ ì„±ëŠ¥ ìµœì í™”: ê¸°ë³¸ ë°ì´í„° ë©”ëª¨ì´ì œì´ì…˜ (ì¤‘ë³µ ê°ì²´ ìƒì„± ë°©ì§€)\n  const defaultCharacters = useMemo(() => [\n    { \n      id: '1', \n      projectId: projectId,\n      name: 'ì£¼ì¸ê³µ', \n      role: 'ì£¼ìš” ì¸ë¬¼', \n      notes: 'ìš©ê°í•˜ê³  ì •ì˜ë¡œìš´ ì„±ê²©',\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '2', \n      projectId: projectId,\n      name: 'ì¡°ë ¥ì', \n      role: 'ì¡°ë ¥ì', \n      notes: 'ì§€í˜œë¡­ê³  ê²½í—˜ì´ ë§ìŒ',\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '3', \n      projectId: projectId,\n      name: 'ì ëŒ€ì', \n      role: 'ì ëŒ€ì', \n      notes: 'ì•¼ë§ì´ í¬ê³  ëƒ‰í˜¹í•¨',\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n  ], [projectId, defaultDate]);\n\n  const defaultNotes = useMemo(() => [\n    { \n      id: '1', \n      projectId: projectId,\n      title: 'ì²« ë²ˆì§¸ ë©”ëª¨',\n      content: 'ì´ì•¼ê¸°ì˜ í•µì‹¬ ì•„ì´ë””ì–´ë¥¼ ì—¬ê¸°ì— ì ì–´ë³´ì„¸ìš”.',\n      tags: ['ì•„ì´ë””ì–´'],\n      color: '#3b82f6',\n      isPinned: false,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '2', \n      projectId: projectId,\n      title: 'ì„¤ì • ë…¸íŠ¸',\n      content: 'ì„¸ê³„ê´€, ë°°ê²½ ì„¤ì •ì— ëŒ€í•œ ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤.',\n      tags: ['ì„¤ì •', 'ì„¸ê³„ê´€'],\n      color: '#10b981',\n      isPinned: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n  ], [projectId, defaultDate]);\n\n  const defaultStructure = useMemo(() => [\n    { \n      id: '1', \n      projectId: projectId,\n      type: 'chapter' as const, \n      title: '1ì¥: ì‹œì‘',\n      isActive: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '2', \n      projectId: projectId,\n      type: 'scene' as const, \n      title: 'ì²« ë²ˆì§¸ ì¥ë©´',\n      isActive: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '3', \n      projectId: projectId,\n      type: 'scene' as const, \n      title: 'ë‘ ë²ˆì§¸ ì¥ë©´',\n      isActive: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '4', \n      projectId: projectId,\n      type: 'chapter' as const, \n      title: '2ì¥: ì „ê°œ',\n      isActive: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '5', \n      projectId: projectId,\n      type: 'scene' as const, \n      title: 'ì„¸ ë²ˆì§¸ ì¥ë©´',\n      isActive: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n    { \n      id: '6', \n      projectId: projectId,\n      type: 'note' as const, \n      title: 'ì•„ì´ë””ì–´ ë©”ëª¨',\n      isActive: true,\n      createdAt: defaultDate,\n      updatedAt: defaultDate\n    },\n  ], [projectId, defaultDate]);\n  \n  // ğŸ”¥ ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ ì¶”ê°€\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n  \n  // ğŸ”¥ ê¸°ë³¸ í”„ë¡œì íŠ¸ ìƒíƒœ\n  const [title, setTitle] = useState<string>('');\n  const [content, setContent] = useState<string>('');\n  const [lastSaved, setLastSaved] = useState<Date | null>(null);\n  const [saveStatus, setSaveStatus] = useState<SaveStatus>('saved');\n  \n  // ğŸ”¥ refë¡œ ìµœì‹  ê°’ ì¶”ì  (ì„±ëŠ¥ ìµœì í™”: useEffect ì œê±°)\n  const titleRef = useRef<string>('');\n  const contentRef = useRef<string>('');\n  \n  // ğŸ”¥ ìµœì í™”: setterì—ì„œ ì§ì ‘ ref ì—…ë°ì´íŠ¸ (useEffect ë¶ˆí•„ìš”)\n  const setTitleOptimized = useCallback((newTitle: string) => {\n    titleRef.current = newTitle;\n    setTitle(newTitle);\n  }, []);\n  \n  const setContentOptimized = useCallback((newContent: string) => {\n    contentRef.current = newContent;\n    setContent(newContent);\n  }, []);\n  \n  // ğŸ”¥ ì‘ê°€ ë°ì´í„°\n  const [characters, setCharacters] = useState<ProjectCharacter[]>([]);\n  const [structure, setStructure] = useState<ProjectStructure[]>([]);\n  const [notes, setNotes] = useState<ProjectNote[]>([]); // ğŸ”¥ notes ìƒíƒœ ì¶”ê°€\n  const [writerStats, setWriterStats] = useState<WriterStatsType>({\n    wordCount: 0,\n    charCount: 0,\n    paragraphCount: 0,\n    readingTime: 0,\n    wordGoal: 1000,\n    progress: 0,\n    sessionTime: 0,\n    wpm: 0\n  });\n\n  // ğŸ”¥ í”„ë¡œì íŠ¸ ë¡œë“œ (ë¬´í•œë£¨í”„ ë°©ì§€)\n  const loadProject = useCallback(async (): Promise<void> => {\n    try {\n      setIsLoading(true);\n      setError(null);\n      Logger.debug('PROJECT_DATA', 'Loading project', { projectId });\n      \n      const result = await window.electronAPI.projects.getById(projectId);\n      if (result.success && result.data) {\n        setTitle(result.data.title);\n        setContent(result.data.content);\n        setLastSaved(new Date(result.data.lastModified));\n        setSaveStatus('saved'); // ğŸ”¥ ì €ì¥ ìƒíƒœ ì—…ë°ì´íŠ¸\n        \n        // ğŸ”¥ ì‹¤ì œ ë°ì´í„° ë¡œë“œ - ìºë¦­í„° ë°ì´í„°\n        try {\n          const charactersResult = await window.electronAPI.projects.getCharacters(projectId);\n          if (charactersResult.success && charactersResult.data) {\n            setCharacters(charactersResult.data);\n            Logger.debug('PROJECT_DATA', 'Characters loaded successfully', { count: charactersResult.data.length });\n          } else {\n            Logger.warn('PROJECT_DATA', 'No characters found, using defaults');\n            // ê¸°ë³¸ ìºë¦­í„° ë°ì´í„°\n            setCharacters(defaultCharacters);\n          }\n        } catch (error) {\n          Logger.warn('PROJECT_DATA', 'Failed to load characters, using defaults', error);\n          setCharacters(defaultCharacters);\n        }\n        \n        // ğŸ”¥ ì‹¤ì œ ë°ì´í„° ë¡œë“œ - êµ¬ì¡° ë°ì´í„°\n        try {\n          const structureResult = await window.electronAPI.projects.getStructure(projectId);\n          if (structureResult.success && structureResult.data) {\n            setStructure(structureResult.data);\n            Logger.debug('PROJECT_DATA', 'Structure loaded successfully', { count: structureResult.data.length });\n          } else {\n            Logger.warn('PROJECT_DATA', 'No structure found, using defaults');\n            // ê¸°ë³¸ êµ¬ì¡° ë°ì´í„°\n            setStructure(defaultStructure);\n          }\n        } catch (error) {\n          Logger.warn('PROJECT_DATA', 'Failed to load structure, using defaults', error);\n          setStructure(defaultStructure);\n        }\n        \n        // ğŸ”¥ ì‹¤ì œ ë°ì´í„° ë¡œë“œ - ë…¸íŠ¸ ë°ì´í„°\n        try {\n          const notesResult = await window.electronAPI.projects.getNotes(projectId);\n          if (notesResult.success && notesResult.data) {\n            setNotes(notesResult.data);\n            Logger.debug('PROJECT_DATA', 'Notes loaded successfully', { count: notesResult.data.length });\n          } else {\n            Logger.warn('PROJECT_DATA', 'No notes found, using defaults');\n            // ê¸°ë³¸ ë…¸íŠ¸ ë°ì´í„°\n            setNotes(defaultNotes);\n          }\n        } catch (error) {\n          Logger.warn('PROJECT_DATA', 'Failed to load notes, using defaults', error);\n          setNotes(defaultNotes);\n        }\n        \n        Logger.info('PROJECT_DATA', 'Project loaded successfully');\n      } else {\n        throw new Error(result.error || 'Failed to load project');\n      }\n    } catch (error) {\n      Logger.error('PROJECT_DATA', 'Error loading project', error);\n      setError(error instanceof Error ? error.message : 'Failed to load project');\n      \n      // ğŸ”¥ ì‹¤íŒ¨ ì‹œ ë¡œì»¬ ë°±ì—… í™•ì¸\n      try {\n        const backup = localStorage.getItem(`project_backup_${projectId}`);\n        if (backup) {\n          const backupData = JSON.parse(backup);\n          setTitle(backupData.title || '');\n          setContent(backupData.content || '');\n          setSaveStatus('unsaved');\n          Logger.info('PROJECT_DATA', 'Loaded from local backup');\n        }\n      } catch (storageError) {\n        Logger.error('PROJECT_DATA', 'Failed to load backup', storageError);\n      }\n    } finally {\n      setIsLoading(false); // ğŸ”¥ ë¬´ì¡°ê±´ ë¡œë”© ìƒíƒœ í•´ì œ\n    }\n  }, [projectId]);\n\n  // ğŸ”¥ í”„ë¡œì íŠ¸ ì €ì¥ í•¨ìˆ˜ (refë¡œ ë¬´í•œë£¨í”„ ë°©ì§€)\n  const saveProjectInternal = useCallback(async (): Promise<void> => {\n    try {\n      const currentTitle = titleRef.current;\n      const currentContent = contentRef.current;\n      \n      if (!currentTitle.trim() && !currentContent.trim()) return;\n      \n      Logger.debug('PROJECT_DATA', 'Saving project to server', { projectId });\n      \n      // ğŸ”¥ ë¡œì»¬ ë°±ì—… ë¨¼ì € ì €ì¥ (ì¦‰ì‹œ)\n      try {\n        const backupData = { title: currentTitle, content: currentContent, lastModified: new Date() };\n        localStorage.setItem(`project_backup_${projectId}`, JSON.stringify(backupData));\n        Logger.debug('PROJECT_DATA', 'Local backup saved');\n      } catch (storageError) {\n        Logger.warn('PROJECT_DATA', 'Failed to save local backup', storageError);\n      }\n      \n      // ğŸ”¥ ì¦‰ì‹œ ì„œë²„ ì €ì¥\n      const result = await window.electronAPI.projects.update(projectId, {\n        title: currentTitle,\n        content: currentContent,\n        lastModified: new Date()\n      });\n      \n      if (result.success) {\n        setLastSaved(new Date());\n        setSaveStatus('saved');\n        Logger.info('PROJECT_DATA', 'Project saved successfully to server');\n        \n        // ì„±ê³µ ì‹œ ë¡œì»¬ ë°±ì—… ì œê±°\n        try {\n          localStorage.removeItem(`project_backup_${projectId}`);\n        } catch (e) {\n          // ë¬´ì‹œ\n        }\n      } else {\n        throw new Error(result.error || 'Failed to save project');\n      }\n    } catch (error) {\n      Logger.error('PROJECT_DATA', 'Error saving project', error);\n      setSaveStatus('error');\n      throw error;\n    }\n  }, [projectId]); // ğŸ”¥ projectIdë§Œ dependencyë¡œ ì„¤ì •\n\n  // ğŸ”¥ ë…¸ì…˜ ìŠ¤íƒ€ì¼ autoSave Hook ì‚¬ìš© - íƒ€ì´í•‘ ì¤‘ë‹¨ í›„ ì €ì¥\n  const { debouncedSave, forceSave, isLoading: isSaving } = useAutoSave({\n    projectId,\n    delay: 3000, // ğŸ”¥ 3ì´ˆ ë”œë ˆì´ (ë” ì•ˆì „í•œ íƒ€ì´í•‘) - íƒ€ì´í•‘ ë©ˆì¶˜ í›„ì—ë§Œ ì €ì¥\n    onSave: saveProjectInternal,\n    onSaveSuccess: () => {\n      setSaveStatus('saved');\n      setLastSaved(new Date());\n      Logger.info('PROJECT_DATA', 'âœ… ìë™ ì €ì¥ ì™„ë£Œ', { projectId });\n    },\n    onSaveError: (error: Error) => {\n      setSaveStatus('error');\n      Logger.error('PROJECT_DATA', 'âŒ ìë™ ì €ì¥ ì‹¤íŒ¨', { error: error.message, projectId });\n      \n      // ì—ëŸ¬ ë°œìƒ ì‹œ ë¡œì»¬ ë°±ì—… ìƒì„±\n      try {\n        localStorage.setItem(`project_backup_${projectId}`, JSON.stringify({ title, content }));\n        Logger.info('PROJECT_DATA', 'ğŸ“¦ ë¡œì»¬ ë°±ì—… ì €ì¥ë¨', { projectId });\n      } catch (backupError) {\n        Logger.error('PROJECT_DATA', 'âŒ ë¡œì»¬ ë°±ì—… ì‹¤íŒ¨', backupError);\n      }\n    }\n  });\n\n  // ğŸ”¥ í˜¸í™˜ì„±ì„ ìœ„í•œ saveProject í•¨ìˆ˜\n  const saveProject = useCallback(async (): Promise<void> => {\n    await forceSave();\n  }, [forceSave]);\n  \n  // ğŸ”¥ ë¹„ìš©ì´ í° í†µê³„ ê³„ì‚°ì„ ë©”ëª¨ì´ì œì´ì…˜ (Hook ê·œì¹™ ì¤€ìˆ˜)\n  const memoizedStats = useMemo(() => {\n    if (!content) return writerStats;\n    return calculateWriterStats(content, writerStats.wordGoal, sessionStartRef.current);\n  }, [content, writerStats.wordGoal, writerStats]);\n\n  // ğŸ”¥ ì‘ê°€ í†µê³„ ì—…ë°ì´íŠ¸ (ë©”ëª¨ì´ì œì´ì…˜ëœ ê°’ ì‚¬ìš©)\n  const updateWriterStats = useCallback((): void => {\n    setWriterStats(memoizedStats);\n  }, [memoizedStats]);\n  \n  const setWordGoal = useCallback((goal: number): void => {\n    setWriterStats((prev: WriterStatsType) => ({\n      ...prev,\n      wordGoal: goal,\n      progress: Math.min(100, Math.round((prev.wordCount / goal) * 100))\n    }));\n  }, []);\n\n  // ğŸ”¥ í”„ë¡œì íŠ¸ ì´ˆê¸° ë¡œë“œ (ì„±ëŠ¥ ìµœì í™”: loadProjectë¥¼ useRefë¡œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬)\n  const loadProjectRef = useRef(loadProject);\n  loadProjectRef.current = loadProject;\n  \n  useEffect(() => {\n    if (projectId) {\n      loadProjectRef.current();\n    }\n  }, [projectId]); // ğŸ”¥ projectIdë§Œ dependencyë¡œ - ë¬´í•œë£¨í”„ ì™„ì „ ë°©ì§€\n\n  // ğŸ”¥ ìë™ ì €ì¥ ì‹œìŠ¤í…œ (ì„±ëŠ¥ ìµœì í™”: refë¡œ ë¬´í•œë£¨í”„ ë°©ì§€)\n  const debouncedSaveRef = useRef(debouncedSave);\n  debouncedSaveRef.current = debouncedSave;\n  \n  useEffect(() => {\n    if (title.trim() || content.trim()) {\n      setSaveStatus('unsaved');\n      debouncedSaveRef.current(); // refë¥¼ í†µí•´ ì•ˆì „í•˜ê²Œ í˜¸ì¶œ\n    }\n  }, [title, content]); // ğŸ”¥ debouncedSave dependency ì™„ì „ ì œê±°\n\n  // ğŸ”¥ ì €ì¥ ì¤‘ ìƒíƒœ ê´€ë¦¬\n  useEffect(() => {\n    if (isSaving) {\n      setSaveStatus('saving');\n    }\n  }, [isSaving]);\n\n  // ğŸ”¥ í†µê³„ ì—…ë°ì´íŠ¸ (ê¸°ê°€ì°¨ë“œ ìˆ˜ì •: interval ì œê±°ë¡œ ì»¤ì„œ ë¦¬ì…‹ ì™„ì „ í•´ê²°)\n  useEffect(() => {\n    updateWriterStats();\n    // ğŸ”¥ 30ì´ˆ interval ì™„ì „ ì œê±° - ì»¤ì„œ ë¦¬ì…‹ ì›ì¸ ì œê±°\n    // ì„¸ì…˜ ì‹œê°„ì€ ì‚¬ìš©ìê°€ í†µê³„ë¥¼ ë³¼ ë•Œë§Œ ê³„ì‚°í•˜ë„ë¡ ë³€ê²½\n  }, []); // ğŸ”¥ dependency ì™„ì „ ì œê±° - useEffect ì§€ì˜¥ í•´ê²°\n\n  // ğŸ”¥ ìºë¦­í„° ì €ì¥ í•¨ìˆ˜\n  const saveCharacters = useCallback(async (charactersToSave: ProjectCharacter[]): Promise<void> => {\n    try {\n      Logger.debug('PROJECT_DATA', 'Saving characters', { count: charactersToSave.length });\n      \n      // ğŸ”¥ ì‹¤ì œ API í˜¸ì¶œ\n      const result = await window.electronAPI.projects.updateCharacters(projectId, charactersToSave);\n      \n      if (result.success) {\n        Logger.info('PROJECT_DATA', 'Characters saved successfully');\n      } else {\n        throw new Error(result.error || 'Failed to save characters');\n      }\n    } catch (error) {\n      Logger.error('PROJECT_DATA', 'Error saving characters', error);\n      throw error;\n    }\n  }, [projectId]);\n\n  // ğŸ”¥ ë©”ëª¨ ì €ì¥ í•¨ìˆ˜\n  const saveNotes = useCallback(async (notesToSave: ProjectNote[]): Promise<void> => {\n    try {\n      Logger.debug('PROJECT_DATA', 'Saving notes', { count: notesToSave.length });\n      \n      // ğŸ”¥ ì‹¤ì œ API í˜¸ì¶œ\n      const result = await window.electronAPI.projects.updateNotes(projectId, notesToSave);\n      \n      if (result.success) {\n        Logger.info('PROJECT_DATA', 'Notes saved successfully');\n      } else {\n        throw new Error(result.error || 'Failed to save notes');\n      }\n    } catch (error) {\n      Logger.error('PROJECT_DATA', 'Error saving notes', error);\n      throw error;\n    }\n  }, [projectId]);\n\n  // ğŸ”¥ ìºë¦­í„° ë³€ê²½ í•¸ë“¤ëŸ¬ (ìë™ ì €ì¥ í¬í•¨)\n  const handleCharactersChange = useCallback(async (newCharacters: ProjectCharacter[]): Promise<void> => {\n    setCharacters(newCharacters);\n    \n    try {\n      await saveCharacters(newCharacters);\n    } catch (error) {\n      Logger.error('PROJECT_DATA', 'Failed to save characters automatically', error);\n      // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ í‘œì‹œí•  ìˆ˜ ìˆìŒ\n    }\n  }, [saveCharacters]);\n\n  // ğŸ”¥ ë©”ëª¨ ë³€ê²½ í•¸ë“¤ëŸ¬ (ìë™ ì €ì¥ í¬í•¨)  \n  const handleNotesChange = useCallback(async (newNotes: ProjectNote[]): Promise<void> => {\n    setNotes(newNotes);\n    \n    try {\n      await saveNotes(newNotes);\n    } catch (error) {\n      Logger.error('PROJECT_DATA', 'Failed to save notes automatically', error);\n      // ì‚¬ìš©ìì—ê²Œ ì—ëŸ¬ í‘œì‹œí•  ìˆ˜ ìˆìŒ\n    }\n  }, [saveNotes]);\n\n  return {\n    // ğŸ”¥ ë¡œë”© ë° ì—ëŸ¬ ìƒíƒœ\n    isLoading,\n    error,\n    \n    // ğŸ”¥ ê¸°ë³¸ í”„ë¡œì íŠ¸ ë°ì´í„° (ì„±ëŠ¥ ìµœì í™”ëœ setter)\n    title,\n    setTitle: setTitleOptimized,\n    content,\n    setContent: setContentOptimized,\n    lastSaved,\n    saveStatus,\n    \n    // ğŸ”¥ ì‘ê°€ ë°ì´í„°\n    characters,\n    setCharacters,\n    structure,\n    setStructure,\n    notes, // ğŸ”¥ notes ì¶”ê°€\n    setNotes, // ğŸ”¥ setNotes ì¶”ê°€\n    writerStats,\n    \n    // ğŸ”¥ ì•¡ì…˜ í•¨ìˆ˜ë“¤\n    loadProject,\n    saveProject,\n    forceSave, // ğŸ”¥ ìƒˆë¡œìš´ ì¦‰ì‹œ ì €ì¥ í•¨ìˆ˜\n    updateWriterStats,\n    setWordGoal\n  };\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5419, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/hooks/useUIState.ts"],"sourcesContent":["'use client';\n\nimport { useState, useCallback } from 'react';\nimport { Logger } from '../../../../shared/logger';\nimport { useTheme } from '../../../providers/ThemeProvider';\n\ninterface UseUIStateReturn {\n  // UI ìƒíƒœ\n  showLeftSidebar: boolean;\n  showRightSidebar: boolean;\n  showHeader: boolean;\n  isDarkMode: boolean;\n  isFocusMode: boolean;\n  \n  // ì•¡ì…˜\n  toggleLeftSidebar: () => void;\n  toggleRightSidebar: () => void;\n  toggleDarkMode: () => void;\n  toggleFocusMode: () => void;\n  setShowHeader: (show: boolean) => void;\n}\n\nexport function useUIState(): UseUIStateReturn {\n  // ğŸ”¥ í…Œë§ˆ ê´€ë¦¬ë¥¼ ThemeProviderë¡œ ìœ„ì„\n  const { resolvedTheme, toggleTheme } = useTheme();\n  \n  // ğŸ”¥ UI ìƒíƒœ (í…Œë§ˆ ì œì™¸)\n  const [showLeftSidebar, setShowLeftSidebar] = useState<boolean>(true);\n  const [showRightSidebar, setShowRightSidebar] = useState<boolean>(false);\n  const [showHeader, setShowHeader] = useState<boolean>(true);\n  const [isFocusMode, setIsFocusMode] = useState<boolean>(false);\n\n  // ğŸ”¥ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë“¤\n  const toggleLeftSidebar = useCallback((): void => {\n    setShowLeftSidebar(prev => !prev);\n    Logger.debug('UI_STATE', 'Left sidebar toggled');\n  }, []);\n  \n  const toggleRightSidebar = useCallback((): void => {\n    setShowRightSidebar(prev => !prev);\n    Logger.debug('UI_STATE', 'Right sidebar toggled');\n  }, []);\n  \n  const toggleDarkMode = useCallback((): void => {\n    toggleTheme(); // ThemeProviderì˜ í† ê¸€ ì‚¬ìš©\n    Logger.debug('UI_STATE', 'Dark mode toggled via ThemeProvider');\n  }, [toggleTheme]);\n  \n  const toggleFocusMode = useCallback((): void => {\n    setIsFocusMode(prev => {\n      const newValue = !prev;\n      if (newValue) {\n        setShowLeftSidebar(false);\n        setShowRightSidebar(false);\n      }\n      Logger.info('UI_STATE', `Focus mode ${newValue ? 'enabled' : 'disabled'}`);\n      return newValue;\n    });\n  }, []);\n\n  return {\n    showLeftSidebar,\n    showRightSidebar,\n    showHeader,\n    isDarkMode: resolvedTheme === 'dark', // ThemeProviderì—ì„œ ê°€ì ¸ì˜´\n    isFocusMode,\n    toggleLeftSidebar,\n    toggleRightSidebar,\n    toggleDarkMode,\n    toggleFocusMode,\n    setShowHeader\n  };\n}"],"names":[],"mappings":";;;AAEA;AACA;AACA;AAJA;;;;AAsBO,SAAS;IACd,8BAA8B;IAC9B,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,8IAAA,CAAA,WAAQ,AAAD;IAE9C,mBAAmB;IACnB,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EAAW;IAChE,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EAAW;IAClE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EAAW;IACtD,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,sWAAA,CAAA,WAAQ,AAAD,EAAW;IAExD,aAAa;IACb,MAAM,oBAAoB,CAAA,GAAA,sWAAA,CAAA,cAAW,AAAD,EAAE;QACpC,mBAAmB,CAAA,OAAQ,CAAC;QAC5B,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,YAAY;IAC3B,GAAG,EAAE;IAEL,MAAM,qBAAqB,CAAA,GAAA,sWAAA,CAAA,cAAW,AAAD,EAAE;QACrC,oBAAoB,CAAA,OAAQ,CAAC;QAC7B,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,YAAY;IAC3B,GAAG,EAAE;IAEL,MAAM,iBAAiB,CAAA,GAAA,sWAAA,CAAA,cAAW,AAAD,EAAE;QACjC,eAAe,uBAAuB;QACtC,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,YAAY;IAC3B,GAAG;QAAC;KAAY;IAEhB,MAAM,kBAAkB,CAAA,GAAA,sWAAA,CAAA,cAAW,AAAD,EAAE;QAClC,eAAe,CAAA;YACb,MAAM,WAAW,CAAC;YAClB,IAAI,UAAU;gBACZ,mBAAmB;gBACnB,oBAAoB;YACtB;YACA,uHAAA,CAAA,SAAM,CAAC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,WAAW,YAAY,YAAY;YACzE,OAAO;QACT;IACF,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA,YAAY,kBAAkB;QAC9B;QACA;QACA;QACA;QACA;QACA;IACF;AACF","debugId":null}},
    {"offset": {"line": 5482, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/components/projects/ProjectEditor.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useCallback, memo, useEffect } from 'react';\nimport { MarkdownEditor } from './editor/MarkdownEditor';\nimport { EditorProvider } from './editor/EditorProvider';\nimport { ShortcutHelp } from './editor/ShortcutHelp';\nimport { WriterSidebar } from './components/WriterSidebar';\nimport { ProjectHeader } from './components/ProjectHeader'; // ğŸ”¥ ìƒˆë¡œìš´ ëª¨ë“ˆí™”ëœ í—¤ë”\nimport { ConfirmDeleteDialog } from './components/ConfirmDeleteDialog';\nimport { ShareDialog } from './components/ShareDialog';\nimport { WriteView } from './views/WriteView';\nimport { StructureView } from './views/StructureView';\nimport { CharactersView } from './views/CharactersView';\nimport { NotesView } from './views/NotesView';\nimport { Logger } from '../../../shared/logger';\n\n// ğŸ”¥ ì‹¤ì œ hooks import (ê¸°ê°€ì°¨ë“œ ìˆ˜ì •)\nimport { useProjectData } from './hooks/useProjectData';\nimport { useUIState } from './hooks/useUIState';\n\n// ğŸ”¥ ê¸°ê°€ì°¨ë“œ UI ë¬¸ì œì  í•´ê²°ëœ ìŠ¤íƒ€ì¼\nconst WRITER_EDITOR_STYLES = {\n  // ì „ì²´ ë ˆì´ì•„ì›ƒ\n  container: 'h-screen flex flex-col bg-white dark:bg-gray-900 transition-colors duration-200',\n  \n  // í—¤ë” (ğŸ”¥ nav ì¤‘ì²© ë¬¸ì œ í•´ê²°)\n  header: 'flex items-center justify-between px-4 py-3 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700',\n  headerLeft: 'flex items-center gap-3',\n  headerCenter: 'flex-1 max-w-md mx-auto',\n  headerRight: 'flex items-center gap-2',\n  \n  // ë©”ì¸ ë ˆì´ì•„ì›ƒ\n  main: 'flex flex-1 overflow-hidden',\n  \n  // ğŸ”¥ ì—ë””í„° ì˜ì—­ ìˆ˜ì • (í•œì¤„ ë¬¸ì œ, ìŠ¤í¬ë¡¤ ì œí•œ í•´ê²°)\n  editorContainer: 'flex-1 flex flex-col h-full bg-white dark:bg-gray-900 transition-colors duration-200',\n  editorContent: 'flex-1 min-h-0 overflow-hidden', // ğŸ”¥ min-h-0 ì¶”ê°€ë¡œ flex ì˜ì—­ ì œëŒ€ë¡œ ì¡í˜\n  \n  // UI ì»¨íŠ¸ë¡¤\n  iconButton: 'flex items-center justify-center w-9 h-9 rounded-lg transition-colors hover:bg-gray-100 dark:hover:bg-gray-800 text-gray-600 dark:text-gray-400',\n  iconButtonActive: 'flex items-center justify-center w-9 h-9 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400',\n  titleInput: 'border-none bg-transparent focus:outline-none focus:ring-0 text-lg font-medium w-full placeholder:text-gray-400 dark:placeholder:text-gray-500 text-gray-900 dark:text-gray-100',\n  \n  // ğŸ”¥ ë°± ë²„íŠ¼ ê°œì„  (ì¤‘ì²© ë¬¸ì œ í•´ê²°)\n  backButton: 'flex items-center gap-2 px-3 py-1.5 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors',\n} as const;\n\nexport interface ProjectEditorProps {\n  projectId: string;\n}\n\n// ğŸ”¥ React.memoë¡œ ë¬´í•œ ë¦¬ë Œë”ë§ ë°©ì§€ (11ì›ì¹™: ì„±ëŠ¥ ìµœì í™”)\nexport const ProjectEditor = memo(function ProjectEditor({ projectId }: ProjectEditorProps): React.ReactElement {\n  console.log('ğŸ”¥ ProjectEditor render started', { projectId }); // ğŸ”¥ ë””ë²„ê·¸ ë¡œê·¸\n  \n  // ğŸ”¥ ì»¤ìŠ¤í…€ hooks ì‚¬ìš©\n  const { isLoading, error, ...projectData } = useProjectData(projectId);\n  const uiState = useUIState();\n  const [currentView, setCurrentView] = useState<string>('write'); // ğŸ”¥ ì‹¤ì œ ë·° ìƒíƒœ ê´€ë¦¬\n  const [collapsed, setCollapsed] = useState<boolean>(false);\n  const [showDeleteDialog, setShowDeleteDialog] = useState<boolean>(false);\n  const [showShareDialog, setShowShareDialog] = useState<boolean>(false);\n  const editorRef = useRef<any>(null);\n  const [isEditorReady, setIsEditorReady] = useState<boolean>(false); // ğŸ”¥ ì—ë””í„° ì¤€ë¹„ ìƒíƒœ ì¶”ê°€\n  \n  // ğŸ”¥ ì—ë””í„° ì¤€ë¹„ ì™„ë£Œ í•¸ë“¤ëŸ¬ (fallback ì—ë””í„°ìš©)\n  const handleEditorReady = useCallback((editor?: any) => {\n    if (editor) {\n      editorRef.current = editor;\n    }\n    setIsEditorReady(true); // ğŸ”¥ ì—ë””í„° ì¤€ë¹„ ì™„ë£Œ í‘œì‹œ\n    Logger.info('PROJECT_EDITOR', 'Editor ready (fallback mode)');\n  }, []);\n\n  const handleBack = useCallback(() => window.history.back(), []);\n  const handleToggleSidebar = useCallback(() => setCollapsed((prev) => !prev), []);\n  \n  // ğŸ”¥ ê³µìœ  ê¸°ëŠ¥ í•¸ë“¤ëŸ¬\n  const handleShare = useCallback(() => {\n    setShowShareDialog(true);\n    Logger.info('PROJECT_EDITOR', 'Share dialog opened');\n  }, []);\n  \n  // ğŸ”¥ ì‚­ì œ ê¸°ëŠ¥ í•¸ë“¤ëŸ¬\n  const handleDelete = useCallback(() => {\n    setShowDeleteDialog(true);\n    Logger.info('PROJECT_EDITOR', 'Delete confirmation dialog opened');\n  }, []);\n  \n  // ğŸ”¥ ì‚­ì œ í™•ì¸ í•¸ë“¤ëŸ¬\n  const handleConfirmDelete = useCallback(async () => {\n    try {\n      Logger.info('PROJECT_EDITOR', 'Deleting project', { projectId });\n      \n      const result = await window.electronAPI.projects.delete(projectId);\n      \n      if (result.success) {\n        Logger.info('PROJECT_EDITOR', 'Project deleted successfully');\n        setShowDeleteDialog(false);\n        // ğŸ”¥ ì‚­ì œ í›„ ëŒ€ì‹œë³´ë“œë¡œ ì´ë™\n        window.history.back();\n      } else {\n        throw new Error(result.error || 'Failed to delete project');\n      }\n    } catch (error) {\n      Logger.error('PROJECT_EDITOR', 'Failed to delete project', error);\n      // TODO: ì—ëŸ¬ í† ìŠ¤íŠ¸ í‘œì‹œ\n    }\n  }, [projectId]);\n  \n  // ğŸ”¥ ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ í•¸ë“¤ëŸ¬ (Markdown íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°)\n  const handleDownload = useCallback(async () => {\n    try {\n      const content = projectData.content || '';\n      const title = projectData.title || 'ì œëª©ì—†ìŒ';\n      \n      // Markdown íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê¸°\n      const blob = new Blob([content], { type: 'text/markdown;charset=utf-8' });\n      const url = URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${title.replace(/[^a-zA-Z0-9ê°€-í£\\s]/g, '_')}.md`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      \n      Logger.info('PROJECT_EDITOR', 'Project exported as markdown', { title });\n    } catch (error) {\n      Logger.error('PROJECT_EDITOR', 'Export failed', error);\n    }\n  }, [projectData.content, projectData.title]);\n  // ğŸ”¥ ë·° ë³€ê²½ í•¸ë“¤ëŸ¬ (ì‹¤ì œ êµ¬í˜„)\n  const handleViewChange = useCallback((view: string) => {\n    Logger.info('PROJECT_EDITOR', 'View changed:', view);\n    setCurrentView(view);\n  }, []);\n  const handleToolbarAction = useCallback((action: string) => Logger.info('PROJECT_EDITOR', 'Toolbar action:', action), []);\n  \n  // ğŸ”¥ ì‘ê°€ ì¹œí™”ì  í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ í•¸ë“¤ëŸ¬\n  const handleKeyDown = useCallback((event: KeyboardEvent) => {\n    const { key, ctrlKey, metaKey, shiftKey, altKey } = event;\n    const modKey = ctrlKey || metaKey; // Windows: Ctrl, Mac: Cmd\n    \n    // ğŸ”¥ ê¸°ë³¸ ì €ì¥ ë‹¨ì¶•í‚¤ (Ctrl+S / Cmd+S)\n    if (modKey && key === 's') {\n      event.preventDefault();\n      projectData.forceSave();\n      Logger.info('PROJECT_EDITOR', 'Save shortcut triggered');\n      return;\n    }\n    \n    // ğŸ”¥ í¬ì»¤ìŠ¤ ëª¨ë“œ í† ê¸€ (Ctrl+F / Cmd+F)\n    if (modKey && key === 'f') {\n      event.preventDefault();\n      uiState.toggleFocusMode();\n      Logger.info('PROJECT_EDITOR', 'Focus mode shortcut triggered');\n      return;\n    }\n    \n    // ğŸ”¥ ì‚¬ì´ë“œë°” í† ê¸€ (Ctrl+B / Cmd+B)\n    if (modKey && key === 'b') {\n      event.preventDefault();\n      setCollapsed(prev => !prev);\n      Logger.info('PROJECT_EDITOR', 'Sidebar shortcut triggered');\n      return;\n    }\n    \n    // ğŸ”¥ ë‹¤í¬ëª¨ë“œ í† ê¸€ (Ctrl+D / Cmd+D)\n    if (modKey && key === 'd') {\n      event.preventDefault();\n      uiState.toggleDarkMode();\n      Logger.info('PROJECT_EDITOR', 'Dark mode shortcut triggered');\n      return;\n    }\n    \n    // ğŸ”¥ ë’¤ë¡œê°€ê¸° (Esc)\n    if (key === 'Escape') {\n      handleBack();\n      Logger.info('PROJECT_EDITOR', 'Back shortcut triggered');\n      return;\n    }\n    \n    // ğŸ”¥ ë‹¨ì¶•í‚¤ ë„ì›€ë§ (F1)\n    if (key === 'F1') {\n      event.preventDefault();\n      const helpEvent = new CustomEvent('shortcut:help');\n      window.dispatchEvent(helpEvent);\n      Logger.info('PROJECT_EDITOR', 'Help shortcut triggered');\n      return;\n    }\n  }, [projectData.forceSave, uiState.toggleFocusMode, uiState.toggleDarkMode, handleBack]);\n  \n  // ğŸ”¥ í‚¤ë³´ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [handleKeyDown]);\n  \n  // ğŸ”¥ ì—ë””í„° ì €ì¥ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ (Ctrl+Sì—ì„œ ë°œìƒ)\n  useEffect(() => {\n    const handleProjectSave = () => {\n      projectData.forceSave();\n      Logger.info('PROJECT_EDITOR', 'Project save triggered from editor');\n    };\n    \n    window.addEventListener('project:save', handleProjectSave);\n    return () => window.removeEventListener('project:save', handleProjectSave);\n  }, [projectData.forceSave]);\n  \n  // ğŸ”¥ ë°ì´í„° ë¡œë”© ìƒíƒœë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¡œë”© í™”ë©´ í‘œì‹œ (ë¬´í•œ ë¡œë”© ë¬¸ì œ í•´ê²°)\n  if (isLoading) {\n    return (\n      <div className=\"h-screen flex items-center justify-center bg-white dark:bg-gray-900\">\n        <div className=\"text-center\">\n          <div className=\"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\n          <p className=\"text-gray-600 dark:text-gray-400\">í”„ë¡œì íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return <div className=\"h-screen flex items-center justify-center text-red-500\">ì˜¤ë¥˜: {error}</div>;\n  }\n\n  return (\n    <EditorProvider>\n      <div className={WRITER_EDITOR_STYLES.container}>\n        {/* ğŸ”¥ ëª¨ë“ˆí™”ëœ ProjectHeader ì‚¬ìš© */}\n        <ProjectHeader\n          title={projectData.title}\n          onTitleChange={projectData.setTitle}\n          onBack={handleBack}\n          sidebarCollapsed={collapsed}\n          onToggleSidebar={handleToggleSidebar}\n          isFocusMode={uiState.isFocusMode}\n          onToggleFocusMode={uiState.toggleFocusMode}\n          onSave={projectData.forceSave}\n          onShare={handleShare}\n          onDownload={handleDownload}\n          onDelete={handleDelete}\n        />\n\n        {/* ğŸ”¥ ë©”ì¸ ì˜ì—­ */}\n        <div className={WRITER_EDITOR_STYLES.main}>\n          {/* ğŸ”¥ ëª¨ë“ˆí™”ëœ WriterSidebar ì‚¬ìš© */}\n          {!collapsed && (\n            <WriterSidebar\n              currentView={currentView}\n              onViewChange={handleViewChange}\n              structure={projectData.structure}\n              characters={projectData.characters}\n              stats={projectData.writerStats}\n              collapsed={false}\n            />\n          )}\n\n          {/* ğŸ”¥ ë·° ì „í™˜ ì˜ì—­ - WriterSidebarì™€ ì—°ë™ */}\n          <div className={WRITER_EDITOR_STYLES.editorContainer}>\n            {currentView === 'write' && (\n              <WriteView\n                content={projectData.content}\n                onChange={projectData.setContent}\n                isFocusMode={uiState.isFocusMode}\n              />\n            )}\n            {currentView === 'structure' && (\n              <StructureView\n                structure={projectData.structure}\n                onStructureChange={projectData.setStructure}\n              />\n            )}\n            {currentView === 'characters' && (\n              <CharactersView\n                projectId={projectId}\n                characters={projectData.characters}\n                onCharactersChange={projectData.setCharacters}\n              />\n            )}\n            {currentView === 'notes' && (\n              <NotesView\n                projectId={projectId}\n                notes={projectData.notes || []}\n                onNotesChange={projectData.setNotes}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* ğŸ”¥ ë‹¨ì¶•í‚¤ ë„ì›€ë§ (ìš°ì¸¡ í•˜ë‹¨ ê³ ì •) */}\n      <ShortcutHelp />\n\n      {/* ğŸ”¥ ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ */}\n      <ConfirmDeleteDialog\n        isOpen={showDeleteDialog}\n        projectTitle={projectData.title}\n        onConfirm={handleConfirmDelete}\n        onCancel={() => setShowDeleteDialog(false)}\n      />\n\n      {/* ğŸ”¥ ê³µìœ  ë‹¤ì´ì–¼ë¡œê·¸ */}\n      <ShareDialog\n        isOpen={showShareDialog}\n        projectTitle={projectData.title}\n        projectId={projectId}\n        onClose={() => setShowShareDialog(false)}\n      />\n    </EditorProvider>\n  );\n});\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5876, "column": 0}, "map": {"version":3,"sources":["file:///Users/user/loop/loop/src/renderer/app/projects/%5Bid%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useParams } from 'next/navigation';\nimport { ProjectEditor } from '../../../components/projects/ProjectEditor';\nimport { Logger } from '../../../../shared/logger';\n\n// ğŸ”¥ Next.js 15: 'use client'ì™€ generateStaticParams ë™ì‹œ ì‚¬ìš© ë¶ˆê°€\n// ë™ì  ë¼ìš°íŒ…ì´ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì„¤ì •\n\nexport default function ProjectPage(): React.ReactElement {\n  const params = useParams();\n  const projectId = Array.isArray(params.id) ? params.id[0] : params.id;\n\n  // ğŸ”¥ íŒŒë¼ë¯¸í„° ê²€ì¦\n  if (!projectId) {\n    Logger.error('PROJECT_PAGE', 'Missing project ID in route parameters');\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h1 className=\"text-2xl font-bold text-red-600 mb-4\">ì˜¤ë¥˜</h1>\n          <p className=\"text-slate-600\">í”„ë¡œì íŠ¸ IDê°€ ì—†ìŠµë‹ˆë‹¤.</p>\n        </div>\n      </div>\n    );\n  }\n\n  Logger.debug('PROJECT_PAGE', 'Loading project page', { projectId });\n\n  return <ProjectEditor projectId={projectId} />;\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AALA;;;;;AAUe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,mSAAA,CAAA,YAAS,AAAD;IACvB,MAAM,YAAY,MAAM,OAAO,CAAC,OAAO,EAAE,IAAI,OAAO,EAAE,CAAC,EAAE,GAAG,OAAO,EAAE;IAErE,aAAa;IACb,IAAI,CAAC,WAAW;QACd,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,gBAAgB;QAC7B,qBACE,+YAAC;YAAI,WAAU;sBACb,cAAA,+YAAC;gBAAI,WAAU;;kCACb,+YAAC;wBAAG,WAAU;kCAAuC;;;;;;kCACrD,+YAAC;wBAAE,WAAU;kCAAiB;;;;;;;;;;;;;;;;;IAItC;IAEA,uHAAA,CAAA,SAAM,CAAC,KAAK,CAAC,gBAAgB,wBAAwB;QAAE;IAAU;IAEjE,qBAAO,+YAAC,2JAAA,CAAA,gBAAa;QAAC,WAAW;;;;;;AACnC","debugId":null}}]
}