(()=>{var e={};e.id=893,e.ids=[893],e.modules={91:(e,t,a)=>{Promise.resolve().then(a.bind(a,828))},500:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]])},707:(e,t,a)=>{Promise.resolve().then(a.bind(a,4495))},828:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(3952).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/user/loop/loop/src/renderer/app/projects/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/user/loop/loop/src/renderer/app/projects/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1061:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2513:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3365:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},3605:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},3727:(e,t,a)=>{"use strict";a.d(t,{T:()=>n});var r=a(3486),s=a(159),l=a(7506);let o={base:"flex w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-50 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-blue-400",sizes:{sm:"min-h-[60px] text-xs",md:"min-h-[80px] text-sm",lg:"min-h-[120px] text-base"},variants:{default:"border-slate-300 focus:ring-blue-500",error:"border-red-300 focus:ring-red-500 focus:border-red-500",success:"border-green-300 focus:ring-green-500 focus:border-green-500"},resize:{none:"resize-none",vertical:"resize-y",horizontal:"resize-x",both:"resize"}};function i(...e){return e.filter(Boolean).join(" ")}let n=(0,s.forwardRef)(({className:e,size:t="md",variant:a="default",resize:n="vertical",autoResize:d=!1,maxLength:c,showCount:u=!1,label:m,error:h,helperText:p,required:x=!1,disabled:g,value:b,onChange:f,onFocus:v,onBlur:j,...k},w)=>{let[y,N]=(0,s.useState)(!1),[A,C]=(0,s.useState)(0),E=(0,s.useRef)(null);(0,s.useEffect)(()=>{w&&"function"==typeof w?w(E.current):w&&(w.current=E.current)},[w]),(0,s.useEffect)(()=>{if(d&&E.current){let e=E.current;e.style.height="auto",e.style.height=`${e.scrollHeight}px`}},[b,d]),(0,s.useEffect)(()=>{"string"==typeof b&&C(b.length)},[b]);let R=i(o.base,o.sizes[t],o.variants[h?"error":a],o.resize[n],d&&"overflow-hidden",e),P=m?`textarea-label-${Math.random().toString(36).substr(2,9)}`:void 0,T=h?`textarea-error-${Math.random().toString(36).substr(2,9)}`:void 0,D=p?`textarea-helper-${Math.random().toString(36).substr(2,9)}`:void 0;return(0,r.jsxs)("div",{className:"w-full",children:[m&&(0,r.jsxs)("label",{id:P,htmlFor:k.id,className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:[m,x&&(0,r.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("textarea",{ref:E,className:R,disabled:g,value:b,onChange:e=>{let t=e.target.value;if((!c||!(t.length>c))&&(C(t.length),f&&(f(e),l.V.debug("TEXTAREA","Value changed",{length:t.length,maxLength:c,autoResize:d})),d&&E.current)){let e=E.current;e.style.height="auto",e.style.height=`${e.scrollHeight}px`}},onFocus:e=>{N(!0),v?.(e),l.V.debug("TEXTAREA","Focused")},onBlur:e=>{N(!1),j?.(e),l.V.debug("TEXTAREA","Blurred")},maxLength:c,"aria-labelledby":P,"aria-describedby":i(T&&T,D&&D)||void 0,"aria-invalid":!!h,"aria-required":x,...k}),(u||c)&&(0,r.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900 px-1 rounded",children:[A,c&&`/${c}`]})]}),h&&(0,r.jsx)("p",{id:T,className:"mt-2 text-sm text-red-600 dark:text-red-400",role:"alert",children:h}),p&&!h&&(0,r.jsx)("p",{id:D,className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:p})]})});n.displayName="Textarea"},3734:(e,t,a)=>{"use strict";a.d(t,{Z:()=>i});var r=a(3486),s=a(6609),l=a(7499);let o={base:"rounded-lg transition-all duration-200 ease-in-out",variants:{default:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 shadow-sm dark:shadow-slate-900/20",elevated:"bg-white dark:bg-slate-800 shadow-lg dark:shadow-slate-900/30 border-0",outlined:"bg-transparent border-2 border-slate-300 dark:border-slate-600",writer:"bg-white dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 backdrop-blur-sm"},padding:{sm:"p-4",md:"p-6",lg:"p-8"},hover:{default:"hover:shadow-md dark:hover:shadow-slate-900/40 hover:border-slate-300 dark:hover:border-slate-600",elevated:"hover:shadow-xl dark:hover:shadow-slate-900/50 hover:-translate-y-1",outlined:"hover:border-slate-400 dark:hover:border-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800/50",writer:"hover:shadow-lg dark:hover:shadow-slate-900/40 hover:bg-slate-50 dark:hover:bg-slate-800/60"}},i=(0,s.forwardRef)(({variant:e="default",padding:t="md",hoverable:a=!1,className:s,children:i,onClick:n,role:d,"aria-label":c,...u},m)=>{let h=(0,l.cn)(o.base,o.variants[e],o.padding[t],a&&o.hover[e],n&&"cursor-pointer",s);return(0,r.jsx)("div",{ref:m,className:h,onClick:n,role:d,"aria-label":c,tabIndex:n?0:void 0,onKeyDown:n?e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),n())}:void 0,...u,children:i})});i.displayName="Card"},3873:e=>{"use strict";e.exports=require("path")},4022:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]])},4495:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>W});var r=a(3486),s=a(159),l=a(2984),o=a(5795),i=a(4667);let n=(0,i.A)("arrow-up-narrow-wide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]),d=(0,i.A)("arrow-down-wide-narrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);var c=a(6820),u=a(2726),m=a(500),h=a(5831),p=a(7558),x=a(3605),g=a(7060),b=a(1061),f=a(2513),v=a(3365),j=a(3734),k=a(7408),w=a(9142),y=a(9479),N=a(8127),A=a(7506);let C={container:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",header:"flex items-start justify-between p-4 pb-2",title:"text-lg font-semibold text-slate-900 dark:text-slate-100 line-clamp-2 flex-1 mr-2",moreButton:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 w-8 h-8 p-0",content:"px-4 pb-2",description:"text-sm text-slate-600 dark:text-slate-400 line-clamp-3 mb-3",metaSection:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",metaItem:"flex items-center gap-1",progressSection:"mb-4",progressHeader:"flex items-center justify-between mb-2",progressLabel:"text-sm font-medium text-slate-700 dark:text-slate-300",progressValue:"text-sm text-slate-500 dark:text-slate-400",footer:"px-4 pb-4",actionButtons:"flex items-center gap-2",actionButton:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",statusBadge:"mb-2",icon:"w-4 h-4"};function E({project:e,onView:t,onEdit:a,onShare:s,onDelete:l,onMore:o,showActions:i=!0}){let n,d=(t,a)=>{A.V.info("PROJECT_CARD",`Action triggered: ${t}`,{projectId:e.id}),a?.(e)},c=(t,a,r)=>{t.stopPropagation(),t.preventDefault(),A.V.info("PROJECT_CARD",`Action triggered: ${a}`,{projectId:e.id}),r?.(e)},E=!1,R=null;try{let t=e.description?.match(/\[Google Docs 연동 정보: (\{.*\})\]$/s);if(t&&t[1]){let e=JSON.parse(t[1]);e&&e.isGoogleDocsProject&&(E=!0,R=e)}}catch(t){A.V.debug("PROJECT_CARD","Google Docs 메타데이터 파싱 실패",{err:t,projectId:e.id})}let P=R?.originalDescription?R.originalDescription:e.description,T=e=>{if(e)try{window.electronAPI?.shell?.openExternal?window.electronAPI.shell.openExternal(e):window.open(e,"_blank","noopener")}catch(e){A.V.error("PROJECT_CARD","외부 링크 열기 실패",e)}},D=e=>{e.stopPropagation(),e.preventDefault(),d("more",o)},O=e=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"short",day:"numeric"}).format(e),S=[{id:"view",label:"보기",icon:u.A,variant:"ghost",onClick:e=>d("view",t),ariaLabel:"프로젝트 보기"},{id:"edit",label:"편집",icon:m.A,variant:"ghost",onClick:e=>d("edit",a),ariaLabel:"프로젝트 편집"},{id:"share",label:"공유",icon:h.A,variant:"ghost",onClick:e=>d("share",s),ariaLabel:"프로젝트 공유"},{id:"delete",label:"삭제",icon:p.A,variant:"ghost",onClick:e=>d("delete",l),ariaLabel:"프로젝트 삭제"}];return(0,r.jsxs)(j.Z,{className:`${C.container} cursor-pointer ${E?"ring-2 ring-yellow-400 dark:ring-yellow-600":""}`,role:"article","aria-label":`프로젝트: ${e.title}`,onClick:()=>{A.V.info("PROJECT_CARD","Card clicked",{projectId:e.id}),t?.(e)},children:[(0,r.jsxs)("div",{className:C.header,children:[(0,r.jsxs)("h3",{className:C.title,children:[e.title,E&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),T(R?.googleDocUrl||void 0)},title:"Google Docs 원본 열기",className:"ml-2 inline-flex items-center text-yellow-600 dark:text-yellow-400","aria-label":"Open Google Docs",children:(0,r.jsx)(x.A,{className:C.icon})})]}),i&&o&&(0,r.jsx)(N.m_,{content:"더 보기",side:"bottom",sideOffset:4,children:(0,r.jsx)(k.$,{variant:"ghost",size:"sm",className:C.moreButton,onClick:e=>{e.stopPropagation(),e.preventDefault(),D(e)},"aria-label":"프로젝트 옵션 더 보기",children:(0,r.jsx)(g.A,{className:C.icon})})})]}),(0,r.jsxs)("div",{className:C.content,children:[(0,r.jsxs)("div",{className:C.statusBadge,children:[(0,r.jsx)(y.E,{variant:E?"warning":(e=>{switch(e){case"completed":return"success";case"active":return"primary";case"paused":return"warning";default:return"default"}})(e.status),size:"sm",children:E?"Google Docs":(e=>{switch(e){case"completed":return"완료";case"active":return"진행중";case"paused":return"일시정지";case"draft":return"초안";default:return"알 수 없음"}})(e.status)}),E&&R?.googleDocUrl&&(0,r.jsx)("button",{onClick:e=>{e.stopPropagation(),e.preventDefault(),T(R?.googleDocUrl)},className:"ml-2 text-xs text-blue-600 dark:text-blue-400 underline",children:"원본 열기"})]}),(0,r.jsx)("p",{className:C.description,children:P}),(0,r.jsxs)("div",{className:C.metaSection,children:[(0,r.jsxs)("div",{className:C.metaItem,children:[(0,r.jsx)(b.A,{className:C.icon,"aria-hidden":"true"}),(0,r.jsx)("span",{children:O(e.createdAt)})]}),e.wordCount&&(0,r.jsxs)("div",{className:C.metaItem,children:[(0,r.jsx)(f.A,{className:C.icon,"aria-hidden":"true"}),(0,r.jsxs)("span",{children:[(n=e.wordCount,new Intl.NumberFormat("ko-KR").format(n)),"자"]})]}),(0,r.jsxs)("div",{className:C.metaItem,children:[(0,r.jsx)(v.A,{className:C.icon,"aria-hidden":"true"}),(0,r.jsx)("span",{children:O(e.updatedAt)})]})]}),(0,r.jsxs)("div",{className:C.progressSection,children:[(0,r.jsxs)("div",{className:C.progressHeader,children:[(0,r.jsx)("span",{className:C.progressLabel,children:"진행률"}),(0,r.jsxs)("span",{className:C.progressValue,children:[Math.round(e.progress),"%"]})]}),(0,r.jsx)(w.z,{value:e.progress,size:"sm",color:e.progress>=100?"green":"blue","aria-label":`프로젝트 진행률 ${Math.round(e.progress)}%`})]})]}),i&&(0,r.jsx)("div",{className:C.footer,onClick:e=>{e.stopPropagation()},children:(0,r.jsx)("div",{className:C.actionButtons,onClick:e=>{e.stopPropagation()},children:S.map(t=>{let a=t.icon;return(0,r.jsx)(N.m_,{content:t.label,side:"bottom",sideOffset:4,children:(0,r.jsx)(k.$,{variant:t.variant,size:"sm",className:C.actionButton,onClick:a=>c(a,t.id,t.onClick?.bind(null,e)),"aria-label":t.ariaLabel,children:(0,r.jsx)(a,{className:C.icon})})},t.id)})})})]})}var R=a(4146);let P={container:"space-y-6",header:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",controls:"flex flex-col gap-3 md:flex-row md:items-center md:flex-wrap",searchContainer:"relative w-full md:flex-1 md:min-w-[260px] md:max-w-md",searchIcon:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",searchInput:"pl-10",filters:"flex items-center gap-2 flex-wrap",filterButton:"h-9",sortButton:"h-9 w-9 p-0",createButton:"flex items-center gap-2 whitespace-nowrap",grid:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",emptyState:"col-span-full text-center py-12",emptyStateIcon:"w-16 h-16 mx-auto text-slate-400 mb-4",emptyStateTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",emptyStateDescription:"text-slate-500 dark:text-slate-400 mb-6",statsBar:"flex items-center gap-4 flex-wrap text-sm text-slate-600 dark:text-slate-400",statsItem:"flex items-center gap-1 whitespace-nowrap"};function T({projects:e,loading:t=!1,onCreateProject:a,onViewProject:l,onEditProject:i,onShareProject:u,onDeleteProject:m,showCreateButton:h=!0,searchPlaceholder:p="프로젝트 검색..."}){let[x,g]=(0,s.useState)(""),[b,f]=(0,s.useState)("all"),[v,j]=(0,s.useState)("updatedAt"),[w,y]=(0,s.useState)("desc"),N=(0,s.useMemo)(()=>{let t=[...e];if(x.trim()){let e=x.toLowerCase();t=t.filter(t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.author?.toLowerCase().includes(e)||t.genre?.toLowerCase().includes(e))}return"all"!==b&&(t=t.filter(e=>e.status===b)),t.sort((e,t)=>{let a,r;switch(v){case"title":a=e.title.toLowerCase(),r=t.title.toLowerCase();break;case"createdAt":a=e.createdAt.getTime(),r=t.createdAt.getTime();break;case"updatedAt":a=e.updatedAt.getTime(),r=t.updatedAt.getTime();break;case"progress":a=e.progress,r=t.progress;break;default:return 0}return a<r?"asc"===w?-1:1:a>r?"asc"===w?1:-1:0}),t},[e,x,b,v,w]),C=(0,s.useMemo)(()=>{let t=e.length,a=e.filter(e=>"active"===e.status).length;return{total:t,active:a,completed:e.filter(e=>"completed"===e.status).length,paused:e.filter(e=>"paused"===e.status).length}},[e]),T=e=>{g(e),A.V.debug("PROJECT_GRID",`Search query: ${e}`)},D=e=>{f(e),A.V.debug("PROJECT_GRID",`Filter by status: ${e}`)},O=e=>{v===e?y("asc"===w?"desc":"asc"):(j(e),y("desc")),A.V.debug("PROJECT_GRID",`Sort by: ${e} ${w}`)},S=()=>{A.V.info("PROJECT_GRID","Create project button clicked"),a?.()},G=[{value:"all",label:"전체",count:C.total},{value:"active",label:"진행중",count:C.active},{value:"completed",label:"완료",count:C.completed},{value:"paused",label:"일시정지",count:C.paused}];return t?(0,r.jsx)("div",{className:P.container,children:(0,r.jsx)("div",{className:P.emptyState,children:(0,r.jsx)("div",{className:P.emptyStateTitle,children:"로딩 중..."})})}):(0,r.jsxs)("div",{className:P.container,role:"main","aria-label":"프로젝트 목록",children:[(0,r.jsxs)("div",{className:P.header,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:P.title,children:"프로젝트"}),(0,r.jsxs)("div",{className:P.statsBar,children:[(0,r.jsxs)("div",{className:P.statsItem,children:["총 ",C.total,"개"]}),(0,r.jsxs)("div",{className:P.statsItem,children:["진행중 ",C.active,"개"]}),(0,r.jsxs)("div",{className:P.statsItem,children:["완료 ",C.completed,"개"]})]})]}),(0,r.jsxs)("div",{className:P.controls,children:[(0,r.jsxs)("div",{className:P.searchContainer,children:[(0,r.jsx)(o.A,{className:P.searchIcon,"aria-hidden":"true"}),(0,r.jsx)(R.p,{type:"text",placeholder:p,value:x,onChange:e=>T(e.target.value),className:P.searchInput,"aria-label":"프로젝트 검색"})]}),(0,r.jsx)("div",{className:P.filters,children:G.map(e=>(0,r.jsxs)(k.$,{variant:b===e.value?"primary":"outline",size:"sm",className:P.filterButton,onClick:()=>D(e.value),"aria-label":`${e.label} 필터`,"aria-pressed":b===e.value,children:[e.label," (",e.count,")"]},e.value))}),(0,r.jsx)(k.$,{variant:"outline",size:"sm",className:P.sortButton,onClick:()=>O("updatedAt"),"aria-label":`업데이트 순으로 ${"asc"===w?"내림차순":"오름차순"} 정렬`,children:"asc"===w?(0,r.jsx)(n,{className:"w-4 h-4"}):(0,r.jsx)(d,{className:"w-4 h-4"})}),h&&(0,r.jsxs)(k.$,{variant:"primary",onClick:S,className:P.createButton,"aria-label":"새 프로젝트 생성",children:[(0,r.jsx)(c.A,{className:"w-4 h-4"}),"새 프로젝트"]})]})]}),N.length>0?(0,r.jsx)("div",{className:P.grid,role:"grid","aria-label":`${N.length}개의 프로젝트`,children:N.map(e=>(0,r.jsx)("div",{role:"gridcell",children:(0,r.jsx)(E,{project:e,onView:l,onEdit:i,onShare:u,onDelete:m})},e.id))}):(0,r.jsxs)("div",{className:P.emptyState,children:[(0,r.jsx)("div",{className:P.emptyStateIcon,children:x||"all"!==b?(0,r.jsx)(o.A,{}):(0,r.jsx)(c.A,{})}),(0,r.jsx)("h3",{className:P.emptyStateTitle,children:x||"all"!==b?"검색 결과가 없습니다":"아직 프로젝트가 없습니다"}),(0,r.jsx)("p",{className:P.emptyStateDescription,children:x||"all"!==b?"다른 검색어나 필터를 시도해보세요.":"새 프로젝트를 만들어서 타이핑 분석을 시작해보세요."}),h&&!x&&"all"===b&&(0,r.jsxs)(k.$,{variant:"primary",onClick:S,className:P.createButton,children:[(0,r.jsx)(c.A,{className:"w-4 h-4"}),"첫 번째 프로젝트 만들기"]})]})]})}var D=a(3727),O=a(9575),S=a(8350);let G=(0,i.A)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),V=(0,i.A)("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),_=(0,i.A)("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]]);var M=a(4022),$=a(7660),I=a(1039),J=a(8346);let B={overlay:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",modal:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl dark:shadow-slate-900/50 w-full max-w-4xl max-h-[90vh] overflow-hidden border border-slate-200 dark:border-slate-700",header:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",closeButton:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",content:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] bg-white dark:bg-slate-900",platformSection:"mb-8",sectionTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",platformGrid:"grid grid-cols-1 md:grid-cols-3 gap-4",platformCard:"p-4 border-2 rounded-xl cursor-pointer transition-all hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-950/20",platformCardSelected:"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-950/20",platformCardDefault:"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",platformIcon:"w-8 h-8 text-blue-600 dark:text-blue-400 mb-2",platformTitle:"font-semibold text-slate-900 dark:text-slate-100 mb-1",platformDescription:"text-sm text-slate-600 dark:text-slate-400",formSection:"mb-6",label:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",inputGroup:"mb-4",genreGrid:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",genreButton:"p-2 text-sm border rounded-lg transition-colors",genreSelected:"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",genreDefault:"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800",footer:"flex items-center justify-between p-6 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",secondaryButton:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",primaryButton:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},L=[{id:"loop",name:"Loop Editor",description:"통합 타이핑 분석과 함께하는 전용 에디터",icon:O.A,recommended:!0},{id:"google-docs",name:"Google Docs",description:"실시간 협업과 클라우드 동기화",icon:S.A,external:!0},{id:"import",name:"파일 불러오기",description:"Word, 텍스트 파일에서 프로젝트 생성",icon:G,action:"import"}],z=[{id:"novel",name:"소설",icon:O.A},{id:"essay",name:"에세이",icon:V},{id:"blog",name:"블로그",icon:_},{id:"tech",name:"기술",icon:M.A},{id:"diary",name:"일기",icon:f.A},{id:"poem",name:"시",icon:$.A},{id:"script",name:"대본",icon:f.A},{id:"other",name:"기타",icon:c.A}];function F({isOpen:e,onClose:t,onCreate:a}){let[l,o]=(0,s.useState)("loop"),[i,n]=(0,s.useState)(""),[d,c]=(0,s.useState)(""),[u,m]=(0,s.useState)("novel"),[h,p]=(0,s.useState)(1e4),[g,b]=(0,s.useState)(""),[v,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(!1),[C,E]=(0,s.useState)([]),[P,T]=(0,s.useState)(null);if(!e)return null;let O=async()=>{try{if(A.V.info("PROJECT_CREATOR","Google Docs 연동 시작"),!window.electronAPI)return void alert("데스크톱 앱에서만 사용 가능합니다");A.V.info("PROJECT_CREATOR","현재 인증 상태 확인 중...");let e=await window.electronAPI?.oauth?.getAuthStatus();if(A.V.info("PROJECT_CREATOR","인증 상태 결과:",e),e&&e.success&&e.data&&e.data.isAuthenticated){A.V.info("PROJECT_CREATOR","✅ 이미 인증됨 - 문서 목록 표시",{userEmail:e.data.userEmail}),await S();return}A.V.info("PROJECT_CREATOR","❌ 인증 필요 - OAuth 시작");try{let e=await window.electronAPI?.oauth?.startGoogleAuth(void 0);if(A.V.info("PROJECT_CREATOR","OAuth 시작 결과:",e),e&&e.success)alert("브라우저에서 Google 계정으로 로그인해주세요.\n로그인 완료 후 자동으로 문서 목록이 표시됩니다.");else throw Error(e?.error||"OAuth 시작 실패")}catch(e){A.V.error("PROJECT_CREATOR","OAuth 시작 실패:",e),alert(`Google 인증 시작 실패: ${e instanceof Error?e.message:"알 수 없는 오류"}`)}}catch(e){A.V.error("PROJECT_CREATOR","Google Docs 연동 실패:",e),alert(`Google Docs 연동 실패: ${e instanceof Error?e.message:"알 수 없는 오류"}`)}},S=async()=>{try{A.V.info("PROJECT_CREATOR","Google Docs 목록 조회 시작");let e=await window.electronAPI?.oauth?.getAuthStatus();if(!e||!e.success||!e.data||!e.data.isAuthenticated){A.V.warn("PROJECT_CREATOR","인증 상태 확인 실패:",e),alert("Google 인증이 만료되었습니다. 다시 로그인해주세요.");return}A.V.info("PROJECT_CREATOR","✅ 인증 확인됨, 문서 목록 조회 중...",{userEmail:e.data.userEmail});let t=await window.electronAPI?.oauth?.getGoogleDocuments();if(A.V.info("PROJECT_CREATOR","Google Docs 목록 조회 결과:",t),t&&t.success&&t.data){let e=t.data;if(A.V.info("PROJECT_CREATOR",`✅ ${e.length}개 문서 발견`),0===e.length)return void alert("Google Docs에서 문서를 찾을 수 없습니다.\n\nGoogle Drive에 문서를 만들고 다시 시도해주세요.");E(e),N(!0)}else{A.V.error("PROJECT_CREATOR","Google Docs 목록 조회 실패:",t);let e=t?.error||"문서 목록을 가져올 수 없습니다";e.includes("인증")||e.includes("401")?alert("Google 인증이 만료되었습니다. 다시 로그인해주세요."):alert(`문서 목록 조회 실패: ${e}`)}}catch(e){A.V.error("PROJECT_CREATOR","Google Docs 목록 조회 중 예외 발생:",e),alert(`문서 목록 조회 실패: ${e instanceof Error?e.message:"알 수 없는 오류"}`)}},G=async e=>{let t=e?.name||e?.title||"제목 없음";if(n(t),c(`Google Docs에서 가져온 문서: ${t}`),o("google-docs"),T(e),N(!1),A.V.info("PROJECT_CREATOR","Google Docs 선택됨:",{id:e?.id,name:t,webViewLink:e?.webViewLink}),e?.id&&window.electronAPI?.oauth?.importGoogleDoc)try{A.V.info("PROJECT_CREATOR","Google Docs 내용 가져오는 중...",{documentId:e.id});let t=await window.electronAPI.oauth.importGoogleDoc(e.id);t.success&&t.data?.content?(A.V.info("PROJECT_CREATOR","Google Docs 내용 가져오기 성공",{contentLength:t.data.content.length}),T({...e,content:t.data.content})):A.V.warn("PROJECT_CREATOR","Google Docs 내용 가져오기 실패",t.error)}catch(e){A.V.error("PROJECT_CREATOR","Google Docs 내용 가져오기 중 오류",e)}},V=async()=>{let e=i||"",r=d||"";if(!e.trim())return void A.V.warn("PROJECT_CREATOR","Project title is required");j(!0);try{let s={title:e.trim(),description:r.trim()||"새로운 프로젝트입니다.",genre:u,platform:l,content:"google-docs"===l&&P?.content?P.content:"loop"===l?$(u):void 0,targetWords:h,deadline:g?new Date(g):void 0,googleDocId:"google-docs"===l&&P?P.id:void 0,googleDocUrl:"google-docs"===l&&P?P.webViewLink:void 0};A.V.info("PROJECT_CREATOR","Creating new project",{title:s.title,platform:s.platform,genre:s.genre,googleDocId:s.googleDocId,googleDocUrl:s.googleDocUrl,hasContent:!!s.content,contentLength:s.content?.length||0}),await a(s),n(""),c(""),m("novel"),o("loop"),p(1e4),b(""),T(null),t()}catch(e){A.V.error("PROJECT_CREATOR","Failed to create project",e)}finally{j(!1)}},_=async e=>{o(e),A.V.debug("PROJECT_CREATOR",`Platform selected: ${e}`),"google-docs"===e&&await O()},M=e=>{m(e),A.V.debug("PROJECT_CREATOR",`Genre selected: ${e}`)},$=e=>{let t={novel:`제1장: 새로운 시작

여기서부터 당신의 이야기가 시작됩니다.

✍️ 작성 팁:
- 등장인물을 구체적으로 묘사해보세요
- 독자가 몰입할 수 있는 장면을 그려보세요
- 하루에 500단어씩 꾸준히 작성해보세요`,essay:`# 제목을 여기에 입력하세요

오늘의 생각을 자유롭게 써보세요.

일상의 작은 순간들이 때로는 가장 의미 있는 글이 됩니다.`,blog:`# 블로그 포스트 제목

## 소개

독자들과 공유하고 싶은 이야기를 써보세요.

## 본문

경험, 배움, 생각을 자유롭게 표현해보세요.`,tech:`# 기술 문서 제목

## 개요

## 문제 정의

## 해결 방법

## 결론

코드와 설명을 함께 작성해보세요.`,diary:`${new Date().toLocaleDateString("ko-KR")} 일기

오늘 있었던 일들을 기록해보세요.

소중한 순간들을 글로 남겨보세요.`,other:`새로운 프로젝트가 시작되었습니다.

자유롭게 내용을 작성해보세요.`},a=`새로운 프로젝트가 시작되었습니다.

자유롭게 내용을 작성해보세요.`;return e?t[e]??t.other??a:a};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:B.overlay,onClick:t,children:(0,r.jsxs)("div",{className:B.modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:B.header,children:[(0,r.jsx)("h2",{className:B.title,children:"새 프로젝트 만들기"}),(0,r.jsx)("button",{onClick:t,className:B.closeButton,"aria-label":"닫기",children:(0,r.jsx)(I.A,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:B.content,children:[(0,r.jsxs)("div",{className:B.platformSection,children:[(0,r.jsx)("h3",{className:B.sectionTitle,children:"작성 플랫폼 선택"}),(0,r.jsx)("div",{className:B.platformGrid,children:L.map(e=>{let t=e.icon;return(0,r.jsxs)("div",{className:`${B.platformCard} ${l===e.id?B.platformCardSelected:B.platformCardDefault}`,onClick:()=>_(e.id),children:[(0,r.jsx)(t,{className:B.platformIcon}),(0,r.jsxs)("div",{className:B.platformTitle,children:[e.name,e.recommended&&(0,r.jsx)(y.E,{className:"ml-2 text-xs bg-blue-100 text-blue-700",children:"추천"}),e.external&&(0,r.jsx)(x.A,{className:"inline w-4 h-4 ml-1"})]}),(0,r.jsx)("p",{className:B.platformDescription,children:e.description})]},e.id)})})]}),(0,r.jsxs)("div",{className:B.formSection,children:[(0,r.jsx)("h3",{className:B.sectionTitle,children:"프로젝트 정보"}),(0,r.jsxs)("div",{className:B.inputGroup,children:[(0,r.jsx)("label",{className:B.label,htmlFor:"project-title",children:"프로젝트 제목 *"}),(0,r.jsx)(R.p,{id:"project-title",type:"text",placeholder:"예: 나의 첫 번째 소설",value:i,onChange:e=>n(e.target.value||""),maxLength:100})]}),(0,r.jsxs)("div",{className:B.inputGroup,children:[(0,r.jsx)("label",{className:B.label,htmlFor:"project-description",children:"프로젝트 설명"}),(0,r.jsx)(D.T,{id:"project-description",placeholder:"프로젝트에 대한 간단한 설명을 입력하세요...",value:d,onChange:e=>c(e.target.value||""),rows:3,maxLength:500})]}),(0,r.jsxs)("div",{className:B.inputGroup,children:[(0,r.jsx)("label",{className:B.label,children:"장르"}),(0,r.jsx)("div",{className:B.genreGrid,children:z.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{className:`${B.genreButton} ${u===e.id?B.genreSelected:B.genreDefault}`,onClick:()=>M(e.id),children:[(0,r.jsx)(t,{className:"w-4 h-4 inline mr-1"}),e.name]},e.id)})})]})]}),(0,r.jsxs)("div",{className:B.formSection,children:[(0,r.jsx)("h3",{className:B.sectionTitle,children:"작성 목표 설정"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:B.inputGroup,children:[(0,r.jsx)("label",{className:B.label,htmlFor:"target-words",children:"목표 단어 수"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(R.p,{id:"target-words",type:"number",placeholder:"10000",value:h,onChange:e=>p(Number(e.target.value)||0),min:"100",max:"1000000",step:"100"}),(0,r.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"단어"})]}),(0,r.jsx)("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"권장: 소설 50,000+ / 에세이 5,000+ / 블로그 1,000+"})]}),(0,r.jsxs)("div",{className:B.inputGroup,children:[(0,r.jsx)("label",{className:B.label,htmlFor:"deadline",children:"완료 목표 날짜 (선택사항)"}),(0,r.jsx)(R.p,{id:"deadline",type:"date",value:g,onChange:e=>b(e.target.value),min:new Date().toISOString().split("T")[0]}),(0,r.jsx)("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"목표 날짜를 설정하면 일일 권장 작성량을 계산해드립니다"})]})]}),h>0&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300",children:[(0,r.jsx)(J.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium",children:"목표 미리보기"})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400",children:["총 목표: ",h.toLocaleString(),"단어",g&&(()=>{let e=Math.ceil((new Date(g).getTime()-new Date().getTime())/864e5),t=Math.ceil(h/e);return e>0?(0,r.jsxs)("span",{className:"block mt-1",children:["일일 권장: ",t.toLocaleString(),"단어 (약 ",Math.ceil(t/200),"분 소요)"]}):null})()]})]})]})]}),(0,r.jsxs)("div",{className:B.footer,children:[(0,r.jsx)("button",{onClick:t,className:B.secondaryButton,children:"취소"}),(0,r.jsx)(k.$,{onClick:V,disabled:!(i||"").trim()||v,className:B.primaryButton,children:v?"생성 중...":"프로젝트 만들기"})]})]})}),w&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60] flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl w-full max-w-2xl max-h-[80vh] overflow-hidden border border-slate-200 dark:border-slate-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700",children:[(0,r.jsx)("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:"Google Docs 선택"}),(0,r.jsx)(k.$,{variant:"outline",size:"sm",onClick:()=>N(!1),className:"p-2",children:(0,r.jsx)(I.A,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"p-6 overflow-y-auto max-h-[calc(80vh-140px)]",children:[(0,r.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-4",children:"가져올 Google Docs 문서를 선택하세요:"}),(0,r.jsx)("div",{className:"space-y-3",children:C.map((e,t)=>(0,r.jsx)("div",{onClick:()=>G(e),className:"p-4 border border-slate-200 dark:border-slate-700 rounded-lg cursor-pointer hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-950/20 transition-all",children:(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)(f.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h4",{className:"font-medium text-slate-900 dark:text-slate-100 truncate",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:["수정됨: ",new Date(e.modifiedTime).toLocaleDateString("ko-KR")]}),e.webViewLink&&(0,r.jsxs)("a",{href:e.webViewLink,target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"inline-flex items-center gap-1 text-xs text-blue-600 dark:text-blue-400 hover:underline mt-1",children:[(0,r.jsx)(x.A,{className:"w-3 h-3"}),"Google Docs에서 열기"]})]})]})},e.id))}),0===C.length&&(0,r.jsx)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"문서를 찾을 수 없습니다."})]})]})})]})}let q={overlay:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",modal:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl dark:shadow-slate-900/50 w-full max-w-4xl max-h-[90vh] overflow-hidden border border-slate-200 dark:border-slate-700",header:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",closeButton:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",content:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] bg-white dark:bg-slate-900",formSection:"mb-6",sectionTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",label:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",inputGroup:"mb-4",genreGrid:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",genreButton:"p-2 text-sm border rounded-lg transition-colors",genreSelected:"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",genreDefault:"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800",footer:"flex items-center justify-between p-6 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",secondaryButton:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",primaryButton:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},U=[{id:"novel",name:"소설",icon:O.A},{id:"essay",name:"에세이",icon:V},{id:"blog",name:"블로그",icon:_},{id:"tech",name:"기술",icon:M.A},{id:"diary",name:"일기",icon:f.A},{id:"poem",name:"시",icon:$.A},{id:"script",name:"대본",icon:f.A},{id:"other",name:"기타",icon:c.A}];function H({isOpen:e,project:t,onClose:a,onUpdated:l}){let[o,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[c,u]=(0,s.useState)("novel"),[m,h]=(0,s.useState)(0),[p,x]=(0,s.useState)(""),[g,b]=(0,s.useState)(!1);if(!e||!t)return null;let f=async()=>{if(o.trim()){b(!0);try{let e={title:o.trim(),description:n.trim(),genre:c,lastModified:new Date},r=await window.electronAPI.projects.update(t.id,e);if(!r.success)throw Error(r.error||"Failed to update project");l({id:t.id,title:e.title||o,description:e.description||n,genre:c,targetWords:m,deadline:p?new Date(p):void 0}),a()}catch(e){A.V.error("PROJECT_EDITOR_MODAL","Failed to update project",e),alert("프로젝트 수정 중 오류가 발생했습니다.")}finally{b(!1)}}};return(0,r.jsx)("div",{className:q.overlay,onClick:a,children:(0,r.jsxs)("div",{className:q.modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:q.header,children:[(0,r.jsx)("h2",{className:q.title,children:"프로젝트 편집"}),(0,r.jsx)("button",{onClick:a,className:q.closeButton,"aria-label":"닫기",children:(0,r.jsx)(I.A,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:q.content,children:[(0,r.jsxs)("div",{className:q.formSection,children:[(0,r.jsx)("h3",{className:q.sectionTitle,children:"기본 정보"}),(0,r.jsxs)("div",{className:q.inputGroup,children:[(0,r.jsx)("label",{className:q.label,htmlFor:"edit-title",children:"프로젝트 제목 *"}),(0,r.jsx)(R.p,{id:"edit-title",type:"text",value:o,onChange:e=>i(e.target.value),maxLength:100})]}),(0,r.jsxs)("div",{className:q.inputGroup,children:[(0,r.jsx)("label",{className:q.label,htmlFor:"edit-desc",children:"프로젝트 설명"}),(0,r.jsx)(D.T,{id:"edit-desc",value:n,onChange:e=>d(e.target.value),rows:3,maxLength:500})]}),(0,r.jsxs)("div",{className:q.inputGroup,children:[(0,r.jsx)("label",{className:q.label,children:"장르"}),(0,r.jsx)("div",{className:q.genreGrid,children:U.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{className:`${q.genreButton} ${c===e.id?q.genreSelected:q.genreDefault}`,onClick:()=>u(e.id),children:[(0,r.jsx)(t,{className:"w-4 h-4 inline mr-1"}),e.name]},e.id)})})]})]}),(0,r.jsxs)("div",{className:q.formSection,children:[(0,r.jsx)("h3",{className:q.sectionTitle,children:"목표 설정"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:q.inputGroup,children:[(0,r.jsx)("label",{className:q.label,htmlFor:"edit-target",children:"목표 단어 수"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(R.p,{id:"edit-target",type:"number",value:m,onChange:e=>h(Number(e.target.value)||0),min:"0",step:"100"}),(0,r.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"단어"})]})]}),(0,r.jsxs)("div",{className:q.inputGroup,children:[(0,r.jsx)("label",{className:q.label,htmlFor:"edit-deadline",children:"완료 목표 날짜 (선택사항)"}),(0,r.jsx)(R.p,{id:"edit-deadline",type:"date",value:p,onChange:e=>x(e.target.value)})]})]}),m>0&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300",children:[(0,r.jsx)(J.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium",children:"목표 미리보기"})]})})]})]}),(0,r.jsxs)("div",{className:q.footer,children:[(0,r.jsx)("button",{onClick:a,className:q.secondaryButton,children:"취소"}),(0,r.jsx)(k.$,{onClick:f,disabled:!o.trim()||g,className:q.primaryButton,children:g?"저장 중...":"변경 사항 저장"})]})]})})}let K={container:"container mx-auto px-4 py-6 max-w-7xl",loading:"flex items-center justify-center min-h-96",loadingText:"text-lg text-slate-600 dark:text-slate-400",error:"flex flex-col items-center justify-center min-h-96 text-center",errorTitle:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2",errorMessage:"text-slate-600 dark:text-slate-400 mb-4",retryButton:"mt-4"},X=[];function Z(){let e=(0,l.useRouter)();(0,l.useSearchParams)();let[t,a]=(0,s.useState)(X),[o,i]=(0,s.useState)(!0),[n,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)(null),p=async()=>{try{i(!0),d(null);let e=await window.electronAPI.projects.getAll();if(!e.success)throw Error(e.error||"Projects API failed");let t=x(e.data||[]);a(t),A.V.info("PROJECTS_PAGE",`✅ Loaded ${t.length} projects successfully`)}catch(e){d(e instanceof Error?e.message:"프로젝트를 불러오는 중 오류가 발생했습니다."),A.V.error("PROJECTS_PAGE","❌ Failed to load projects",e),a(X)}finally{i(!1)}},x=e=>e.map(e=>({id:e.id||"",title:e.title||"제목 없음",description:e.description||"",status:e.status||"draft",progress:e.progress||0,createdAt:e.createdAt?new Date(e.createdAt):new Date,updatedAt:e.updatedAt?new Date(e.updatedAt):e.lastModified?new Date(e.lastModified):new Date,wordCount:e.wordCount||0,author:e.author||"사용자",genre:e.genre||"기타"})),g=async t=>{try{if(A.V.info("PROJECTS_PAGE","\uD83D\uDE80 Creating new project",t),"import"===t.platform){A.V.info("PROJECTS_PAGE","\uD83D\uDCC1 Importing file for project creation");let t=await window.electronAPI.projects.importFile();if(t.success&&t.data){A.V.info("PROJECTS_PAGE","✅ Project imported successfully",{projectId:t.data.id}),e.push(`/projects/${t.data.id}`);return}throw Error(t.error||"Failed to import project")}if("google-docs"===t.platform){A.V.info("PROJECTS_PAGE","\uD83D\uDCDD Creating Google Docs project in Loop database");let a={originalDescription:t.description,googleDocId:t.googleDocId,googleDocUrl:t.googleDocUrl,isGoogleDocsProject:!0},r={title:t.title,description:`${t.description}

[Google Docs 연동 정보: ${JSON.stringify(a)}]`,genre:t.genre,content:t.content||"# Google Docs 연동 프로젝트\n\n이 프로젝트는 Google Docs와 연동되어 있습니다.\n\n원본 문서 링크: "+(t.googleDocUrl||""),progress:0,wordCount:t.content?t.content.length:0,status:"active",author:"사용자",platform:t.platform,updatedAt:new Date},s=await window.electronAPI.projects.create(r);if(!s.success)throw Error(s.error||"Failed to create Google Docs project");if(A.V.info("PROJECTS_PAGE","✅ Google Docs project created successfully in DB",{id:s.data?.id,googleDocId:t.googleDocId,title:t.title}),await p(),s.data?.id){A.V.info("PROJECTS_PAGE","\uD83D\uDE80 Navigating to new Google Docs project editor",{id:s.data.id}),e.push(`/projects/${s.data.id}`);return}}let a={title:t.title,description:t.description,genre:t.genre,content:t.content||"새 프로젝트를 시작해보세요...\n\n",progress:0,wordCount:0,status:"active",author:"사용자",platform:t.platform,updatedAt:new Date},r=await window.electronAPI.projects.create(a);if(!r.success)throw Error(r.error||"Failed to create project");if(A.V.info("PROJECTS_PAGE","✅ Project created successfully in DB",{id:r.data?.id}),await p(),r.data?.id){A.V.info("PROJECTS_PAGE","\uD83D\uDE80 Navigating to new project editor",{id:r.data.id}),e.push(`/projects/${r.data.id}`);return}}catch(t){let e=t instanceof Error?t.message:"프로젝트 생성 중 오류가 발생했습니다.";A.V.error("PROJECTS_PAGE","❌ Failed to create project",t),alert(e)}},b=async e=>{if(A.V.info("PROJECTS_PAGE",`Delete project requested: ${e.id}`,{title:e.title}),confirm(`정말로 "${e.title}" 프로젝트를 삭제하시겠습니까?`))try{let t=await window.electronAPI.projects.delete(e.id);if(t.success)a(t=>t.filter(t=>t.id!==e.id)),A.V.info("PROJECTS_PAGE",`Project deleted: ${e.id}`);else throw Error(t.error||"Failed to delete project")}catch(e){A.V.error("PROJECTS_PAGE","Failed to delete project",e),alert("삭제 중 오류가 발생했습니다.")}};return o?(0,r.jsx)("div",{className:K.container,children:(0,r.jsx)("div",{className:K.loading,children:(0,r.jsx)("div",{className:K.loadingText,children:"프로젝트를 불러오는 중..."})})}):n?(0,r.jsx)("div",{className:K.container,children:(0,r.jsxs)("div",{className:K.error,children:[(0,r.jsx)("h2",{className:K.errorTitle,children:"오류 발생"}),(0,r.jsx)("p",{className:K.errorMessage,children:n}),(0,r.jsx)("button",{onClick:()=>{A.V.info("PROJECTS_PAGE","Retry loading projects"),d(null),i(!0)},className:K.retryButton,type:"button",children:"다시 시도"})]})}):(0,r.jsxs)("div",{className:K.container,children:[(0,r.jsx)(T,{projects:t,onCreateProject:()=>{A.V.info("PROJECTS_PAGE","Opening project creator"),u(!0)},onViewProject:t=>{A.V.info("PROJECTS_PAGE",`🔍 View project: ${t.id}`,{title:t.title}),e.push(`/projects/new?open=${encodeURIComponent(t.id)}`)},onEditProject:e=>{A.V.info("PROJECTS_PAGE",`✏️ Edit project (modal): ${e.id}`,{title:e.title}),h(e)},onShareProject:e=>{A.V.info("PROJECTS_PAGE",`Share project: ${e.id}`,{title:e.title}),alert("공유 기능은 준비 중입니다.")},onDeleteProject:b}),(0,r.jsx)(F,{isOpen:c,onClose:()=>u(!1),onCreate:g}),(0,r.jsx)(H,{isOpen:!!m,project:m?{id:m.id,title:m.title,description:m.description,genre:m.genre||"novel"}:null,onClose:()=>h(null),onUpdated:e=>{a(t=>t.map(t=>t.id===e.id?{...t,title:e.title,description:e.description,genre:e.genre,updatedAt:new Date}:t))}})]})}function W(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{className:K.loading,children:(0,r.jsx)("div",{className:K.loadingText,children:"프로젝트 로딩 중..."})}),children:(0,r.jsx)(Z,{})})}},5831:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},6820:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6873:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=a(4332),s=a(8819),l=a(7851),o=a.n(l),i=a(7540),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);a.d(t,n);let d={children:["",{children:["projects",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,828)),"/Users/user/loop/loop/src/renderer/app/projects/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4356)),"/Users/user/loop/loop/src/renderer/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9033,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(a.t.bind(a,9956,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(a.t.bind(a,2341,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/Users/user/loop/loop/src/renderer/app/projects/page.tsx"],u={require:a,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/projects/page",pathname:"/projects",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7060:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},7558:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},7660:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},8346:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},8350:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9142:(e,t,a)=>{"use strict";a.d(t,{z:()=>o});var r=a(3486),s=a(7499);let l={container:"w-full bg-gray-200 rounded-full overflow-hidden",bar:"h-full transition-all duration-500 ease-out rounded-full",colors:{blue:"bg-blue-600",green:"bg-green-600",purple:"bg-purple-600",orange:"bg-orange-600",red:"bg-red-600"},sizes:{sm:"h-2",md:"h-3",lg:"h-4"},animated:"bg-gradient-to-r bg-[length:200%_100%] animate-shimmer",label:"text-sm font-medium text-gray-700 mb-2"};function o({value:e,color:t="blue",size:a="md",showLabel:o=!1,label:i,animated:n=!1,className:d,"aria-label":c}){let u=Math.max(0,Math.min(100,e)),m=(0,s.cn)(l.container,l.sizes[a],d),h=(0,s.cn)(l.bar,l.colors[t],n&&l.animated),p=i||`${u}%`;return(0,r.jsxs)("div",{className:"w-full",children:[o&&(0,r.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,r.jsx)("span",{className:l.label,children:p}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-gray-900",children:[u,"%"]})]}),(0,r.jsx)("div",{className:m,role:"progressbar","aria-valuenow":u,"aria-valuemin":0,"aria-valuemax":100,"aria-label":c||`Progress: ${u}%`,children:(0,r.jsx)("div",{className:h,style:{width:`${u}%`},"aria-hidden":"true"})})]})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9575:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(4667).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[319,661],()=>a(6873));module.exports=r})();