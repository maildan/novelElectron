(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2494:(e,t,s)=>{Promise.resolve().then(s.bind(s,5254))},5254:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(4568),l=s(7620),r=s(2942),i=s(2878),n=s(639),c=s(3059),o=s(4376),d=s(1228),m=s(6043),x=s(7047),h=s(8189),u=s(9324),p=s(6439);s(1562),s(2745),s(417),s(4775);var j=s(7718),g=s(9174),b=s(3199);s(8158);var v=s(6666),w=s(7904),f=s(2708),N=s(662);let A={container:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-xl shadow-sm dark:shadow-slate-900/20",content:"text-center py-8 px-6",title:"text-xl font-bold text-slate-900 dark:text-slate-100 mb-2",description:"text-slate-600 dark:text-slate-400 mb-6 max-w-md mx-auto leading-relaxed",actionGrid:"grid grid-cols-2 gap-3 max-w-sm mx-auto",actionButton:"h-auto py-3 px-4 flex-col gap-2 text-sm hover:scale-105 transition-all duration-200 shadow-sm hover:shadow-md dark:hover:shadow-slate-900/30",icon:"w-5 h-5",emptyState:"text-slate-500 dark:text-slate-400 text-sm"};function y(e){let{title:t="첫 번째 Loop 프로젝트를 시작해보세요",description:s="새 프로젝트를 만들거나 기존 프로젝트를 가져와서 타이핑 분석을 시작할 수 있습니다.",onCreateProject:l,onImportProject:r,onOpenSample:i,onViewDocs:n,showActions:c=!0}=e,d=(e,t)=>{N.V.info("QUICK_START","Quick action triggered: ".concat(e)),null==t||t()},m=[{id:"create",label:"새 프로젝트",icon:f.A,variant:"primary",onClick:()=>d("create",l),ariaLabel:"새 프로젝트 만들기"},{id:"import",label:"프로젝트 가져오기",icon:w.A,variant:"secondary",onClick:()=>d("import",r),ariaLabel:"기존 프로젝트 가져오기"},{id:"sample",label:"샘플 열기",icon:o.A,variant:"outline",onClick:()=>d("sample",i),ariaLabel:"샘플 프로젝트 열기"},{id:"docs",label:"사용법 보기",icon:v.A,variant:"outline",onClick:()=>d("docs",n),ariaLabel:"사용 가이드 보기"}];return(0,a.jsx)(u.Z,{className:A.container,role:"region","aria-label":"빠른 시작",children:(0,a.jsxs)("div",{className:A.content,children:[(0,a.jsx)("h3",{className:A.title,children:t}),(0,a.jsx)("p",{className:A.description,children:s}),c?(0,a.jsx)("div",{className:A.actionGrid,children:m.map(e=>{let t=e.icon;return(0,a.jsxs)(h.$,{variant:e.variant,className:A.actionButton,onClick:e.onClick,"aria-label":e.ariaLabel,children:[(0,a.jsx)(t,{className:A.icon,"aria-hidden":"true"}),e.label]},e.id)})}):(0,a.jsx)("p",{className:A.emptyState,children:"아직 프로젝트가 없습니다."})]})})}var k=s(35),D=s(8474),I=s(9729),S=s(1455);let P={container:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 p-8 rounded-2xl shadow-sm",header:"flex items-center justify-between mb-6",status:"flex items-center gap-3",pulse:"w-3 h-3 bg-emerald-500 dark:bg-emerald-400 rounded-full animate-pulse shadow-sm",title:"text-xl font-medium text-slate-900 dark:text-slate-100 tracking-wide",time:"font-mono text-xl font-medium text-slate-900 dark:text-slate-100 tracking-wider",stats:"grid grid-cols-3 gap-8 text-center mb-8",statValue:"text-3xl font-semibold text-slate-900 dark:text-slate-100 tracking-tight",statLabel:"text-slate-600 dark:text-slate-400 text-sm font-medium tracking-wide mt-1",controls:"flex items-center gap-4",button:"flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all duration-200 border",startButton:"bg-emerald-600 hover:bg-emerald-700 border-emerald-600 text-white shadow-sm hover:shadow-md",stopButton:"bg-red-600 hover:bg-red-700 border-red-600 text-white shadow-sm hover:shadow-md",aiButton:"bg-violet-600 hover:bg-violet-700 border-violet-600 text-white shadow-sm hover:shadow-md"};function O(e){let t=Math.floor(e/60);return"".concat(t,":").concat((e%60).toString().padStart(2,"0"))}let C=(0,l.memo)(function(e){let{className:t}=e,{state:s,startMonitoring:r,stopMonitoring:i,toggleAI:n}=(0,S.Mc)(),{isMonitoring:c,isAIOpen:o,sessionData:d,startTime:m}=s,x=l.useMemo(()=>m&&c?Math.floor((Date.now()-m.getTime())/1e3):0,[m,c]),u=(0,l.useCallback)(async()=>{try{N.V.info("MONITORING_CONTROL","Starting monitoring..."),await r()}catch(e){N.V.error("MONITORING_CONTROL","Failed to start monitoring",e)}},[r]),p=(0,l.useCallback)(async()=>{try{N.V.info("MONITORING_CONTROL","Stopping monitoring..."),await i()}catch(e){N.V.error("MONITORING_CONTROL","Failed to stop monitoring",e)}},[i]),j=(0,l.useCallback)(()=>{N.V.info("MONITORING_CONTROL","Toggling AI panel..."),n()},[n]);return(0,a.jsxs)("div",{className:"".concat(P.container," ").concat(t||""),children:[(0,a.jsxs)("div",{className:P.header,children:[(0,a.jsxs)("div",{className:P.status,children:[c&&(0,a.jsx)("div",{className:P.pulse}),(0,a.jsx)("span",{className:P.title,children:c?"모니터링 중":"모니터링 대기"})]}),(0,a.jsx)("div",{className:P.time,children:O(x)})]}),(0,a.jsxs)("div",{className:P.stats,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:P.statValue,children:d.wpm}),(0,a.jsx)("div",{className:P.statLabel,children:"WPM"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:P.statValue,children:d.words}),(0,a.jsx)("div",{className:P.statLabel,children:"단어"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:P.statValue,children:O(d.time)}),(0,a.jsx)("div",{className:P.statLabel,children:"시간"})]})]}),(0,a.jsxs)("div",{className:P.controls,children:[c?(0,a.jsxs)(h.$,{onClick:p,className:"".concat(P.button," ").concat(P.stopButton),disabled:!1,children:[(0,a.jsx)(I.A,{className:"w-4 h-4"}),"모니터링 중지"]}):(0,a.jsxs)(h.$,{onClick:u,className:"".concat(P.button," ").concat(P.startButton),disabled:!1,children:[(0,a.jsx)(D.A,{className:"w-4 h-4"}),"모니터링 시작"]}),(0,a.jsxs)(h.$,{onClick:j,className:"".concat(P.button," ").concat(P.aiButton),disabled:!1,children:[(0,a.jsx)(k.A,{className:"w-4 h-4"}),o?"AI 닫기":"AI 열기"]})]})]})}),R={base:"animate-pulse bg-slate-200 dark:bg-slate-700 rounded",shimmer:"relative overflow-hidden before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_2s_infinite] before:bg-gradient-to-r before:from-transparent before:via-white/20 before:to-transparent"},V=(0,l.memo)(function(e){let{className:t="",width:s,height:l,variant:r="rectangle",shimmer:i=!0}=e,n="".concat(R.base," ").concat(i?R.shimmer:""),c={};return s&&(c.width="number"==typeof s?"".concat(s,"px"):s),l&&(c.height="number"==typeof l?"".concat(l,"px"):l),(0,a.jsx)("div",{className:"".concat(n," ").concat({rectangle:"",circle:"rounded-full",text:"h-4"}[r]," ").concat(t),style:c,"aria-hidden":"true"})}),E=(0,l.memo)(()=>(0,a.jsxs)("div",{className:"bg-white dark:bg-slate-800 p-6 rounded-lg border border-slate-200 dark:border-slate-700",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)(V,{className:"h-4 w-20"}),(0,a.jsx)(V,{className:"h-5 w-5 rounded"})]}),(0,a.jsx)(V,{className:"h-8 w-16 mb-2"}),(0,a.jsx)(V,{className:"h-3 w-24"})]}));E.displayName="KpiCardSkeleton";let T=(0,l.memo)(()=>(0,a.jsxs)("div",{className:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-4 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)(V,{className:"h-5 w-32"}),(0,a.jsx)(V,{className:"h-4 w-12"})]}),(0,a.jsx)(V,{className:"h-2 w-full mb-2"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(V,{className:"h-3 w-16"}),(0,a.jsx)(V,{className:"h-3 w-20"})]})]}));T.displayName="ProjectCardSkeleton";let B=(0,l.memo)(()=>(0,a.jsxs)("div",{className:"flex items-center p-3 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[(0,a.jsx)(V,{className:"h-4 w-4 mr-3"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(V,{className:"h-4 w-32 mb-1"}),(0,a.jsx)(V,{className:"h-3 w-20"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)(V,{className:"h-3 w-16 mb-1"}),(0,a.jsx)(V,{className:"h-3 w-12"})]})]}));B.displayName="FileItemSkeleton";let H=(0,l.memo)(function(e){let{showKpi:t=!0,showProjects:s=!0,showRecentFiles:l=!0}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[t&&(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)(E,{},t))}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s&&(0,a.jsxs)("div",{children:[(0,a.jsx)(V,{className:"h-6 w-32 mb-4"}),(0,a.jsx)("div",{className:"space-y-4",children:Array.from({length:3}).map((e,t)=>(0,a.jsx)(T,{},t))})]}),l&&(0,a.jsxs)("div",{children:[(0,a.jsx)(V,{className:"h-6 w-32 mb-4"}),(0,a.jsx)("div",{className:"space-y-2",children:Array.from({length:3}).map((e,t)=>(0,a.jsx)(B,{},t))})]})]})]})});var L=s(5803),_=s(6260);let M={container:"flex-1 flex flex-col min-h-screen",header:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-sm border-b border-slate-200/50 dark:border-slate-700/50 p-8",headerContent:"max-w-6xl mx-auto flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6",headerTitle:"text-3xl font-light text-slate-900 dark:text-slate-100 tracking-tight",headerSubtitle:"text-slate-600 dark:text-slate-400 mt-2 text-lg leading-relaxed",headerActions:"flex items-center gap-4",content:"flex-1 overflow-y-auto p-8 max-w-6xl mx-auto w-full space-y-8",mainGrid:"grid grid-cols-1 lg:grid-cols-2 gap-6",projectList:"space-y-4",projectItem:"bg-slate-50 dark:bg-slate-800 border border-slate-200 dark:border-slate-700 p-4 rounded-lg",projectHeader:"flex items-center justify-between mb-3",projectTitle:"font-semibold text-slate-900 dark:text-slate-100",projectProgress:"mb-2",projectStats:"flex justify-between items-center",progressText:"text-sm font-medium text-slate-700 dark:text-slate-300",progressGoal:"text-xs text-slate-500 dark:text-slate-400",recentFiles:"space-y-2",fileItem:"flex items-center p-3 bg-slate-50 dark:bg-slate-800 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors",fileIcon:"w-4 h-4 text-slate-600 dark:text-slate-400 mr-3 flex-shrink-0",fileInfo:"flex-1 min-w-0",fileName:"font-medium text-slate-900 dark:text-slate-100 text-sm truncate",fileProject:"text-xs text-slate-500 dark:text-slate-400",fileMeta:"text-right flex-shrink-0",fileTime:"text-xs font-medium text-slate-700 dark:text-slate-300",fileStatus:"text-xs text-green-600 dark:text-green-400"};function F(){let e=(0,r.useRouter)(),{state:t,startMonitoring:s,stopMonitoring:b,toggleAI:v,updateSessionData:w}=(0,S.Mc)(),{isMonitoring:f,isAIOpen:A,sessionData:k}=t,[D,I]=(0,l.useState)({wpm:0,words:0,time:0}),[P,O]=(0,l.useState)([]),[R,V]=(0,l.useState)([]),[E,T]=(0,l.useState)({kpi:!0,projects:!0,recentFiles:!0}),[B,F]=(0,l.useState)(!0),[G,K]=(0,l.useState)([{title:"오늘 작성",value:"0",icon:c.A,color:"blue",change:{value:0,type:"neutral",period:"단어"}},{title:"이번 주",value:"0",icon:i.A,color:"green",change:{value:0,type:"neutral",period:"세션"}},{title:"평균 속도",value:"0 WPM",icon:x.A,color:"purple",change:{value:0,type:"neutral",period:"어제 대비"}},{title:"활성 프로젝트",value:"0",icon:d.A,color:"orange",change:{value:0,type:"neutral",period:"개"}}]),$=(0,l.useCallback)(async()=>{try{if(!(0,_.Ub)()){N.V.warn("DASHBOARD","\uD83C\uDF10 Browser environment detected. Using fallback empty state."),T({kpi:!1,projects:!1,recentFiles:!1}),O([]),V([]);return}if(!await (0,_.Rd)(3e3)){N.V.error("DASHBOARD","❌ ElectronAPI not ready"),T({kpi:!1,projects:!1,recentFiles:!1});return}let[e,t,s]=await Promise.allSettled([window.electronAPI.dashboard.getStats(),window.electronAPI.projects.getAll(),window.electronAPI.dashboard.getRecentSessions()]);if("fulfilled"===e.status&&e.value.success){let t=e.value.data;J(t),T(e=>({...e,kpi:!1})),N.V.debug("DASHBOARD","✅ Dashboard stats loaded",t)}else N.V.warn("DASHBOARD","⚠️ Dashboard stats not available, using defaults"),T(e=>({...e,kpi:!1}));if("fulfilled"===t.status&&t.value.success){let e=t.value.data||[];O(e.map(e=>({id:e.id||"",title:e.title||"제목 없음",status:e.status||"draft",progress:e.progress||0,goal:e.dueDate?new Date(e.dueDate).toLocaleDateString():"목표 미설정"}))),T(e=>({...e,projects:!1})),N.V.debug("DASHBOARD","✅ Projects loaded",{count:e.length})}else N.V.warn("DASHBOARD","⚠️ Projects not available, using empty state"),O([]),T(e=>({...e,projects:!1}));if("fulfilled"===s.status&&s.value.success){let e=s.value.data||[];V(e.slice(0,3).map((e,t)=>({id:e.id||"session-".concat(t),name:"session-".concat(new Date(e.startTime).toLocaleDateString(),".md"),project:e.windowTitle||"알 수 없는 앱",time:W(e.endTime||e.startTime),status:"완료"}))),T(e=>({...e,recentFiles:!1})),N.V.debug("DASHBOARD","✅ Recent sessions loaded",{count:e.length})}else N.V.warn("DASHBOARD","⚠️ Recent sessions not available, using empty state"),V([]),T(e=>({...e,recentFiles:!1}))}catch(e){N.V.error("DASHBOARD","❌ Failed to load dashboard data",e)}},[]);l.useEffect(()=>{$();let e=setInterval($,3e4);return()=>clearInterval(e)},[$]);let U=e=>e>0?"increase":e<0?"decrease":"neutral",J=e=>{K([{title:"오늘 작성",value:((null==e?void 0:e.todayWords)||0).toLocaleString(),icon:c.A,color:"blue",change:{value:Math.max(0,(null==e?void 0:e.dailyGrowth)||0),type:U((null==e?void 0:e.dailyGrowth)||0),period:"%"}},{title:"이번 주",value:((null==e?void 0:e.weekWords)||0).toLocaleString(),icon:i.A,color:"green",change:{value:Math.max(0,(null==e?void 0:e.weeklyGrowth)||0),type:U((null==e?void 0:e.weeklyGrowth)||0),period:"%"}},{title:"평균 속도",value:"".concat(Math.round((null==e?void 0:e.avgWpm)||0)," WPM"),icon:x.A,color:"purple",change:{value:Math.max(0,(null==e?void 0:e.wpmImprovement)||0),type:U((null==e?void 0:e.wpmImprovement)||0),period:"%"}},{title:"활성 프로젝트",value:((null==e?void 0:e.activeProjects)||0).toString(),icon:d.A,color:"orange",change:{value:Math.max(0,(null==e?void 0:e.projectGrowth)||0),type:U((null==e?void 0:e.projectGrowth)||0),period:"개"}}])},W=e=>{let t=new Date(e),s=Math.floor((new Date().getTime()-t.getTime())/6e4);if(s<1)return"방금 전";if(s<60)return"".concat(s,"분 전");let a=Math.floor(s/60);if(a<24)return"".concat(a,"시간 전");let l=Math.floor(a/24);return"".concat(l,"일 전")};return(0,a.jsxs)("div",{className:M.container,children:[(0,a.jsx)("div",{className:M.header,children:(0,a.jsxs)("div",{className:M.headerContent,children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:M.headerTitle,children:"대시보드"}),(0,a.jsx)("p",{className:M.headerSubtitle,children:"오늘의 창작을 시작하세요"})]}),(0,a.jsx)("div",{className:M.headerActions,children:(0,a.jsx)(L.K,{fallback:(0,a.jsxs)(h.$,{variant:"outline",className:"gap-2",children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Loop AI"]}),children:(0,a.jsxs)(h.$,{onClick:()=>{N.V.info("DASHBOARD","AI Panel ".concat(A?"closed":"opened")),v()},variant:A?"primary":"outline",className:"gap-2","aria-pressed":A,children:[(0,a.jsx)(m.A,{className:"w-4 h-4"}),"Loop AI"]})})})]})}),(0,a.jsxs)("div",{className:M.content,children:[(0,a.jsx)(C,{}),E.kpi?(0,a.jsx)(H,{showKpi:!0,showProjects:!1,showRecentFiles:!1}):(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:G.map((e,t)=>(0,a.jsx)(g.n,{...e},t))}),(0,a.jsx)(y,{onCreateProject:async()=>{try{N.V.info("DASHBOARD","\uD83D\uDE80 Creating new project from dashboard"),e.push("/projects?create=true")}catch(e){N.V.error("DASHBOARD","Failed to navigate to project creation",e)}},onImportProject:async()=>{try{var e,t;if(N.V.info("DASHBOARD","Importing project from quick start"),!(0,_.Ub)()||!(null==(t=window.electronAPI)||null==(e=t.projects)?void 0:e.importFile))return void N.V.warn("DASHBOARD","\uD83C\uDF10 Cannot import project in browser environment");(await window.electronAPI.projects.importFile()).success&&N.V.info("DASHBOARD","Project import initiated")}catch(e){N.V.error("DASHBOARD","Failed to import project",e)}},onOpenSample:async()=>{try{var e,t;if(N.V.info("DASHBOARD","Opening sample project"),!(0,_.Ub)()||!(null==(t=window.electronAPI)||null==(e=t.projects)?void 0:e.createSample))return void N.V.warn("DASHBOARD","\uD83C\uDF10 Cannot open sample project in browser environment");(await window.electronAPI.projects.createSample()).success&&(N.V.info("DASHBOARD","Sample project opened"),$())}catch(e){N.V.error("DASHBOARD","Failed to open sample project",e)}},onViewDocs:()=>{N.V.info("DASHBOARD","View documentation")}}),(0,a.jsxs)("div",{className:M.mainGrid,children:[(0,a.jsxs)(u.Z,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),(0,a.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"활성 프로젝트"})]}),E.projects?(0,a.jsx)(H,{showKpi:!1,showProjects:!0,showRecentFiles:!1}):(0,a.jsx)("div",{className:M.projectList,children:0===P.length?(0,a.jsxs)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[(0,a.jsx)(m.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"아직 프로젝트가 없습니다"}),(0,a.jsx)("p",{className:"text-sm",children:"새 프로젝트를 만들어보세요!"})]}):P.map(e=>(0,a.jsxs)("div",{className:"".concat(M.projectItem," ").concat("active"===e.status?"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800":""),children:[(0,a.jsxs)("div",{className:M.projectHeader,children:[(0,a.jsx)("h4",{className:M.projectTitle,children:e.title}),(0,a.jsx)(p.E,{variant:"active"===e.status?"primary":"default",size:"sm",children:"active"===e.status?"진행중":"초안"})]}),(0,a.jsx)("div",{className:M.projectProgress,children:(0,a.jsx)(j.z,{value:e.progress,color:"active"===e.status?"blue":"purple",size:"md"})}),(0,a.jsxs)("div",{className:M.projectStats,children:[(0,a.jsxs)("span",{className:M.progressText,children:[e.progress,"% 완료"]}),(0,a.jsxs)("span",{className:M.progressGoal,children:["목표: ",e.goal]})]})]},e.id))})]}),(0,a.jsxs)(u.Z,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),(0,a.jsx)("h3",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"최근 파일"})]}),E.recentFiles?(0,a.jsx)(H,{showKpi:!1,showProjects:!1,showRecentFiles:!0}):(0,a.jsx)("div",{className:M.recentFiles,children:0===R.length?(0,a.jsxs)("div",{className:"text-center py-8 text-slate-500 dark:text-slate-400",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,a.jsx)("p",{children:"최근 작업한 파일이 없습니다"}),(0,a.jsx)("p",{className:"text-sm",children:"작업을 시작해보세요!"})]}):R.map(e=>(0,a.jsxs)("div",{className:M.fileItem,role:"button",tabIndex:0,onClick:()=>N.V.info("DASHBOARD","File clicked",{file:e.name}),onKeyDown:t=>{("Enter"===t.key||" "===t.key)&&(t.preventDefault(),N.V.info("DASHBOARD","File selected",{file:e.name}))},children:[(0,a.jsx)(o.A,{className:M.fileIcon}),(0,a.jsxs)("div",{className:M.fileInfo,children:[(0,a.jsx)("div",{className:M.fileName,children:e.name}),(0,a.jsx)("div",{className:M.fileProject,children:e.project})]}),(0,a.jsxs)("div",{className:M.fileMeta,children:[(0,a.jsx)("div",{className:M.fileTime,children:e.time}),(0,a.jsx)("div",{className:M.fileStatus,children:e.status})]})]},e.id))})]})]})]})]})}let G=()=>{let[e,t]=(0,l.useState)(null),[s,r]=(0,l.useState)([]);(0,l.useEffect)(()=>{let e={userAgent:navigator.userAgent,isElectron:navigator.userAgent.toLowerCase().includes("electron"),hasElectronAPI:!!window.electronAPI,electronAPIKeys:window.electronAPI?Object.keys(window.electronAPI):[],currentUrl:window.location.href,nodeEnv:"production",isClient:!0};t(e),N.V.info("ENV_DETECTOR","\uD83D\uDD0D Environment Information",e)},[]);let i=async()=>{let e=[];try{if(!window.electronAPI){e.push({test:"electronAPI_check",success:!1,error:"window.electronAPI is undefined"}),r(e);return}try{let t=await window.electronAPI.test.ipc();e.push({test:"basic_ipc",success:!0,result:t})}catch(t){e.push({test:"basic_ipc",success:!1,error:String(t)})}try{let t=await window.electronAPI.test.ipcDetailed();e.push({test:"detailed_ipc",success:!0,result:t})}catch(t){e.push({test:"detailed_ipc",success:!1,error:String(t)})}try{let t=await window.electronAPI.projects.getAll();e.push({test:"projects_api",success:!0,result:t})}catch(t){e.push({test:"projects_api",success:!1,error:String(t)})}}catch(t){e.push({test:"general_error",success:!1,error:String(t)})}r(e),N.V.info("ENV_DETECTOR","\uD83E\uDDEA IPC Test Results",e)};return e?(0,a.jsxs)("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:"\uD83D\uDD0D Environment Detector"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Environment Info:"}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Is Electron:"})," ",e.isElectron?"✅ Yes":"❌ No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Has ElectronAPI:"})," ",e.hasElectronAPI?"✅ Yes":"❌ No"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Current URL:"})," ",e.currentUrl]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"NODE_ENV:"})," ",e.nodeEnv]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"ElectronAPI Keys:"}),(0,a.jsx)("div",{className:"text-sm",children:e.electronAPIKeys.length>0?(0,a.jsx)("ul",{className:"list-disc list-inside",children:e.electronAPIKeys.map(e=>(0,a.jsx)("li",{children:e},e))}):(0,a.jsx)("p",{className:"text-red-600",children:"No keys available"})})]})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"User Agent:"}),(0,a.jsx)("p",{className:"text-xs bg-gray-100 p-2 rounded font-mono break-all",children:e.userAgent})]}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:!e.hasElectronAPI,children:"\uD83E\uDDEA Run IPC Tests"})}),s.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"Test Results:"}),(0,a.jsx)("div",{className:"space-y-2",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 rounded text-sm ".concat(e.success?"bg-green-100 border border-green-300":"bg-red-100 border border-red-300"),children:[(0,a.jsxs)("div",{className:"font-semibold",children:[e.success?"✅":"❌"," ",e.test]}),e.success?(0,a.jsx)("pre",{className:"mt-1 text-xs",children:JSON.stringify(e.result,null,2)}):(0,a.jsx)("p",{className:"mt-1 text-red-700",children:e.error})]},t))})]}),!e.hasElectronAPI&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-red-50 border border-red-200 rounded",children:[(0,a.jsx)("h4",{className:"font-semibold text-red-800 mb-2",children:"❌ ElectronAPI Not Available"}),(0,a.jsx)("p",{className:"text-red-700 mb-3",children:"You are running in a browser environment. To use all features, run the Electron app:"}),(0,a.jsxs)("div",{className:"bg-gray-800 text-green-400 p-3 rounded font-mono text-sm",children:[(0,a.jsx)("p",{children:"$ cd /Users/user/loop/loop"}),(0,a.jsx)("p",{children:"$ pnpm dev"})]})]})]}):(0,a.jsx)("div",{className:"p-4 bg-gray-100 rounded",children:"Loading environment info..."})};function K(){let[e,t]=(0,b.J0)(null),[s,l]=(0,b.J0)(null),[r,i]=(0,b.J0)(!1),n=async()=>{i(!0);try{var e,s;if(null==(s=window.electronAPI)||null==(e=s.test)?void 0:e.ipc){let e=await window.electronAPI.test.ipc();t(e)}else t({status:"error",timestamp:Date.now(),error:"electronAPI.test.ipc is not available"}),console.error("❌ electronAPI.test.ipc is not available")}catch(e){t({status:"error",timestamp:Date.now(),error:e instanceof Error?e.message:String(e)}),console.error("❌ Basic IPC test failed:",e)}i(!1)},c=async()=>{i(!0);try{var e,t;if(null==(t=window.electronAPI)||null==(e=t.test)?void 0:e.ipcDetailed){let e=await window.electronAPI.test.ipcDetailed();l(e)}else l({status:"error",timestamp:Date.now(),error:"electronAPI.test.ipcDetailed is not available"}),console.error("❌ electronAPI.test.ipcDetailed is not available")}catch(e){l({status:"error",timestamp:Date.now(),error:e instanceof Error?e.message:String(e)}),console.error("❌ Detailed IPC test failed:",e)}i(!1)},o=async()=>{i(!0);try{var e,t;(null==(t=window.electronAPI)||null==(e=t.ai)?void 0:e.healthCheck)?await window.electronAPI.ai.healthCheck():console.error("❌ electronAPI.ai.healthCheck is not available")}catch(e){console.error("❌ AI health check failed:",e)}i(!1)};return(0,a.jsxs)("div",{className:"p-6 bg-white rounded-lg shadow-lg space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"\uD83D\uDD27 IPC 통신 테스트"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(h.$,{onClick:n,disabled:r,className:"w-full",children:r?"테스트 중...":"기본 IPC 테스트"}),(0,a.jsx)(h.$,{onClick:c,disabled:r,className:"w-full",children:r?"테스트 중...":"상세 IPC 테스트"}),(0,a.jsx)(h.$,{onClick:o,disabled:r,className:"w-full",children:r?"테스트 중...":"AI 연결 테스트"})]}),e&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700",children:"기본 IPC 결과:"}),(0,a.jsx)("pre",{className:"text-sm text-gray-600 mt-1",children:JSON.stringify(e,null,2)})]}),s&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-gray-100 rounded",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-700",children:"상세 IPC 결과:"}),(0,a.jsx)("pre",{className:"text-sm text-gray-600 mt-1",children:JSON.stringify(s,null,2)})]})]})}function $(){return(0,a.jsxs)("div",{className:"min-h-screen",children:[(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsx)(G,{}),(0,a.jsx)(K,{})]}),(0,a.jsx)(F,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[209,432,979,899,744,322,592,940,605,30,173,641,431,110,555,408,219,27,206,409,76,358],()=>t(2494)),_N_E=e.O()}]);