(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2023:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var l=a(1659),s=a(6567),n=a.n(s),r=a(9531),i=a(5303),o=a(597),c=a(2972),d=a(6241),m=a(6737),h=a(2304),x=a(5242),u=a(3360),b=a(5252),g=a(817),f=a(9361),p=a(2792);let v={container:"flex flex-col h-full bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transition-all duration-300",collapsed:"w-16",expanded:"w-64",logoSection:"h-auto min-h-[4rem] flex flex-col justify-center border-b border-slate-200 dark:border-slate-700 px-6 py-3",logoCollapsed:"h-auto min-h-[8rem] flex items-center justify-center border-b border-slate-200 dark:border-slate-700 px-3 py-4",logoText:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",logoIcon:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",collapseButton:"h-6 w-6 p-0 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",navSection:"flex-1 py-4",navList:"space-y-1 px-3",navItem:"flex items-center h-10 px-3 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all duration-150 group cursor-pointer",navItemActive:"flex items-center h-10 px-3 bg-blue-50 dark:bg-blue-950 text-blue-600 dark:text-blue-400 rounded-lg font-medium",navItemCollapsed:"flex items-center justify-center h-10 w-10 mx-auto text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all duration-150 cursor-pointer",navItemActiveCollapsed:"flex items-center justify-center h-10 w-10 mx-auto bg-blue-50 dark:bg-blue-950 text-blue-600 dark:text-blue-400 rounded-lg",icon:"w-5 h-5 group-hover:scale-110 transition-transform duration-150 flex-shrink-0",iconCollapsed:"w-5 h-5",text:"ml-3 font-medium",badge:"ml-auto"},j=[{id:"dashboard",label:"대시보드",icon:h.A,href:"/",ariaLabel:"대시보드로 이동"},{id:"projects",label:"프로젝트",icon:m.A,href:"/projects",ariaLabel:"프로젝트 관리로 이동"},{id:"analytics",label:"통계",icon:o.A,href:"/analytics",ariaLabel:"분석 및 통계로 이동"},{id:"ai",label:"Loop AI",icon:u.A,href:"/ai",badge:2,ariaLabel:"AI 도구로 이동"},{id:"settings",label:"설정",icon:x.A,href:"/settings",ariaLabel:"설정으로 이동"}];function N(e){let{activeRoute:t="/",onNavigate:a,collapsed:s,onToggleCollapse:n}=e,[i,o]=(0,r.useState)(!1),m=void 0!==s,h=m?s:i,x=()=>{m?null==n||n():o(!h),p.V.info("SIDEBAR","Sidebar ".concat(h?"expanded":"collapsed"))},u=e=>{p.V.info("SIDEBAR","Navigation to ".concat(e.label),{href:e.href}),null==a||a(e.href)},N=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),u(t))};return(0,l.jsxs)("aside",{className:"".concat(v.container," ").concat(h?v.collapsed:v.expanded),"aria-label":"사이드바 네비게이션",role:"navigation",children:[(0,l.jsx)("div",{className:h?v.logoCollapsed:v.logoSection,children:h?(0,l.jsxs)("div",{className:"flex flex-col items-center gap-3 py-4",children:[(0,l.jsx)("div",{className:v.logoIcon,children:"L"}),(0,l.jsxs)("div",{className:"flex flex-col items-center gap-1 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 p-2 rounded-lg transition-colors mt-2",onClick:()=>{p.V.info("SIDEBAR","User profile clicked (collapsed)"),null==a||a("/settings")},role:"button",tabIndex:0,"aria-label":"사용자 프로필",children:[(0,l.jsx)("div",{className:"w-7 h-7 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium text-xs",children:"U"}),(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),(0,l.jsx)(b.$,{variant:"ghost",size:"sm",className:v.collapseButton,onClick:x,"aria-label":"사이드바 확장",children:(0,l.jsx)(d.A,{className:"w-3 h-3"})})]}):(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,l.jsx)("h1",{className:v.logoText,children:"Loop"}),(0,l.jsx)(b.$,{variant:"ghost",size:"sm",className:v.collapseButton,onClick:x,"aria-label":"사이드바 축소",children:(0,l.jsx)(c.A,{className:"w-3 h-3"})})]}),(0,l.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 p-2 rounded-lg transition-colors",onClick:()=>{p.V.info("SIDEBAR","User profile clicked"),null==a||a("/settings")},role:"button",tabIndex:0,"aria-label":"사용자 프로필",children:[(0,l.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium text-sm",children:"U"}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Loop 사용자"}),(0,l.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[(0,l.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,l.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"온라인"})]})]})]})]})}),(0,l.jsx)("nav",{className:v.navSection,"aria-label":"메인 메뉴",children:(0,l.jsx)("div",{className:v.navList,children:j.map(e=>{let a=t===e.href,s=e.icon,n=(0,l.jsxs)("div",{className:h?a?v.navItemActiveCollapsed:v.navItemCollapsed:a?v.navItemActive:v.navItem,role:"button",tabIndex:0,onClick:()=>u(e),onKeyDown:t=>N(t,e),"aria-label":e.ariaLabel||e.label,"aria-current":a?"page":void 0,children:[(0,l.jsx)(s,{className:h?v.iconCollapsed:v.icon}),!h&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:v.text,children:e.label}),e.badge&&e.badge>0&&(0,l.jsx)(f.E,{variant:"danger",size:"sm",className:v.badge,children:e.badge>9?"9+":e.badge})]})]});return(0,l.jsx)("div",{children:h?(0,l.jsx)(g.m_,{content:e.label,side:"right",children:(0,l.jsx)("div",{children:n})}):n},e.id)})})})]})}var k=a(7826),w=a(3938),y=a(832),A=a(9241),S=a(5119),I=a(6651),L=a(7129);let C={container:"h-16 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-700/50 flex items-center justify-between px-6 z-80 supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-slate-900/60",leftSection:"flex items-center space-x-4",menuButton:"lg:hidden",searchContainer:"relative hidden md:block w-96",rightSection:"flex items-center space-x-3",notificationButton:"relative"};function E(e){let{onMenuToggle:t,user:a,notificationCount:s=0,onSearch:n,onNotificationClick:r,onUserClick:i}=e,[o,c]=(0,I.J0)(""),{state:d}=(0,L.Mc)(),{isMonitoring:m}=d;return(0,l.jsxs)("header",{className:C.container,role:"banner",children:[(0,l.jsxs)("div",{className:C.leftSection,children:[t&&(0,l.jsx)(b.$,{variant:"ghost",size:"sm",className:C.menuButton,onClick:()=>{p.V.info("HEADER","Menu toggle clicked"),null==t||t()},"aria-label":"메뉴 토글",children:(0,l.jsx)(y.A,{className:"w-5 h-5"})}),(0,l.jsx)("div",{className:C.searchContainer,children:(0,l.jsx)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&(p.V.info("HEADER","Search performed",{query:o}),null==n||n(o.trim()))},children:(0,l.jsx)(A.D,{placeholder:"프로젝트, 파일 검색...",value:o,onChange:e=>{c(e.target.value)},"aria-label":"검색어 입력"})})})]}),(0,l.jsxs)("div",{className:C.rightSection,children:[(0,l.jsx)(S.K,{fallback:null,children:m&&(0,l.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full text-sm",children:[(0,l.jsx)(k.A,{className:"w-4 h-4 animate-pulse"}),(0,l.jsx)("span",{className:"font-medium",children:"모니터링 중"})]})}),(0,l.jsxs)("div",{className:C.notificationButton,children:[(0,l.jsx)(b.$,{variant:"ghost",size:"sm",onClick:()=>{p.V.info("HEADER","Notifications clicked",{count:s}),null==r||r()},"aria-label":"알림 ".concat(s,"개"),children:(0,l.jsx)(w.A,{className:"w-5 h-5"})}),s>0&&(0,l.jsx)(f.E,{variant:"danger",size:"sm",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 text-xs",children:s>9?"9+":s})]})]})]})}var T=a(2287);a(5484),"undefined"==typeof globalThis&&(globalThis.global=globalThis);let D={html:"h-full",body:"h-full bg-slate-50 dark:bg-slate-900 antialiased",container:"h-screen flex",sidebar:"flex-shrink-0",main:"flex-1 flex flex-col overflow-hidden",header:"flex-shrink-0",content:"flex-1 overflow-auto"};function B(e){let{children:t}=e,[a,s]=(0,r.useState)(!1),[o,c]=(0,r.useState)(!1),d=(0,i.usePathname)();return(0,r.useLayoutEffect)(()=>{try{let e=localStorage.getItem("sidebar-collapsed");"true"===e&&s(!0),p.V.debug("LAYOUT","Sidebar state restored immediately",{collapsed:"true"===e})}catch(e){p.V.error("LAYOUT","Failed to restore sidebar state",e)}c(!0)},[]),(0,l.jsxs)("html",{lang:"ko",className:"".concat(n().className," ").concat(D.html),children:[(0,l.jsxs)("head",{children:[(0,l.jsx)("meta",{charSet:"utf-8"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("meta",{name:"description",content:"Loop - AI 기반 타이핑 분석 도구"}),(0,l.jsx)("title",{children:"Loop"}),(0,l.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n              (function() {\n                try {\n                  // 1. localStorage에서 저장된 테마 확인\n                  var savedTheme = localStorage.getItem('loop-theme');\n                  var theme = savedTheme || 'system';\n                  \n                  // 2. system 테마인 경우 시스템 테마 감지\n                  if (theme === 'system') {\n                    theme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n                  }\n                  \n                  // 3. HTML 클래스 즉시 적용 (깜빡임 방지)\n                  document.documentElement.classList.remove('light', 'dark');\n                  document.documentElement.classList.add(theme);\n                  \n                  // 4. CSS 변수도 즉시 적용\n                  document.documentElement.style.setProperty('color-scheme', theme);\n                  \n                  console.log('\uD83C\uDFA8 Theme applied immediately:', theme);\n                } catch (e) {\n                  // 폴백: 기본 라이트 테마\n                  document.documentElement.classList.add('light');\n                  console.warn('Theme script error, using light theme:', e);\n                }\n              })();\n            "}})]}),(0,l.jsx)("body",{className:D.body,children:(0,l.jsx)(T.N,{defaultTheme:"system",children:(0,l.jsx)(L.Au,{children:(0,l.jsxs)("div",{className:D.container,children:[(0,l.jsx)("aside",{className:D.sidebar,children:(0,l.jsx)(N,{activeRoute:d,onNavigate:e=>{window.location.href=e},collapsed:a,onToggleCollapse:()=>{let e=!a;s(e);try{localStorage.setItem("sidebar-collapsed",e.toString()),p.V.debug("LAYOUT","Sidebar state saved",{collapsed:e})}catch(e){p.V.error("LAYOUT","Failed to save sidebar state",e)}}})}),(0,l.jsxs)("main",{className:D.main,children:[(0,l.jsx)("header",{className:D.header,children:(0,l.jsx)(E,{})}),(0,l.jsx)("div",{className:D.content,children:t})]})]})})})})]})}},3520:(e,t,a)=>{Promise.resolve().then(a.bind(a,2023))},5484:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[281,209,149,795,805,813,192,350,615,70,313,809,952,101,464,478,742,816,621,391,76,358],()=>t(3520)),_N_E=e.O()}]);