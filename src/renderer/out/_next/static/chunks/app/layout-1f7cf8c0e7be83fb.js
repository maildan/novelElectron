(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{817:(e,t,a)=>{"use strict";a.d(t,{m_:()=>n});var r=a(1659),l=a(9531),s=a(2792);const o={trigger:"inline-block",tooltip:"absolute z-50 px-3 py-2 text-xs font-medium text-white bg-slate-900 rounded-md shadow-lg whitespace-nowrap pointer-events-none transition-opacity duration-200",arrow:"absolute w-2 h-2 bg-slate-900 transform rotate-45",positions:{top:{tooltip:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",arrow:"top-full left-1/2 transform -translate-x-1/2 -translate-y-1/2"},bottom:{tooltip:"top-full left-1/2 transform -translate-x-1/2 mt-2",arrow:"bottom-full left-1/2 transform -translate-x-1/2 translate-y-1/2"},left:{tooltip:"right-full top-1/2 transform -translate-y-1/2 mr-2",arrow:"left-full top-1/2 transform -translate-y-1/2 -translate-x-1/2"},right:{tooltip:"left-full top-1/2 transform -translate-y-1/2 ml-2",arrow:"right-full top-1/2 transform -translate-y-1/2 translate-x-1/2"}},variants:{default:"bg-slate-900 text-white",light:"bg-white text-slate-900 border border-slate-200 shadow-md",error:"bg-red-600 text-white",success:"bg-green-600 text-white",warning:"bg-yellow-600 text-white"}};function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function n(e){let{content:t,children:a,side:n="top",variant:c="default",delay:d=200,disabled:u=!1,showArrow:m=!0,trigger:h="hover",open:x,onOpenChange:f,className:g,sideOffset:b=0}=e,[p,v]=(0,l.useState)(!1),[N,j]=(0,l.useState)(!1);(0,l.useRef)(null);const w=(0,l.useRef)(null),T=(0,l.useRef)(null),I=void 0!==x?x:p,k=void 0!==x;(0,l.useEffect)(()=>(j(!0),()=>{T.current&&clearTimeout(T.current)}),[]);const y=e=>{u||(k?null==f||f(e):v(e),s.V.debug("TOOLTIP","Tooltip ".concat(e?"opened":"closed"),{side:n,trigger:h}))},O=()=>{T.current&&clearTimeout(T.current),T.current=setTimeout(()=>{y(!0)},d)},E=()=>{T.current&&clearTimeout(T.current),y(!1)},A=(0,l.isValidElement)(a)?(0,l.cloneElement)(a,{onMouseEnter:()=>{"hover"===h&&O()},onMouseLeave:()=>{"hover"===h&&E()},onClick:()=>{"click"===h&&y(!I)},onFocus:()=>{"focus"===h&&O()},onBlur:()=>{"focus"===h&&E()},onKeyDown:e=>{"Escape"===e.key&&I&&E()},"aria-describedby":I?"tooltip":void 0}):a,C=i(o.tooltip,o.positions[n].tooltip,o.variants[c],I?"opacity-100":"opacity-0 pointer-events-none",g),S=i(o.arrow,o.positions[n].arrow,"light"===c?"bg-white border-l border-t border-slate-200":"bg-slate-900");return N?(0,r.jsxs)("div",{className:o.trigger,children:[A,I&&t&&(0,r.jsxs)("div",{ref:w,id:"tooltip",role:"tooltip",className:C,style:{["top"===n||"bottom"===n?"marginTop":"marginLeft"]:"top"===n||"left"===n?-b:b},children:[t,m&&(0,r.jsx)("div",{className:S,"aria-hidden":"true"})]})]}):(0,r.jsx)("div",{className:o.trigger,children:a})}},3520:(e,t,a)=>{Promise.resolve().then(a.bind(a,7316))},5119:(e,t,a)=>{"use strict";a.d(t,{K:()=>s});var r=a(1659),l=a(9531);function s(e){let{children:t,fallback:a=null}=e,[s,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{o(!0)},[]),(0,r.jsx)(r.Fragment,{children:s?t:a})}},5484:()=>{},6651:(e,t,a)=>{"use strict";a.d(t,{J0:()=>r.useState});var r=a(9531)},7129:(e,t,a)=>{"use strict";a.d(t,{Au:()=>i,Mc:()=>n});var r=a(1659),l=a(9531),s=a(2792);const o=(0,l.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,l.useState)({isMonitoring:!1,isAIOpen:!1,startTime:null,sessionData:{wpm:0,words:0,time:0}});(0,l.useLayoutEffect)(()=>{try{const e=localStorage.getItem("monitoring-state");if(e){const t=JSON.parse(e);i(e=>({...e,isMonitoring:t.isMonitoring||!1,isAIOpen:t.isAIOpen||!1,startTime:t.startTime?new Date(t.startTime):null,sessionData:{...e.sessionData,...t.sessionData}})),s.V.debug("MONITORING_CONTEXT","State restored from localStorage",t)}}catch(e){s.V.error("MONITORING_CONTEXT","Failed to load state from localStorage",e)}},[]),l.useEffect(()=>{try{localStorage.setItem("monitoring-state",JSON.stringify(a)),s.V.debug("MONITORING_CONTEXT","State saved to localStorage",a)}catch(e){s.V.error("MONITORING_CONTEXT","Failed to save state to localStorage",e)}},[a]);const n=(0,l.useCallback)(async()=>{try{s.V.info("MONITORING_CONTEXT","Starting monitoring");const e=await window.electronAPI.keyboard.startMonitoring();if(e.success)i(e=>({...e,isMonitoring:!0,startTime:new Date})),s.V.info("MONITORING_CONTEXT","Monitoring started successfully");else throw s.V.error("MONITORING_CONTEXT","Failed to start monitoring",e.error),Error(e.error||"Failed to start monitoring")}catch(e){throw s.V.error("MONITORING_CONTEXT","Error starting monitoring",e),e}},[]),c=(0,l.useCallback)(async()=>{try{s.V.info("MONITORING_CONTEXT","Stopping monitoring");const e=await window.electronAPI.keyboard.stopMonitoring();if(e.success)i(e=>({...e,isMonitoring:!1,startTime:null})),s.V.info("MONITORING_CONTEXT","Monitoring stopped successfully");else throw s.V.error("MONITORING_CONTEXT","Failed to stop monitoring",e.error),Error(e.error||"Failed to stop monitoring")}catch(e){throw s.V.error("MONITORING_CONTEXT","Error stopping monitoring",e),e}},[]),d=(0,l.useCallback)(()=>{i(e=>({...e,isAIOpen:!e.isAIOpen})),s.V.info("MONITORING_CONTEXT","AI Panel toggled to: ".concat(!a.isAIOpen))},[a.isAIOpen]),u=(0,l.useCallback)(e=>{i(t=>({...t,sessionData:{...t.sessionData,...e}}))},[]);return(0,r.jsx)(o.Provider,{value:{state:a,startMonitoring:n,stopMonitoring:c,toggleAI:d,updateSessionData:u},children:t})}function n(){const e=(0,l.useContext)(o);if(void 0===e)throw Error("useMonitoring must be used within a MonitoringProvider");return e}},7316:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(1659),l=a(6567),s=a.n(l),o=a(9531),i=a(5303),n=a(5054),c=a(7305),d=a(1291),u=a(3917),m=a(5451),h=a(6938),x=a(3329),f=a(2608),g=a(817),b=a(9361),p=a(2792);const v={container:"flex flex-col h-full bg-white dark:bg-slate-900 border-r border-slate-200 dark:border-slate-700 transition-all duration-300",collapsed:"w-16",expanded:"w-64",logoSection:"h-auto min-h-[4rem] flex flex-col justify-center border-b border-slate-200 dark:border-slate-700 px-6 py-3",logoCollapsed:"h-auto min-h-[8rem] flex items-center justify-center border-b border-slate-200 dark:border-slate-700 px-3 py-4",logoText:"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",logoIcon:"w-8 h-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center text-white font-bold text-sm",collapseButton:"h-6 w-6 p-0 text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300",navSection:"flex-1 py-4",navList:"space-y-1 px-3",navItem:"flex items-center h-10 px-3 text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all duration-150 group cursor-pointer",navItemActive:"flex items-center h-10 px-3 bg-blue-50 dark:bg-blue-950 text-blue-600 dark:text-blue-400 rounded-lg font-medium",navItemCollapsed:"flex items-center justify-center h-10 w-10 mx-auto text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-all duration-150 cursor-pointer",navItemActiveCollapsed:"flex items-center justify-center h-10 w-10 mx-auto bg-blue-50 dark:bg-blue-950 text-blue-600 dark:text-blue-400 rounded-lg",icon:"w-5 h-5 group-hover:scale-110 transition-transform duration-150 flex-shrink-0",iconCollapsed:"w-5 h-5",text:"ml-3 font-medium",badge:"ml-auto"},N=[{id:"dashboard",label:"대시보드",icon:n.A,href:"/",ariaLabel:"대시보드로 이동"},{id:"projects",label:"프로젝트",icon:c.A,href:"/projects",ariaLabel:"프로젝트 관리로 이동"},{id:"analytics",label:"통계",icon:d.A,href:"/analytics",ariaLabel:"분석 및 통계로 이동"},{id:"ai",label:"Loop AI",icon:u.A,href:"/ai",badge:2,ariaLabel:"AI 도구로 이동"},{id:"settings",label:"설정",icon:m.A,href:"/settings",ariaLabel:"설정으로 이동"}];function j(e){let{activeRoute:t="/",onNavigate:a,collapsed:l,onToggleCollapse:s}=e,[i,n]=(0,o.useState)(!1),c=void 0!==l,d=c?l:i,u=()=>{c?null==s||s():n(!d),p.V.info("SIDEBAR","Sidebar ".concat(d?"expanded":"collapsed"))},m=e=>{p.V.info("SIDEBAR","Navigation to ".concat(e.label),{href:e.href}),null==a||a(e.href)},j=(e,t)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),m(t))};return(0,r.jsxs)("aside",{className:"".concat(v.container," ").concat(d?v.collapsed:v.expanded),"aria-label":"사이드바 네비게이션",role:"navigation",children:[(0,r.jsx)("div",{className:d?v.logoCollapsed:v.logoSection,children:d?(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 py-4",children:[(0,r.jsx)("div",{className:v.logoIcon,children:"L"}),(0,r.jsxs)("div",{className:"flex flex-col items-center gap-1 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 p-2 rounded-lg transition-colors mt-2",onClick:()=>{p.V.info("SIDEBAR","User profile clicked (collapsed)"),null==a||a("/settings")},role:"button",tabIndex:0,"aria-label":"사용자 프로필",children:[(0,r.jsx)("div",{className:"w-7 h-7 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium text-xs",children:"U"}),(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})]}),(0,r.jsx)(f.$,{variant:"ghost",size:"sm",className:v.collapseButton,onClick:u,"aria-label":"사이드바 확장",children:(0,r.jsx)(h.A,{className:"w-3 h-3"})})]}):(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,r.jsx)("h1",{className:v.logoText,children:"Loop"}),(0,r.jsx)(f.$,{variant:"ghost",size:"sm",className:v.collapseButton,onClick:u,"aria-label":"사이드바 축소",children:(0,r.jsx)(x.A,{className:"w-3 h-3"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-800 p-2 rounded-lg transition-colors",onClick:()=>{p.V.info("SIDEBAR","User profile clicked"),null==a||a("/settings")},role:"button",tabIndex:0,"aria-label":"사용자 프로필",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white font-medium text-sm",children:"U"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("div",{className:"font-medium text-slate-900 dark:text-slate-100 text-sm",children:"Loop 사용자"}),(0,r.jsxs)("div",{className:"flex items-center gap-1 mt-0.5",children:[(0,r.jsx)("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"}),(0,r.jsx)("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"온라인"})]})]})]})]})}),(0,r.jsx)("nav",{className:v.navSection,"aria-label":"메인 메뉴",children:(0,r.jsx)("div",{className:v.navList,children:N.map(e=>{const a=t===e.href,l=e.icon,s=(0,r.jsxs)("div",{className:d?a?v.navItemActiveCollapsed:v.navItemCollapsed:a?v.navItemActive:v.navItem,role:"button",tabIndex:0,onClick:()=>m(e),onKeyDown:t=>j(t,e),"aria-label":e.ariaLabel||e.label,"aria-current":a?"page":void 0,children:[(0,r.jsx)(l,{className:d?v.iconCollapsed:v.icon}),!d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:v.text,children:e.label}),e.badge&&e.badge>0&&(0,r.jsx)(b.E,{variant:"danger",size:"sm",className:v.badge,children:e.badge>9?"9+":e.badge})]})]});return(0,r.jsx)("div",{children:d?(0,r.jsx)(g.m_,{content:e.label,side:"right",children:(0,r.jsx)("div",{children:s})}):s},e.id)})})})]})}var w=a(1481),T=a(1451),I=a(5871),k=a(7292),y=a(5119),O=a(6651),E=a(7129);const A={container:"h-16 bg-white/80 dark:bg-slate-900/80 backdrop-blur-md border-b border-slate-200/50 dark:border-slate-700/50 flex items-center justify-between px-6 z-80 supports-[backdrop-filter]:bg-white/60 dark:supports-[backdrop-filter]:bg-slate-900/60",leftSection:"flex items-center space-x-4",menuButton:"lg:hidden",searchContainer:"relative hidden md:block w-96",rightSection:"flex items-center space-x-3",notificationButton:"relative"};function C(e){let{onMenuToggle:t,user:a,notificationCount:l=0,onSearch:s,onNotificationClick:o,onUserClick:i}=e,[n,c]=(0,O.J0)(""),{state:d}=(0,E.Mc)(),{isMonitoring:u}=d;return(0,r.jsxs)("header",{className:A.container,role:"banner",children:[(0,r.jsxs)("div",{className:A.leftSection,children:[t&&(0,r.jsx)(f.$,{variant:"ghost",size:"sm",className:A.menuButton,onClick:()=>{p.V.info("HEADER","Menu toggle clicked"),null==t||t()},"aria-label":"메뉴 토글",children:(0,r.jsx)(w.A,{className:"w-5 h-5"})}),(0,r.jsx)("div",{className:A.searchContainer,children:(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),n.trim()&&(p.V.info("HEADER","Search performed",{query:n}),null==s||s(n.trim()))},children:(0,r.jsx)(k.D,{placeholder:"프로젝트, 파일 검색...",value:n,onChange:e=>{c(e.target.value)},"aria-label":"검색어 입력"})})})]}),(0,r.jsxs)("div",{className:A.rightSection,children:[(0,r.jsx)(y.K,{fallback:null,children:u&&(0,r.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-full text-sm",children:[(0,r.jsx)(T.A,{className:"w-4 h-4 animate-pulse"}),(0,r.jsx)("span",{className:"font-medium",children:"모니터링 중"})]})}),(0,r.jsxs)("div",{className:A.notificationButton,children:[(0,r.jsx)(f.$,{variant:"ghost",size:"sm",onClick:()=>{p.V.info("HEADER","Notifications clicked",{count:l}),null==o||o()},"aria-label":"알림 ".concat(l,"개"),children:(0,r.jsx)(I.A,{className:"w-5 h-5"})}),l>0&&(0,r.jsx)(b.E,{variant:"danger",size:"sm",className:"absolute -top-2 -right-2 h-5 w-5 rounded-full p-0 text-xs",children:l>9?"9+":l})]})]})]})}a(5484),"undefined"==typeof globalThis&&(globalThis.global=globalThis);const S={html:"h-full",body:"h-full bg-slate-50 dark:bg-slate-900 antialiased",container:"h-screen flex",sidebar:"flex-shrink-0",main:"flex-1 flex flex-col overflow-hidden",header:"flex-shrink-0",content:"flex-1 overflow-auto"};function M(e){let{children:t}=e,[a,l]=(0,o.useState)(!1),[n,c]=(0,o.useState)(!1),d=(0,i.usePathname)();return(0,o.useLayoutEffect)(()=>{try{const e=localStorage.getItem("sidebar-collapsed");"true"===e&&l(!0),p.V.debug("LAYOUT","Sidebar state restored immediately",{collapsed:"true"===e})}catch(e){p.V.error("LAYOUT","Failed to restore sidebar state",e)}c(!0)},[]),(0,r.jsxs)("html",{lang:"ko",className:"".concat(s().className," ").concat(S.html),children:[(0,r.jsxs)("head",{children:[(0,r.jsx)("meta",{charSet:"utf-8"}),(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,r.jsx)("meta",{name:"description",content:"Loop - AI 기반 타이핑 분석 도구"}),(0,r.jsx)("title",{children:"Loop"})]}),(0,r.jsx)("body",{className:S.body,children:(0,r.jsx)(E.Au,{children:(0,r.jsxs)("div",{className:S.container,children:[(0,r.jsx)("aside",{className:S.sidebar,children:(0,r.jsx)(j,{activeRoute:d,onNavigate:e=>{window.location.href=e},collapsed:a,onToggleCollapse:()=>{const e=!a;l(e);try{localStorage.setItem("sidebar-collapsed",e.toString()),p.V.debug("LAYOUT","Sidebar state saved",{collapsed:e})}catch(e){p.V.error("LAYOUT","Failed to save sidebar state",e)}}})}),(0,r.jsxs)("main",{className:S.main,children:[(0,r.jsx)("header",{className:S.header,children:(0,r.jsx)(C,{})}),(0,r.jsx)("div",{className:S.content,children:t})]})]})})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[281,96,231,358],()=>t(3520)),_N_E=e.O()}]);