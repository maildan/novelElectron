(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{139:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Z});var r=a(4568),l=a(7620),s=a(2942),i=a(2708),o=a(7312),n=a(2455),c=a(7300),d=a(2878),m=a(639),u=a(6419),x=a(6541),p=a(4376),h=a(4038),b=a(2918),g=a(2825),j=a(9324),v=a(8189),f=a(7718),N=a(6439),w=a(4775),k=a(662);let C={container:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",header:"flex items-start justify-between p-4 pb-2",title:"text-lg font-semibold text-slate-900 dark:text-slate-100 line-clamp-2 flex-1 mr-2",moreButton:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 w-8 h-8 p-0",content:"px-4 pb-2",description:"text-sm text-slate-600 dark:text-slate-400 line-clamp-3 mb-3",metaSection:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",metaItem:"flex items-center gap-1",progressSection:"mb-4",progressHeader:"flex items-center justify-between mb-2",progressLabel:"text-sm font-medium text-slate-700 dark:text-slate-300",progressValue:"text-sm text-slate-500 dark:text-slate-400",footer:"px-4 pb-4",actionButtons:"flex items-center gap-2",actionButton:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",statusBadge:"mb-2",icon:"w-4 h-4"};function A(e){let t,{project:a,onView:l,onEdit:s,onShare:i,onDelete:o,onMore:n,showActions:c=!0}=e,A=(e,t)=>{k.V.info("PROJECT_CARD","Action triggered: ".concat(e),{projectId:a.id}),null==t||t(a)},y=(e,t,r)=>{e.stopPropagation(),e.preventDefault(),k.V.info("PROJECT_CARD","Action triggered: ".concat(t),{projectId:a.id}),null==r||r(a)},E=e=>{e.stopPropagation(),e.preventDefault(),A("more",n)},P=e=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"short",day:"numeric"}).format(e),S=[{id:"view",label:"보기",icon:x.A,variant:"ghost",onClick:e=>A("view",l),ariaLabel:"프로젝트 보기"},{id:"edit",label:"편집",icon:u.A,variant:"ghost",onClick:e=>A("edit",s),ariaLabel:"프로젝트 편집"},{id:"share",label:"공유",icon:b.A,variant:"ghost",onClick:e=>A("share",i),ariaLabel:"프로젝트 공유"},{id:"delete",label:"삭제",icon:g.A,variant:"ghost",onClick:e=>A("delete",o),ariaLabel:"프로젝트 삭제"}];return(0,r.jsxs)(j.Z,{className:"".concat(C.container," cursor-pointer"),role:"article","aria-label":"프로젝트: ".concat(a.title),onClick:()=>{k.V.info("PROJECT_CARD","Card clicked",{projectId:a.id}),null==l||l(a)},children:[(0,r.jsxs)("div",{className:C.header,children:[(0,r.jsx)("h3",{className:C.title,children:a.title}),c&&n&&(0,r.jsx)(w.m_,{content:"더 보기",side:"bottom",sideOffset:4,children:(0,r.jsx)(v.$,{variant:"ghost",size:"sm",className:C.moreButton,onClick:e=>{e.stopPropagation(),e.preventDefault(),E(e)},"aria-label":"프로젝트 옵션 더 보기",children:(0,r.jsx)(h.A,{className:C.icon})})})]}),(0,r.jsxs)("div",{className:C.content,children:[(0,r.jsx)("div",{className:C.statusBadge,children:(0,r.jsx)(N.E,{variant:(e=>{switch(e){case"completed":return"success";case"active":return"primary";case"paused":return"warning";default:return"default"}})(a.status),size:"sm",children:(e=>{switch(e){case"completed":return"완료";case"active":return"진행중";case"paused":return"일시정지";case"draft":return"초안";default:return"알 수 없음"}})(a.status)})}),(0,r.jsx)("p",{className:C.description,children:a.description}),(0,r.jsxs)("div",{className:C.metaSection,children:[(0,r.jsxs)("div",{className:C.metaItem,children:[(0,r.jsx)(d.A,{className:C.icon,"aria-hidden":"true"}),(0,r.jsx)("span",{children:P(a.createdAt)})]}),a.wordCount&&(0,r.jsxs)("div",{className:C.metaItem,children:[(0,r.jsx)(p.A,{className:C.icon,"aria-hidden":"true"}),(0,r.jsxs)("span",{children:[(t=a.wordCount,new Intl.NumberFormat("ko-KR").format(t)),"자"]})]}),(0,r.jsxs)("div",{className:C.metaItem,children:[(0,r.jsx)(m.A,{className:C.icon,"aria-hidden":"true"}),(0,r.jsx)("span",{children:P(a.updatedAt)})]})]}),(0,r.jsxs)("div",{className:C.progressSection,children:[(0,r.jsxs)("div",{className:C.progressHeader,children:[(0,r.jsx)("span",{className:C.progressLabel,children:"진행률"}),(0,r.jsxs)("span",{className:C.progressValue,children:[Math.round(a.progress),"%"]})]}),(0,r.jsx)(f.z,{value:a.progress,size:"sm",color:a.progress>=100?"green":"blue","aria-label":"프로젝트 진행률 ".concat(Math.round(a.progress),"%")})]})]}),c&&(0,r.jsx)("div",{className:C.footer,onClick:e=>{e.stopPropagation()},children:(0,r.jsx)("div",{className:C.actionButtons,onClick:e=>{e.stopPropagation()},children:S.map(e=>{let t=e.icon;return(0,r.jsx)(w.m_,{content:e.label,side:"bottom",sideOffset:4,children:(0,r.jsx)(v.$,{variant:e.variant,size:"sm",className:C.actionButton,onClick:t=>{var r;return y(t,e.id,null==(r=e.onClick)?void 0:r.bind(null,a))},"aria-label":e.ariaLabel,children:(0,r.jsx)(t,{className:C.icon})})},e.id)})})})]})}var y=a(2745);let E={container:"space-y-6",header:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",controls:"flex flex-col gap-3 sm:flex-row sm:items-center",searchContainer:"relative flex-1 max-w-md",searchIcon:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",searchInput:"pl-10",filters:"flex items-center gap-2",filterButton:"h-9",sortButton:"h-9 w-9 p-0",createButton:"flex items-center gap-2 whitespace-nowrap",grid:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",emptyState:"col-span-full text-center py-12",emptyStateIcon:"w-16 h-16 mx-auto text-slate-400 mb-4",emptyStateTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",emptyStateDescription:"text-slate-500 dark:text-slate-400 mb-6",statsBar:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",statsItem:"flex items-center gap-1"};function P(e){let{projects:t,loading:a=!1,onCreateProject:s,onViewProject:d,onEditProject:m,onShareProject:u,onDeleteProject:x,showCreateButton:p=!0,searchPlaceholder:h="프로젝트 검색..."}=e,[b,g]=(0,l.useState)(""),[j,f]=(0,l.useState)("all"),[N,w]=(0,l.useState)("updatedAt"),[C,P]=(0,l.useState)("desc"),S=(0,l.useMemo)(()=>{let e=[...t];if(b.trim()){let t=b.toLowerCase();e=e.filter(e=>{var a,r;return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||(null==(a=e.author)?void 0:a.toLowerCase().includes(t))||(null==(r=e.genre)?void 0:r.toLowerCase().includes(t))})}return"all"!==j&&(e=e.filter(e=>e.status===j)),e.sort((e,t)=>{let a,r;switch(N){case"title":a=e.title.toLowerCase(),r=t.title.toLowerCase();break;case"createdAt":a=e.createdAt.getTime(),r=t.createdAt.getTime();break;case"updatedAt":a=e.updatedAt.getTime(),r=t.updatedAt.getTime();break;case"progress":a=e.progress,r=t.progress;break;default:return 0}return a<r?"asc"===C?-1:1:a>r?"asc"===C?1:-1:0}),e},[t,b,j,N,C]),T=(0,l.useMemo)(()=>{let e=t.length,a=t.filter(e=>"active"===e.status).length;return{total:e,active:a,completed:t.filter(e=>"completed"===e.status).length,paused:t.filter(e=>"paused"===e.status).length}},[t]),R=e=>{g(e),k.V.debug("PROJECT_GRID","Search query: ".concat(e))},O=e=>{f(e),k.V.debug("PROJECT_GRID","Filter by status: ".concat(e))},G=e=>{N===e?P("asc"===C?"desc":"asc"):(w(e),P("desc")),k.V.debug("PROJECT_GRID","Sort by: ".concat(e," ").concat(C))},D=()=>{k.V.info("PROJECT_GRID","Create project button clicked"),null==s||s()},_=[{value:"all",label:"전체",count:T.total},{value:"active",label:"진행중",count:T.active},{value:"completed",label:"완료",count:T.completed},{value:"paused",label:"일시정지",count:T.paused}];return a?(0,r.jsx)("div",{className:E.container,children:(0,r.jsx)("div",{className:E.emptyState,children:(0,r.jsx)("div",{className:E.emptyStateTitle,children:"로딩 중..."})})}):(0,r.jsxs)("div",{className:E.container,role:"main","aria-label":"프로젝트 목록",children:[(0,r.jsxs)("div",{className:E.header,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:E.title,children:"프로젝트"}),(0,r.jsxs)("div",{className:E.statsBar,children:[(0,r.jsxs)("div",{className:E.statsItem,children:["총 ",T.total,"개"]}),(0,r.jsxs)("div",{className:E.statsItem,children:["진행중 ",T.active,"개"]}),(0,r.jsxs)("div",{className:E.statsItem,children:["완료 ",T.completed,"개"]})]})]}),(0,r.jsxs)("div",{className:E.controls,children:[(0,r.jsxs)("div",{className:E.searchContainer,children:[(0,r.jsx)(o.A,{className:E.searchIcon,"aria-hidden":"true"}),(0,r.jsx)(y.p,{type:"text",placeholder:h,value:b,onChange:e=>R(e.target.value),className:E.searchInput,"aria-label":"프로젝트 검색"})]}),(0,r.jsx)("div",{className:E.filters,children:_.map(e=>(0,r.jsxs)(v.$,{variant:j===e.value?"primary":"outline",size:"sm",className:E.filterButton,onClick:()=>O(e.value),"aria-label":"".concat(e.label," 필터"),"aria-pressed":j===e.value,children:[e.label," (",e.count,")"]},e.value))}),(0,r.jsx)(v.$,{variant:"outline",size:"sm",className:E.sortButton,onClick:()=>G("updatedAt"),"aria-label":"업데이트 순으로 ".concat("asc"===C?"내림차순":"오름차순"," 정렬"),children:"asc"===C?(0,r.jsx)(n.A,{className:"w-4 h-4"}):(0,r.jsx)(c.A,{className:"w-4 h-4"})}),p&&(0,r.jsxs)(v.$,{variant:"primary",onClick:D,className:E.createButton,"aria-label":"새 프로젝트 생성",children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"새 프로젝트"]})]})]}),S.length>0?(0,r.jsx)("div",{className:E.grid,role:"grid","aria-label":"".concat(S.length,"개의 프로젝트"),children:S.map(e=>(0,r.jsx)("div",{role:"gridcell",children:(0,r.jsx)(A,{project:e,onView:d,onEdit:m,onShare:u,onDelete:x})},e.id))}):(0,r.jsxs)("div",{className:E.emptyState,children:[(0,r.jsx)("div",{className:E.emptyStateIcon,children:b||"all"!==j?(0,r.jsx)(o.A,{}):(0,r.jsx)(i.A,{})}),(0,r.jsx)("h3",{className:E.emptyStateTitle,children:b||"all"!==j?"검색 결과가 없습니다":"아직 프로젝트가 없습니다"}),(0,r.jsx)("p",{className:E.emptyStateDescription,children:b||"all"!==j?"다른 검색어나 필터를 시도해보세요.":"새 프로젝트를 만들어서 타이핑 분석을 시작해보세요."}),p&&!b&&"all"===j&&(0,r.jsxs)(v.$,{variant:"primary",onClick:D,className:E.createButton,children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),"첫 번째 프로젝트 만들기"]})]})]})}var S=a(417),T=a(6666),R=a(5615),O=a(9448),G=a(864),D=a(5701),_=a(1295),V=a(952),I=a(6043),J=a(8343),B=a(3206);let L={overlay:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",modal:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl dark:shadow-slate-900/50 w-full max-w-4xl max-h-[90vh] overflow-hidden border border-slate-200 dark:border-slate-700",header:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",closeButton:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",content:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] bg-white dark:bg-slate-900",platformSection:"mb-8",sectionTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",platformGrid:"grid grid-cols-1 md:grid-cols-3 gap-4",platformCard:"p-4 border-2 rounded-xl cursor-pointer transition-all hover:border-blue-300 dark:hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-950/20",platformCardSelected:"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-950/20",platformCardDefault:"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",platformIcon:"w-8 h-8 text-blue-600 dark:text-blue-400 mb-2",platformTitle:"font-semibold text-slate-900 dark:text-slate-100 mb-1",platformDescription:"text-sm text-slate-600 dark:text-slate-400",formSection:"mb-6",label:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",inputGroup:"mb-4",genreGrid:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",genreButton:"p-2 text-sm border rounded-lg transition-colors",genreSelected:"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",genreDefault:"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800",footer:"flex items-center justify-between p-6 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",secondaryButton:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",primaryButton:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},F=[{id:"loop",name:"Loop Editor",description:"통합 타이핑 분석과 함께하는 전용 에디터",icon:T.A,recommended:!0},{id:"google-docs",name:"Google Docs",description:"실시간 협업과 클라우드 동기화",icon:D.A,external:!0},{id:"import",name:"파일 불러오기",description:"Word, 텍스트 파일에서 프로젝트 생성",icon:J.A,action:"import"}],M=[{id:"novel",name:"소설",icon:T.A},{id:"essay",name:"에세이",icon:O.A},{id:"blog",name:"블로그",icon:V.A},{id:"tech",name:"기술",icon:R.A},{id:"diary",name:"일기",icon:p.A},{id:"poem",name:"시",icon:_.A},{id:"script",name:"대본",icon:p.A},{id:"other",name:"기타",icon:i.A}];function z(e){let{isOpen:t,onClose:a,onCreate:s}=e,[i,o]=(0,l.useState)("loop"),[n,c]=(0,l.useState)(""),[d,m]=(0,l.useState)(""),[u,x]=(0,l.useState)("novel"),[p,h]=(0,l.useState)(1e4),[b,g]=(0,l.useState)(""),[j,f]=(0,l.useState)(!1);if(!t)return null;let w=async()=>{if(!n.trim())return void k.V.warn("PROJECT_CREATOR","Project title is required");f(!0);try{let e={title:n.trim(),description:d.trim()||"새로운 프로젝트입니다.",genre:u,platform:i,content:"loop"===i?E(u):void 0,targetWords:p,deadline:b?new Date(b):void 0};k.V.info("PROJECT_CREATOR","Creating new project",{title:e.title,platform:e.platform,genre:e.genre}),await s(e),c(""),m(""),x("novel"),o("loop"),h(1e4),g(""),a()}catch(e){k.V.error("PROJECT_CREATOR","Failed to create project",e)}finally{f(!1)}},C=async e=>{if(o(e),k.V.debug("PROJECT_CREATOR","Platform selected: ".concat(e)),"google-docs"===e)try{var t,a;k.V.info("PROJECT_CREATOR","Starting Google OAuth authentication"),(null==(a=window.electronAPI)||null==(t=a.oauth)?void 0:t.startGoogleAuth)?(await window.electronAPI.oauth.startGoogleAuth()).success?k.V.info("PROJECT_CREATOR","Google OAuth started successfully"):(k.V.error("PROJECT_CREATOR","Google OAuth failed to start"),alert("Google 인증을 시작할 수 없습니다. 잠시 후 다시 시도해주세요."),o("loop")):(k.V.error("PROJECT_CREATOR","Google OAuth API not available"),alert("Google Docs 연동 기능이 준비되지 않았습니다."),o("loop"))}catch(e){k.V.error("PROJECT_CREATOR","Google OAuth error",e),alert("Google 인증 중 오류가 발생했습니다."),o("loop")}},A=e=>{x(e),k.V.debug("PROJECT_CREATOR","Genre selected: ".concat(e))},E=e=>{var t,a;let r={novel:"제1장: 새로운 시작\n\n여기서부터 당신의 이야기가 시작됩니다.\n\n✍️ 작성 팁:\n- 등장인물을 구체적으로 묘사해보세요\n- 독자가 몰입할 수 있는 장면을 그려보세요\n- 하루에 500단어씩 꾸준히 작성해보세요",essay:"# 제목을 여기에 입력하세요\n\n오늘의 생각을 자유롭게 써보세요.\n\n일상의 작은 순간들이 때로는 가장 의미 있는 글이 됩니다.",blog:"# 블로그 포스트 제목\n\n## 소개\n\n독자들과 공유하고 싶은 이야기를 써보세요.\n\n## 본문\n\n경험, 배움, 생각을 자유롭게 표현해보세요.",tech:"# 기술 문서 제목\n\n## 개요\n\n## 문제 정의\n\n## 해결 방법\n\n## 결론\n\n코드와 설명을 함께 작성해보세요.",diary:"".concat(new Date().toLocaleDateString("ko-KR")," 일기\n\n오늘 있었던 일들을 기록해보세요.\n\n소중한 순간들을 글로 남겨보세요."),other:"새로운 프로젝트가 시작되었습니다.\n\n자유롭게 내용을 작성해보세요."},l="새로운 프로젝트가 시작되었습니다.\n\n자유롭게 내용을 작성해보세요.";return e&&null!=(a=null!=(t=r[e])?t:r.other)?a:l};return(0,r.jsx)("div",{className:L.overlay,onClick:a,children:(0,r.jsxs)("div",{className:L.modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:L.header,children:[(0,r.jsx)("h2",{className:L.title,children:"새 프로젝트 만들기"}),(0,r.jsx)("button",{onClick:a,className:L.closeButton,"aria-label":"닫기",children:(0,r.jsx)(B.A,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:L.content,children:[(0,r.jsxs)("div",{className:L.platformSection,children:[(0,r.jsx)("h3",{className:L.sectionTitle,children:"작성 플랫폼 선택"}),(0,r.jsx)("div",{className:L.platformGrid,children:F.map(e=>{let t=e.icon;return(0,r.jsxs)("div",{className:"".concat(L.platformCard," ").concat(i===e.id?L.platformCardSelected:L.platformCardDefault),onClick:()=>C(e.id),children:[(0,r.jsx)(t,{className:L.platformIcon}),(0,r.jsxs)("div",{className:L.platformTitle,children:[e.name,e.recommended&&(0,r.jsx)(N.E,{className:"ml-2 text-xs bg-blue-100 text-blue-700",children:"추천"}),e.external&&(0,r.jsx)(G.A,{className:"inline w-4 h-4 ml-1"})]}),(0,r.jsx)("p",{className:L.platformDescription,children:e.description})]},e.id)})})]}),(0,r.jsxs)("div",{className:L.formSection,children:[(0,r.jsx)("h3",{className:L.sectionTitle,children:"프로젝트 정보"}),(0,r.jsxs)("div",{className:L.inputGroup,children:[(0,r.jsx)("label",{className:L.label,htmlFor:"project-title",children:"프로젝트 제목 *"}),(0,r.jsx)(y.p,{id:"project-title",type:"text",placeholder:"예: 나의 첫 번째 소설",value:n,onChange:e=>c(e.target.value),maxLength:100})]}),(0,r.jsxs)("div",{className:L.inputGroup,children:[(0,r.jsx)("label",{className:L.label,htmlFor:"project-description",children:"프로젝트 설명"}),(0,r.jsx)(S.T,{id:"project-description",placeholder:"프로젝트에 대한 간단한 설명을 입력하세요...",value:d,onChange:e=>m(e.target.value),rows:3,maxLength:500})]}),(0,r.jsxs)("div",{className:L.inputGroup,children:[(0,r.jsx)("label",{className:L.label,children:"장르"}),(0,r.jsx)("div",{className:L.genreGrid,children:M.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{className:"".concat(L.genreButton," ").concat(u===e.id?L.genreSelected:L.genreDefault),onClick:()=>A(e.id),children:[(0,r.jsx)(t,{className:"w-4 h-4 inline mr-1"}),e.name]},e.id)})})]})]}),(0,r.jsxs)("div",{className:L.formSection,children:[(0,r.jsx)("h3",{className:L.sectionTitle,children:"작성 목표 설정"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:L.inputGroup,children:[(0,r.jsx)("label",{className:L.label,htmlFor:"target-words",children:"목표 단어 수"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y.p,{id:"target-words",type:"number",placeholder:"10000",value:p,onChange:e=>h(Number(e.target.value)||0),min:"100",max:"1000000",step:"100"}),(0,r.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"단어"})]}),(0,r.jsx)("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"권장: 소설 50,000+ / 에세이 5,000+ / 블로그 1,000+"})]}),(0,r.jsxs)("div",{className:L.inputGroup,children:[(0,r.jsx)("label",{className:L.label,htmlFor:"deadline",children:"완료 목표 날짜 (선택사항)"}),(0,r.jsx)(y.p,{id:"deadline",type:"date",value:b,onChange:e=>g(e.target.value),min:new Date().toISOString().split("T")[0]}),(0,r.jsx)("div",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:"목표 날짜를 설정하면 일일 권장 작성량을 계산해드립니다"})]})]}),p>0&&(0,r.jsxs)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300",children:[(0,r.jsx)(I.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium",children:"목표 미리보기"})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-blue-600 dark:text-blue-400",children:["총 목표: ",p.toLocaleString(),"단어",b&&(()=>{let e=Math.ceil((new Date(b).getTime()-new Date().getTime())/864e5),t=Math.ceil(p/e);return e>0?(0,r.jsxs)("span",{className:"block mt-1",children:["일일 권장: ",t.toLocaleString(),"단어 (약 ",Math.ceil(t/200),"분 소요)"]}):null})()]})]})]})]}),(0,r.jsxs)("div",{className:L.footer,children:[(0,r.jsx)("button",{onClick:a,className:L.secondaryButton,children:"취소"}),(0,r.jsx)(v.$,{onClick:w,disabled:!n.trim()||j,className:L.primaryButton,children:j?"생성 중...":"프로젝트 만들기"})]})]})})}let $={overlay:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",modal:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl dark:shadow-slate-900/50 w-full max-w-4xl max-h-[90vh] overflow-hidden border border-slate-200 dark:border-slate-700",header:"flex items-center justify-between p-6 border-b border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",closeButton:"text-slate-400 hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-300 transition-colors p-1 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",content:"p-6 overflow-y-auto max-h-[calc(90vh-140px)] bg-white dark:bg-slate-900",formSection:"mb-6",sectionTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",label:"block text-sm font-medium text-slate-900 dark:text-slate-100 mb-2",inputGroup:"mb-4",genreGrid:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2",genreButton:"p-2 text-sm border rounded-lg transition-colors",genreSelected:"border-blue-500 dark:border-blue-400 bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300",genreDefault:"border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-400 hover:border-slate-300 dark:hover:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-800",footer:"flex items-center justify-between p-6 border-t border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-900",secondaryButton:"px-4 py-2 text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 transition-colors rounded-lg hover:bg-slate-100 dark:hover:bg-slate-800",primaryButton:"px-6 py-2 bg-blue-600 dark:bg-blue-500 text-white rounded-lg hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},U=[{id:"novel",name:"소설",icon:T.A},{id:"essay",name:"에세이",icon:O.A},{id:"blog",name:"블로그",icon:V.A},{id:"tech",name:"기술",icon:R.A},{id:"diary",name:"일기",icon:p.A},{id:"poem",name:"시",icon:_.A},{id:"script",name:"대본",icon:p.A},{id:"other",name:"기타",icon:i.A}];function q(e){let{isOpen:t,project:a,onClose:s,onUpdated:i}=e,[o,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,u]=(0,l.useState)("novel"),[x,p]=(0,l.useState)(0),[h,b]=(0,l.useState)(""),[g,j]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{a&&(n(a.title||""),d(a.description||""),u(a.genre||"novel"))},[a]),!t||!a)return null;let f=async()=>{if(o.trim()){j(!0);try{let e={title:o.trim(),description:c.trim(),genre:m,lastModified:new Date},t=await window.electronAPI.projects.update(a.id,e);if(!t.success)throw Error(t.error||"Failed to update project");i({id:a.id,title:e.title,description:e.description,genre:m,targetWords:x,deadline:h?new Date(h):void 0}),s()}catch(e){k.V.error("PROJECT_EDITOR_MODAL","Failed to update project",e),alert("프로젝트 수정 중 오류가 발생했습니다.")}finally{j(!1)}}};return(0,r.jsx)("div",{className:$.overlay,onClick:s,children:(0,r.jsxs)("div",{className:$.modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:$.header,children:[(0,r.jsx)("h2",{className:$.title,children:"프로젝트 편집"}),(0,r.jsx)("button",{onClick:s,className:$.closeButton,"aria-label":"닫기",children:(0,r.jsx)(B.A,{className:"w-6 h-6"})})]}),(0,r.jsxs)("div",{className:$.content,children:[(0,r.jsxs)("div",{className:$.formSection,children:[(0,r.jsx)("h3",{className:$.sectionTitle,children:"기본 정보"}),(0,r.jsxs)("div",{className:$.inputGroup,children:[(0,r.jsx)("label",{className:$.label,htmlFor:"edit-title",children:"프로젝트 제목 *"}),(0,r.jsx)(y.p,{id:"edit-title",type:"text",value:o,onChange:e=>n(e.target.value),maxLength:100})]}),(0,r.jsxs)("div",{className:$.inputGroup,children:[(0,r.jsx)("label",{className:$.label,htmlFor:"edit-desc",children:"프로젝트 설명"}),(0,r.jsx)(S.T,{id:"edit-desc",value:c,onChange:e=>d(e.target.value),rows:3,maxLength:500})]}),(0,r.jsxs)("div",{className:$.inputGroup,children:[(0,r.jsx)("label",{className:$.label,children:"장르"}),(0,r.jsx)("div",{className:$.genreGrid,children:U.map(e=>{let t=e.icon;return(0,r.jsxs)("button",{className:"".concat($.genreButton," ").concat(m===e.id?$.genreSelected:$.genreDefault),onClick:()=>u(e.id),children:[(0,r.jsx)(t,{className:"w-4 h-4 inline mr-1"}),e.name]},e.id)})})]})]}),(0,r.jsxs)("div",{className:$.formSection,children:[(0,r.jsx)("h3",{className:$.sectionTitle,children:"목표 설정"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:$.inputGroup,children:[(0,r.jsx)("label",{className:$.label,htmlFor:"edit-target",children:"목표 단어 수"}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(y.p,{id:"edit-target",type:"number",value:x,onChange:e=>p(Number(e.target.value)||0),min:"0",step:"100"}),(0,r.jsx)("span",{className:"text-sm text-slate-500 dark:text-slate-400",children:"단어"})]})]}),(0,r.jsxs)("div",{className:$.inputGroup,children:[(0,r.jsx)("label",{className:$.label,htmlFor:"edit-deadline",children:"완료 목표 날짜 (선택사항)"}),(0,r.jsx)(y.p,{id:"edit-deadline",type:"date",value:h,onChange:e=>b(e.target.value)})]})]}),x>0&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-blue-700 dark:text-blue-300",children:[(0,r.jsx)(I.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{className:"font-medium",children:"목표 미리보기"})]})})]})]}),(0,r.jsxs)("div",{className:$.footer,children:[(0,r.jsx)("button",{onClick:s,className:$.secondaryButton,children:"취소"}),(0,r.jsx)(v.$,{onClick:f,disabled:!o.trim()||g,className:$.primaryButton,children:g?"저장 중...":"변경 사항 저장"})]})]})})}let K={container:"container mx-auto px-4 py-6 max-w-7xl",loading:"flex items-center justify-center min-h-96",loadingText:"text-lg text-slate-600 dark:text-slate-400",error:"flex flex-col items-center justify-center min-h-96 text-center",errorTitle:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2",errorMessage:"text-slate-600 dark:text-slate-400 mb-4",retryButton:"mt-4"},W=[];function H(){let e=(0,s.useRouter)(),t=(0,s.useSearchParams)(),[a,i]=(0,l.useState)(W),[o,n]=(0,l.useState)(!0),[c,d]=(0,l.useState)(null),[m,u]=(0,l.useState)(!1),[x,p]=(0,l.useState)(null);(0,l.useEffect)(()=>{if("true"===t.get("create")){k.V.info("PROJECTS_PAGE","\uD83D\uDE80 Auto-opening project creator from URL parameter"),u(!0);let e=new URL(window.location.href);e.searchParams.delete("create"),window.history.replaceState({},"",e.pathname)}},[t]),(0,l.useEffect)(()=>{h()},[]),(0,l.useEffect)(()=>{let e=()=>{k.V.debug("PROJECTS_PAGE","Window focused - refreshing projects"),h()},t=()=>{"visible"===document.visibilityState&&(k.V.debug("PROJECTS_PAGE","Document visible - refreshing projects"),h())};return window.addEventListener("focus",e),document.addEventListener("visibilitychange",t),()=>{window.removeEventListener("focus",e),document.removeEventListener("visibilitychange",t)}},[]);let h=async()=>{try{n(!0),d(null);let e=await window.electronAPI.projects.getAll();if(!e.success)throw Error(e.error||"Projects API failed");let t=b(e.data||[]);i(t),k.V.info("PROJECTS_PAGE","✅ Loaded ".concat(t.length," projects successfully"))}catch(e){d(e instanceof Error?e.message:"프로젝트를 불러오는 중 오류가 발생했습니다."),k.V.error("PROJECTS_PAGE","❌ Failed to load projects",e),i(W)}finally{n(!1)}},b=e=>e.map(e=>({id:e.id||"",title:e.title||"제목 없음",description:e.description||"",status:e.status||"draft",progress:e.progress||0,createdAt:e.createdAt?new Date(e.createdAt):new Date,updatedAt:e.updatedAt?new Date(e.updatedAt):e.lastModified?new Date(e.lastModified):new Date,wordCount:e.wordCount||0,author:e.author||"사용자",genre:e.genre||"기타"})),g=async t=>{try{var a,r,l;if(k.V.info("PROJECTS_PAGE","\uD83D\uDE80 Creating new project",t),"import"===t.platform){k.V.info("PROJECTS_PAGE","\uD83D\uDCC1 Importing file for project creation");let t=await window.electronAPI.projects.importFile();if(t.success&&t.data){k.V.info("PROJECTS_PAGE","✅ Project imported successfully",{projectId:t.data.id}),e.push("/projects/".concat(t.data.id));return}throw Error(t.error||"Failed to import project")}if("google-docs"===t.platform){k.V.info("PROJECTS_PAGE","\uD83C\uDF10 Opening Google Docs for external editing"),await (null==(l=window.electronAPI.shell)?void 0:l.openExternal("https://docs.google.com/document/"));return}let s={title:t.title,description:t.description,genre:t.genre,content:t.content||"새 프로젝트를 시작해보세요...\n\n",progress:0,wordCount:0,status:"active",author:"사용자",platform:t.platform,updatedAt:new Date},i=await window.electronAPI.projects.create(s);if(!i.success)throw Error(i.error||"Failed to create project");if(k.V.info("PROJECTS_PAGE","✅ Project created successfully in DB",{id:null==(a=i.data)?void 0:a.id}),await h(),null==(r=i.data)?void 0:r.id){k.V.info("PROJECTS_PAGE","\uD83D\uDE80 Navigating to new project editor",{id:i.data.id}),e.push("/projects/".concat(i.data.id));return}}catch(t){let e=t instanceof Error?t.message:"프로젝트 생성 중 오류가 발생했습니다.";k.V.error("PROJECTS_PAGE","❌ Failed to create project",t),alert(e)}},j=async e=>{if(k.V.info("PROJECTS_PAGE","Delete project requested: ".concat(e.id),{title:e.title}),confirm('정말로 "'.concat(e.title,'" 프로젝트를 삭제하시겠습니까?')))try{let t=await window.electronAPI.projects.delete(e.id);if(t.success)i(t=>t.filter(t=>t.id!==e.id)),k.V.info("PROJECTS_PAGE","Project deleted: ".concat(e.id));else throw Error(t.error||"Failed to delete project")}catch(e){k.V.error("PROJECTS_PAGE","Failed to delete project",e),alert("삭제 중 오류가 발생했습니다.")}};return o?(0,r.jsx)("div",{className:K.container,children:(0,r.jsx)("div",{className:K.loading,children:(0,r.jsx)("div",{className:K.loadingText,children:"프로젝트를 불러오는 중..."})})}):c?(0,r.jsx)("div",{className:K.container,children:(0,r.jsxs)("div",{className:K.error,children:[(0,r.jsx)("h2",{className:K.errorTitle,children:"오류 발생"}),(0,r.jsx)("p",{className:K.errorMessage,children:c}),(0,r.jsx)("button",{onClick:()=>{k.V.info("PROJECTS_PAGE","Retry loading projects"),d(null),n(!0)},className:K.retryButton,type:"button",children:"다시 시도"})]})}):(0,r.jsxs)("div",{className:K.container,children:[(0,r.jsx)(P,{projects:a,onCreateProject:()=>{k.V.info("PROJECTS_PAGE","Opening project creator"),u(!0)},onViewProject:t=>{k.V.info("PROJECTS_PAGE","\uD83D\uDD0D View project: ".concat(t.id),{title:t.title}),e.push("/projects/new?open=".concat(encodeURIComponent(t.id)))},onEditProject:e=>{k.V.info("PROJECTS_PAGE","✏️ Edit project (modal): ".concat(e.id),{title:e.title}),p(e)},onShareProject:e=>{k.V.info("PROJECTS_PAGE","Share project: ".concat(e.id),{title:e.title}),alert("공유 기능은 준비 중입니다.")},onDeleteProject:j}),(0,r.jsx)(z,{isOpen:m,onClose:()=>u(!1),onCreate:g}),(0,r.jsx)(q,{isOpen:!!x,project:x?{id:x.id,title:x.title,description:x.description,genre:x.genre||"novel"}:null,onClose:()=>p(null),onUpdated:e=>{i(t=>t.map(t=>t.id===e.id?{...t,title:e.title,description:e.description,genre:e.genre,updatedAt:new Date}:t))}})]})}function Z(){return(0,r.jsx)(l.Suspense,{fallback:(0,r.jsx)("div",{className:K.loading,children:(0,r.jsx)("div",{className:K.loadingText,children:"프로젝트 로딩 중..."})}),children:(0,r.jsx)(H,{})})}},9277:(e,t,a)=>{Promise.resolve().then(a.bind(a,139))}},e=>{var t=t=>e(e.s=t);e.O(0,[209,432,979,899,744,322,592,940,605,30,173,641,431,110,555,408,219,27,206,409,76,358],()=>t(9277)),_N_E=e.O()}]);