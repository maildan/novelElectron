(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{5913:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>T});var s=a(1659),r=a(9531),l=a(4146),i=a(4718),c=a(3635),n=a(1594),o=a(7700),d=a(6844),m=a(1957),u=a(5299),x=a(2056),p=a(1189),h=a(122),j=a(8451),g=a(3362),f=a(6166),v=a(6640),b=a(9361),N=a(817),w=a(2792);let C={container:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",header:"flex items-start justify-between p-4 pb-2",title:"text-lg font-semibold text-slate-900 dark:text-slate-100 line-clamp-2 flex-1 mr-2",moreButton:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 w-8 h-8 p-0",content:"px-4 pb-2",description:"text-sm text-slate-600 dark:text-slate-400 line-clamp-3 mb-3",metaSection:"flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400 mb-4",metaItem:"flex items-center gap-1",progressSection:"mb-4",progressHeader:"flex items-center justify-between mb-2",progressLabel:"text-sm font-medium text-slate-700 dark:text-slate-300",progressValue:"text-sm text-slate-500 dark:text-slate-400",footer:"px-4 pb-4",actionButtons:"flex items-center gap-2",actionButton:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",statusBadge:"mb-2",icon:"w-3 h-3"};function y(e){let t,{project:a,onView:r,onEdit:l,onShare:i,onDelete:c,onMore:n,showActions:y=!0}=e,A=(e,t)=>{w.V.info("PROJECT_CARD","Action triggered: ".concat(e),{projectId:a.id}),null==t||t(a)},k=e=>new Intl.DateTimeFormat("ko-KR",{year:"numeric",month:"short",day:"numeric"}).format(e),S=[{id:"view",label:"보기",icon:u.A,variant:"ghost",onClick:e=>A("view",r),ariaLabel:"프로젝트 보기"},{id:"edit",label:"편집",icon:m.A,variant:"ghost",onClick:e=>A("edit",l),ariaLabel:"프로젝트 편집"},{id:"share",label:"공유",icon:h.A,variant:"ghost",onClick:e=>A("share",i),ariaLabel:"프로젝트 공유"},{id:"delete",label:"삭제",icon:j.A,variant:"ghost",onClick:e=>A("delete",c),ariaLabel:"프로젝트 삭제"}];return(0,s.jsxs)(g.Z,{className:C.container,role:"article","aria-label":"프로젝트: ".concat(a.title),children:[(0,s.jsxs)("div",{className:C.header,children:[(0,s.jsx)("h3",{className:C.title,children:a.title}),y&&n&&(0,s.jsx)(N.m_,{content:"더 보기",side:"top",children:(0,s.jsx)(f.$,{variant:"ghost",size:"sm",className:C.moreButton,onClick:()=>A("more",n),"aria-label":"프로젝트 옵션 더 보기",children:(0,s.jsx)(p.A,{className:C.icon})})})]}),(0,s.jsxs)("div",{className:C.content,children:[(0,s.jsx)("div",{className:C.statusBadge,children:(0,s.jsx)(b.E,{variant:(e=>{switch(e){case"completed":return"success";case"active":return"primary";case"paused":return"warning";default:return"default"}})(a.status),size:"sm",children:(e=>{switch(e){case"completed":return"완료";case"active":return"진행중";case"paused":return"일시정지";case"draft":return"초안";default:return"알 수 없음"}})(a.status)})}),(0,s.jsx)("p",{className:C.description,children:a.description}),(0,s.jsxs)("div",{className:C.metaSection,children:[(0,s.jsxs)("div",{className:C.metaItem,children:[(0,s.jsx)(o.A,{className:C.icon,"aria-hidden":"true"}),(0,s.jsx)("span",{children:k(a.createdAt)})]}),a.wordCount&&(0,s.jsxs)("div",{className:C.metaItem,children:[(0,s.jsx)(x.A,{className:C.icon,"aria-hidden":"true"}),(0,s.jsxs)("span",{children:[(t=a.wordCount,new Intl.NumberFormat("ko-KR").format(t)),"자"]})]}),(0,s.jsxs)("div",{className:C.metaItem,children:[(0,s.jsx)(d.A,{className:C.icon,"aria-hidden":"true"}),(0,s.jsx)("span",{children:k(a.updatedAt)})]})]}),(0,s.jsxs)("div",{className:C.progressSection,children:[(0,s.jsxs)("div",{className:C.progressHeader,children:[(0,s.jsx)("span",{className:C.progressLabel,children:"진행률"}),(0,s.jsxs)("span",{className:C.progressValue,children:[Math.round(a.progress),"%"]})]}),(0,s.jsx)(v.z,{value:a.progress,size:"sm",color:a.progress>=100?"green":"blue","aria-label":"프로젝트 진행률 ".concat(Math.round(a.progress),"%")})]})]}),y&&(0,s.jsx)("div",{className:C.footer,children:(0,s.jsx)("div",{className:C.actionButtons,children:S.map(e=>{let t=e.icon;return(0,s.jsx)(N.m_,{content:e.label,side:"top",children:(0,s.jsx)(f.$,{variant:e.variant,size:"sm",className:C.actionButton,onClick:()=>e.onClick(a),"aria-label":e.ariaLabel,children:(0,s.jsx)(t,{className:C.icon})})},e.id)})})})]})}var A=a(3465);let k={container:"space-y-6",header:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",title:"text-2xl font-bold text-slate-900 dark:text-slate-100",controls:"flex flex-col gap-3 sm:flex-row sm:items-center",searchContainer:"relative flex-1 max-w-md",searchIcon:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400",searchInput:"pl-10",filters:"flex items-center gap-2",filterButton:"h-9",sortButton:"h-9 w-9 p-0",createButton:"flex items-center gap-2 whitespace-nowrap",grid:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",emptyState:"col-span-full text-center py-12",emptyStateIcon:"w-16 h-16 mx-auto text-slate-400 mb-4",emptyStateTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",emptyStateDescription:"text-slate-500 dark:text-slate-400 mb-6",statsBar:"flex items-center gap-4 text-sm text-slate-600 dark:text-slate-400",statsItem:"flex items-center gap-1"};function S(e){let{projects:t,loading:a=!1,onCreateProject:o,onViewProject:d,onEditProject:m,onShareProject:u,onDeleteProject:x,showCreateButton:p=!0,searchPlaceholder:h="프로젝트 검색..."}=e,[j,g]=(0,r.useState)(""),[v,b]=(0,r.useState)("all"),[N,C]=(0,r.useState)("updatedAt"),[S,E]=(0,r.useState)("desc"),P=(0,r.useMemo)(()=>{let e=[...t];if(j.trim()){let t=j.toLowerCase();e=e.filter(e=>{var a,s;return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||(null==(a=e.author)?void 0:a.toLowerCase().includes(t))||(null==(s=e.genre)?void 0:s.toLowerCase().includes(t))})}return"all"!==v&&(e=e.filter(e=>e.status===v)),e.sort((e,t)=>{let a,s;switch(N){case"title":a=e.title.toLowerCase(),s=t.title.toLowerCase();break;case"createdAt":a=e.createdAt.getTime(),s=t.createdAt.getTime();break;case"updatedAt":a=e.updatedAt.getTime(),s=t.updatedAt.getTime();break;case"progress":a=e.progress,s=t.progress;break;default:return 0}return a<s?"asc"===S?-1:1:a>s?"asc"===S?1:-1:0}),e},[t,j,v,N,S]),T=(0,r.useMemo)(()=>{let e=t.length,a=t.filter(e=>"active"===e.status).length;return{total:e,active:a,completed:t.filter(e=>"completed"===e.status).length,paused:t.filter(e=>"paused"===e.status).length}},[t]),I=e=>{g(e),w.V.debug("PROJECT_GRID","Search query: ".concat(e))},R=e=>{b(e),w.V.debug("PROJECT_GRID","Filter by status: ".concat(e))},_=e=>{N===e?E("asc"===S?"desc":"asc"):(C(e),E("desc")),w.V.debug("PROJECT_GRID","Sort by: ".concat(e," ").concat(S))},B=()=>{w.V.info("PROJECT_GRID","Create project button clicked"),null==o||o()},V=[{value:"all",label:"전체",count:T.total},{value:"active",label:"진행중",count:T.active},{value:"completed",label:"완료",count:T.completed},{value:"paused",label:"일시정지",count:T.paused}];return a?(0,s.jsx)("div",{className:k.container,children:(0,s.jsx)("div",{className:k.emptyState,children:(0,s.jsx)("div",{className:k.emptyStateTitle,children:"로딩 중..."})})}):(0,s.jsxs)("div",{className:k.container,role:"main","aria-label":"프로젝트 목록",children:[(0,s.jsxs)("div",{className:k.header,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:k.title,children:"프로젝트"}),(0,s.jsxs)("div",{className:k.statsBar,children:[(0,s.jsxs)("div",{className:k.statsItem,children:["총 ",T.total,"개"]}),(0,s.jsxs)("div",{className:k.statsItem,children:["진행중 ",T.active,"개"]}),(0,s.jsxs)("div",{className:k.statsItem,children:["완료 ",T.completed,"개"]})]})]}),(0,s.jsxs)("div",{className:k.controls,children:[(0,s.jsxs)("div",{className:k.searchContainer,children:[(0,s.jsx)(i.A,{className:k.searchIcon,"aria-hidden":"true"}),(0,s.jsx)(A.p,{type:"text",placeholder:h,value:j,onChange:e=>I(e.target.value),className:k.searchInput,"aria-label":"프로젝트 검색"})]}),(0,s.jsx)("div",{className:k.filters,children:V.map(e=>(0,s.jsxs)(f.$,{variant:v===e.value?"primary":"outline",size:"sm",className:k.filterButton,onClick:()=>R(e.value),"aria-label":"".concat(e.label," 필터"),"aria-pressed":v===e.value,children:[e.label," (",e.count,")"]},e.value))}),(0,s.jsx)(f.$,{variant:"outline",size:"sm",className:k.sortButton,onClick:()=>_("updatedAt"),"aria-label":"업데이트 순으로 ".concat("asc"===S?"내림차순":"오름차순"," 정렬"),children:"asc"===S?(0,s.jsx)(c.A,{className:"w-4 h-4"}):(0,s.jsx)(n.A,{className:"w-4 h-4"})}),p&&(0,s.jsxs)(f.$,{variant:"primary",onClick:B,className:k.createButton,"aria-label":"새 프로젝트 생성",children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),"새 프로젝트"]})]})]}),P.length>0?(0,s.jsx)("div",{className:k.grid,role:"grid","aria-label":"".concat(P.length,"개의 프로젝트"),children:P.map(e=>(0,s.jsx)("div",{role:"gridcell",children:(0,s.jsx)(y,{project:e,onView:d,onEdit:m,onShare:u,onDelete:x})},e.id))}):(0,s.jsxs)("div",{className:k.emptyState,children:[(0,s.jsx)("div",{className:k.emptyStateIcon,children:j||"all"!==v?(0,s.jsx)(i.A,{}):(0,s.jsx)(l.A,{})}),(0,s.jsx)("h3",{className:k.emptyStateTitle,children:j||"all"!==v?"검색 결과가 없습니다":"아직 프로젝트가 없습니다"}),(0,s.jsx)("p",{className:k.emptyStateDescription,children:j||"all"!==v?"다른 검색어나 필터를 시도해보세요.":"새 프로젝트를 만들어서 타이핑 분석을 시작해보세요."}),p&&!j&&"all"===v&&(0,s.jsxs)(f.$,{variant:"primary",onClick:B,className:k.createButton,children:[(0,s.jsx)(l.A,{className:"w-4 h-4"}),"첫 번째 프로젝트 만들기"]})]})]})}let E={container:"container mx-auto px-4 py-6 max-w-7xl",loading:"flex items-center justify-center min-h-96",loadingText:"text-lg text-slate-600 dark:text-slate-400",error:"flex flex-col items-center justify-center min-h-96 text-center",errorTitle:"text-xl font-semibold text-red-600 dark:text-red-400 mb-2",errorMessage:"text-slate-600 dark:text-slate-400 mb-4",retryButton:"mt-4"},P=[];function T(){let[e,t]=(0,r.useState)(P),[a,l]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null);(0,r.useEffect)(()=>{n()},[]);let n=async()=>{try{l(!0),c(null);let e=await window.electronAPI.projects.getAll();if(!e.success)throw Error(e.error||"Projects API failed");let a=o(e.data||[]);t(a),w.V.info("PROJECTS_PAGE","✅ Loaded ".concat(a.length," projects successfully"))}catch(e){c(e instanceof Error?e.message:"프로젝트를 불러오는 중 오류가 발생했습니다."),w.V.error("PROJECTS_PAGE","❌ Failed to load projects",e),t(P)}finally{l(!1)}},o=e=>e.map(e=>({id:e.id||"",title:e.title||"제목 없음",description:e.description||"",status:e.status||"draft",progress:e.progress||0,createdAt:e.createdAt?new Date(e.createdAt):new Date,updatedAt:e.lastModified?new Date(e.lastModified):new Date,wordCount:e.wordCount||0,author:e.author||"사용자",genre:e.genre||"기타"}));return a?(0,s.jsx)("div",{className:E.container,children:(0,s.jsx)("div",{className:E.loading,children:(0,s.jsx)("div",{className:E.loadingText,children:"프로젝트를 불러오는 중..."})})}):i?(0,s.jsx)("div",{className:E.container,children:(0,s.jsxs)("div",{className:E.error,children:[(0,s.jsx)("h2",{className:E.errorTitle,children:"오류 발생"}),(0,s.jsx)("p",{className:E.errorMessage,children:i}),(0,s.jsx)("button",{onClick:()=>{w.V.info("PROJECTS_PAGE","Retry loading projects"),c(null),l(!0)},className:E.retryButton,type:"button",children:"다시 시도"})]})}):(0,s.jsx)("div",{className:E.container,children:(0,s.jsx)(S,{projects:e,onCreateProject:()=>{w.V.info("PROJECTS_PAGE","Create project requested"),alert("새 프로젝트 생성 기능을 구현 중입니다.")},onViewProject:e=>{w.V.info("PROJECTS_PAGE","View project: ".concat(e.id),{title:e.title}),alert("프로젝트 보기: ".concat(e.title))},onEditProject:e=>{w.V.info("PROJECTS_PAGE","Edit project: ".concat(e.id),{title:e.title}),alert("프로젝트 편집: ".concat(e.title))},onShareProject:e=>{w.V.info("PROJECTS_PAGE","Share project: ".concat(e.id),{title:e.title}),alert("프로젝트 공유: ".concat(e.title))},onDeleteProject:e=>{w.V.info("PROJECTS_PAGE","Delete project requested: ".concat(e.id),{title:e.title}),confirm('정말로 "'.concat(e.title,'" 프로젝트를 삭제하시겠습니까?'))&&(t(t=>t.filter(t=>t.id!==e.id)),w.V.info("PROJECTS_PAGE","Project deleted: ".concat(e.id)))}})})}},7596:(e,t,a)=>{Promise.resolve().then(a.bind(a,5913))}},e=>{var t=t=>e(e.s=t);e.O(0,[209,76,149,795,805,813,192,350,615,70,313,842,809,358],()=>t(7596)),_N_E=e.O()}]);