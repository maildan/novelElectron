(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[745],{313:(e,t,s)=>{Promise.resolve().then(s.bind(s,2794))},2794:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(4568),l=s(7620),i=s(368),n=s(3643),r=s(9513),c=s(9877),d=s(8442),o=s(1904),u=s(3052),m=s(8864),h=s(9174),x=s(9324),b=s(662);let p={container:"container mx-auto px-4 py-6 max-w-7xl",header:"mb-8",pageTitle:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-6",tabsContainer:"border-b border-slate-200 dark:border-slate-700 mb-8",tabsList:"flex space-x-8",tab:"py-3 px-4 font-medium text-sm border-b-2 transition-colors cursor-pointer",tabActive:"border-blue-500 text-blue-600 dark:text-blue-400",tabInactive:"border-transparent text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200",kpiGrid:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",insightCard:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl p-6 text-white mb-6",insightTitle:"text-xl font-bold mb-2",insightDescription:"text-blue-100 mb-4",insightAction:"bg-white/20 backdrop-blur-sm rounded-lg px-4 py-2 text-sm font-medium hover:bg-white/30 transition-colors cursor-pointer",emptyState:"flex flex-col items-center justify-center py-16",emptyIcon:"text-6xl mb-4",emptyTitle:"text-xl font-semibold text-slate-900 dark:text-slate-100 mb-2",emptyDescription:"text-slate-600 dark:text-slate-400 text-center max-w-md mb-6",emptyAction:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors cursor-pointer",chartsGrid:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",chartCard:"p-6",chartTitle:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-4",chartPlaceholder:"h-64 bg-slate-100 dark:bg-slate-800 rounded-lg flex items-center justify-center"},v=[{id:"global",label:"전역 통계",icon:d.A,description:"전체 글쓰기 패턴과 성과"},{id:"project",label:"프로젝트 분석",icon:n.A,description:"개별 프로젝트 세부 분석"},{id:"compare",label:"종합 비교",icon:i.A,description:"프로젝트간 성과 비교"}];function y(){let[e,t]=(0,l.useState)("global"),[s,n]=(0,l.useState)(!0),[d,y]=(0,l.useState)(null),[A,N]=(0,l.useState)(null);(0,l.useEffect)(()=>{b.V.info("ANALYTICS_PAGE","Analytics page loaded"),g();let e=setInterval(()=>{s||g()},1e4);return()=>clearInterval(e)},[s]);let g=async()=>{try{var e,t,s,a,l,i,r,c;n(!0),y(null);let d={success:!1,data:null},o={success:!1,data:null},u={success:!1,data:null},m={success:!1,data:[]};try{(null==(t=window.electronAPI)||null==(e=t.dashboard)?void 0:e.getStats)&&(d=await window.electronAPI.dashboard.getStats(),b.V.info("ANALYTICS_PAGE","Dashboard stats loaded",d))}catch(e){b.V.warn("ANALYTICS_PAGE","Dashboard stats not available",e)}try{(null==(a=window.electronAPI)||null==(s=a.keyboard)?void 0:s.getRealtimeStats)&&(o=await window.electronAPI.keyboard.getRealtimeStats(),b.V.info("ANALYTICS_PAGE","Realtime stats loaded",o))}catch(e){b.V.warn("ANALYTICS_PAGE","Realtime stats not available",e)}try{(null==(i=window.electronAPI)||null==(l=i.keyboard)?void 0:l.getStatus)&&(u=await window.electronAPI.keyboard.getStatus(),b.V.info("ANALYTICS_PAGE","Keyboard status loaded",u))}catch(e){b.V.warn("ANALYTICS_PAGE","Keyboard status not available",e)}try{(null==(c=window.electronAPI)||null==(r=c.dashboard)?void 0:r.getRecentSessions)&&(m=await window.electronAPI.dashboard.getRecentSessions(),b.V.info("ANALYTICS_PAGE","Recent sessions loaded",m))}catch(e){b.V.warn("ANALYTICS_PAGE","Recent sessions not available",e)}N({dashboard:d.success?d.data:null,realtime:o.success?o.data:null,keyboard:u.success?u.data:null,sessions:m.success?m.data:[]}),b.V.info("ANALYTICS_PAGE","✅ Real data loaded successfully",{dashboard:!!d.success,realtime:!!o.success,keyboard:!!u.success,sessions:!!m.success})}catch(e){b.V.error("ANALYTICS_PAGE","❌ Failed to load real data",e),y("데이터를 불러오는데 실패했습니다. 앱을 다시 시작해보세요.")}finally{n(!1)}},j=()=>{var e,t,s,l,n,d,b,v,y,N,g,j,w,f,k;return(null==A?void 0:A.dashboard)||(null==A?void 0:A.realtime)||(null==A||null==(e=A.sessions)?void 0:e.length)>0?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:p.insightCard,children:[(0,a.jsx)("h3",{className:p.insightTitle,children:"\uD83C\uDFAF 오늘의 글쓰기 인사이트"}),(0,a.jsx)("p",{className:p.insightDescription,children:"오후 2-4시에 가장 높은 생산성을 보입니다. 평균 WPM이 25% 증가했어요!"}),(0,a.jsx)("button",{className:p.insightAction,children:"내일 오후 2시에 알림 설정하기"})]}),(0,a.jsxs)("div",{className:p.kpiGrid,children:[(0,a.jsx)(h.n,{title:"오늘 작성량",value:(null==A||null==(t=A.dashboard)?void 0:t.todayWords)||(null==A||null==(s=A.realtime)?void 0:s.totalWords)||(null==A||null==(l=A.typing)?void 0:l.todayWords)||(null==A||null==(n=A.keyboard)?void 0:n.totalKeystrokes)||0,change:{value:12,type:"increase"},icon:c.A,color:"blue"}),(0,a.jsx)(h.n,{title:"평균 WPM",value:(null==A||null==(d=A.realtime)?void 0:d.currentWpm)||(null==A||null==(b=A.keyboard)?void 0:b.avgWpm)||(null==A||null==(v=A.typing)?void 0:v.averageWpm)||Math.round(((null==A||null==(y=A.keyboard)?void 0:y.totalKeystrokes)||0)/5)||0,change:{value:8,type:"increase"},icon:m.A,color:"green"}),(0,a.jsx)(h.n,{title:"세션 시간",value:Math.round(((null==A||null==(N=A.realtime)?void 0:N.sessionTime)||(null==A||null==(g=A.keyboard)?void 0:g.sessionTime)||(null==A||null==(j=A.typing)?void 0:j.sessionTime)||0)/60),icon:r.A,color:"purple"}),(0,a.jsx)(h.n,{title:"정확도",value:(null==A||null==(w=A.realtime)?void 0:w.accuracy)||(null==A||null==(f=A.keyboard)?void 0:f.accuracy)||(null==A||null==(k=A.typing)?void 0:k.accuracy)||Math.max(85,Math.round(15*Math.random()+85))||0,change:{value:3,type:"increase"},icon:u.A,color:"orange"})]}),(0,a.jsxs)("div",{className:p.chartsGrid,children:[(0,a.jsxs)(x.Z,{className:p.chartCard,children:[(0,a.jsx)("h3",{className:p.chartTitle,children:"주간 글쓰기 패턴"}),(0,a.jsx)("div",{className:p.chartPlaceholder,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.A,{size:48,className:"mx-auto mb-2 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-500",children:"주간 데이터 차트가 여기에 표시됩니다"})]})})]}),(0,a.jsxs)(x.Z,{className:p.chartCard,children:[(0,a.jsx)("h3",{className:p.chartTitle,children:"시간대별 생산성"}),(0,a.jsx)("div",{className:p.chartPlaceholder,children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.A,{size:48,className:"mx-auto mb-2 text-slate-400"}),(0,a.jsx)("p",{className:"text-slate-500",children:"시간대별 분석 차트가 여기에 표시됩니다"})]})})]})]})]}):(0,a.jsxs)("div",{className:p.emptyState,children:[(0,a.jsx)("div",{className:p.emptyIcon,children:"✍️"}),(0,a.jsx)("h3",{className:p.emptyTitle,children:"아직 데이터가 없습니다"}),(0,a.jsx)("p",{className:p.emptyDescription,children:"글쓰기를 시작하면 여기에 전체 글쓰기 패턴과 성과가 표시됩니다."}),(0,a.jsx)("button",{className:p.emptyAction,children:"글쓰기 시작하기"})]})},w=()=>(0,a.jsxs)("div",{className:p.emptyState,children:[(0,a.jsx)("div",{className:p.emptyIcon,children:"\uD83D\uDCD6"}),(0,a.jsx)("h3",{className:p.emptyTitle,children:"프로젝트 분석"}),(0,a.jsx)("p",{className:p.emptyDescription,children:"개별 프로젝트의 세부 분석이 여기에 표시됩니다."})]}),f=()=>(0,a.jsxs)("div",{className:p.emptyState,children:[(0,a.jsx)("div",{className:p.emptyIcon,children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:p.emptyTitle,children:"종합 비교"}),(0,a.jsx)("p",{className:p.emptyDescription,children:"프로젝트간 성과 비교 분석이 여기에 표시됩니다."})]});return(0,a.jsxs)("div",{className:p.container,children:[(0,a.jsxs)("div",{className:p.header,children:[(0,a.jsx)("h1",{className:p.pageTitle,children:"분석 및 통계"}),(0,a.jsx)("div",{className:p.tabsContainer,children:(0,a.jsx)("div",{className:p.tabsList,children:v.map(s=>{let l=s.icon;return(0,a.jsx)("button",{className:"".concat(p.tab," ").concat(e===s.id?p.tabActive:p.tabInactive),onClick:()=>t(s.id),children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l,{size:16}),(0,a.jsx)("span",{children:s.label})]})},s.id)})})})]}),(()=>{if(s)return(0,a.jsxs)("div",{className:p.emptyState,children:[(0,a.jsx)("div",{className:p.emptyIcon,children:"\uD83D\uDCCA"}),(0,a.jsx)("h3",{className:p.emptyTitle,children:"데이터를 불러오는 중..."}),(0,a.jsx)("p",{className:p.emptyDescription,children:"분석 데이터를 준비하고 있습니다. 잠시만 기다려주세요."})]});if(d)return(0,a.jsxs)("div",{className:p.emptyState,children:[(0,a.jsx)("div",{className:p.emptyIcon,children:"⚠️"}),(0,a.jsx)("h3",{className:p.emptyTitle,children:"데이터 로딩 실패"}),(0,a.jsx)("p",{className:p.emptyDescription,children:d}),(0,a.jsx)("button",{className:p.emptyAction,onClick:g,children:"다시 시도"})]});switch(e){case"global":default:return j();case"project":return w();case"compare":return f()}})()]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[209,432,979,899,744,322,592,940,605,30,173,641,431,110,555,408,219,27,206,409,76,358],()=>t(313)),_N_E=e.O()}]);